/*! ts-gis - v1.2.0-beta6 - 2018-03-06 11:35:19
* http://www.gsafety.com
* Copyright (c) 2018 gsafety; Licensed:  */
!function(){var a,b,c,d,e,f,g,j,k,l,m,n,o,q,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,Yb,Zb,$b,_b,ac,bc,cc,dc,ec,fc,gc,hc,ic,jc,kc,lc,mc,nc,oc,pc,qc,rc,sc,tc,uc,vc,wc,xc,yc,zc,Ac,Bc,Cc,Dc,Ec,Fc,Gc,Hc,Ic,Jc,Kc,Lc,Mc,Nc,Oc,Pc,Qc,Rc,Sc,Tc,Uc,Vc,Wc,Xc,Yc,Zc,$c,_c,ad,bd,cd,dd,ed,fd,gd,hd,id,jd,kd,ld,md,nd,od,pd,qd,rd,sd,td,ud,vd,wd,xd,yd,zd,Ad,Bd,Cd,Dd,Ed,Fd,Gd,Hd,Id,Jd,Kd,Ld,Md,Nd,Od,Pd,Qd,Rd,Sd,Td,Ud,Vd,Wd,Xd,Yd,Zd,$d,_d,ae,be,ce,de,ee,fe,ge,he,ie,je,ke,le,me,ne,oe,qe,re,se,te,ue,ve,we,xe,ye,ze,Ae,Be,Ce,De,Ee,Fe,Ge,He,Ie,Je,Ke,Le,Me,Ne,Oe,Pe,Qe,Re,Se,Te,Ue,Ve,We,Xe,Ye,Ze,$e,_e,af,bf,cf,df,ef,ff,gf,hf,jf,kf,lf,mf,nf,of,pf,qf,rf,sf,tf,uf,vf,wf,xf,yf,zf,Af,Bf,Cf,Df,Ef,Ff,Gf,Hf,If,Jf,Kf,Lf,Mf,Nf,Of,Pf,Qf,Rf,Sf,Tf,Uf,Vf,Wf,Xf,Yf,Zf,$f,_f,ag,bg,cg,dg,eg,fg,gg,hg,ig,jg,kg,lg,mg,ng,og,pg,qg,rg,sg,tg,ug,vg,wg,xg,yg,zg,Ag,Bg,Cg,Dg,Eg,Fg,Gg,Hg,Ig,Jg,Kg,Lg,Mg,Ng,Og,Pg,Qg,Rg,Sg,Tg,Ug,Vg,Wg,Xg,Yg,Zg,$g,_g,ah,bh,ch,dh,eh,fh,gh,hh,ih,jh,kh,lh,mh,nh,oh,ph,qh,rh,sh,th,uh,vh,wh,xh,yh,zh,Ah,Bh,Ch,Dh,Eh,Fh,Gh,Hh,Ih,Jh,Kh,Lh,Mh,Nh,Oh,Ph,Qh,Rh,Sh,Th,Uh,Vh,Wh,Xh,Yh,Zh,$h,_h,ai,bi,ci,di,ei,fi,gi,hi,ii,ji,ki,li,mi,ni,oi,qi,ri,si,ti,ui,vi,wi,xi,yi,zi,Ai,Bi,Ci,Di,Ei,Fi,Gi,Hi,Ii,Ji,Ki,Li,Mi,Ni,Oi,Pi,Qi,Ri,Si,Ti,Ui,Vi,Wi,Xi,Yi,Zi,$i,_i,aj,bj,cj,dj,ej,fj,gj,hj,ij,jj,kj,lj,mj,nj,oj,pj,qj,rj,sj,tj,uj,vj,wj,xj,yj,zj,Aj,Bj,Cj,Dj,Ej,Fj,Gj,Hj,Ij,Jj,Kj;a=function(){var a=function(a){};return a.addClassCollection=function(a){for(var b in a){var c=a[b];for(var d in c){var e=c[d];if("function"==typeof e)try{var f=new e({});if(f.hasOwnProperty("$type")===!0){var g=f.$type.split(",")[0].trim();this[g]=e}}catch(h){}}}},a.addClass=function(a,b){this[a]=b},a}(),b=function(){function a(a,c){var d=c.prototype,e=a.prototype;for(var f in d)e[f]=d[f];e.uber=d,b(a)}function b(b){b.extend=function(b){var c=this,d="function"==typeof b.initialize?b.initialize:function(a){c.call(this,a||{})};a(d,this);for(var e in b)b.hasOwnProperty(e)&&"prototype"!==e&&"initialize"!=e&&(d.prototype[e]=b[e]);return d}}function c(a,b){var b=b||{};for(var d in a)"object"==typeof a[d]?(b[d]=a[d].constructor===Array?[]:{},c(a[d],b[d])):b[d]=a[d];return b}var d=1e4,e=function(){};return e.extend2=function(b,c){a(b,c)},e.extend=function(a,b){var c="function"==typeof b.initialize?b.initialize:function(b){var c=b||{};a.call(this,c)};e.extend2(c,a);for(var d in b)b.hasOwnProperty(d)&&"prototype"!==d&&"initialize"!=d&&(c.prototype[d]=b[d]);return c},e.isArray=function(a){return!!a&&a.constructor==Array},e.newId=function(){return d++},e.extendCopy=function(a){var b={};for(var c in a)b[c]=a[c];return b.uber=a,b},e.deepCopy=c,e.objectPlus=function(a,b){function c(){}var d;c.prototype=a,d=new c,d.uber=a;for(var e in b)d[e]=b[e];return d},e.extendMulti=function(){var a,b={},c=0,d=arguments.length;for(c=0;d>c;c++){a=arguments[c];for(var e in a)b[e]=a[e]}return b},e}(),c=function(a){function b(a){if("string"==typeof a||a instanceof String){var b=/\/Date\([0-9]+-0800\)\//,c=a.match(b);if(c)return!0}return!1}function c(a){var b=/[0-9]+/,c=a.match(b),d=parseInt(c[0]),e=new Date(d);return e}var d=function(b){this.classTable=a};return d.prototype.deepCreate=function(a,d){for(var e in a)if(a[e]instanceof Array)d[e]=[],this.deepCreate(a[e],d[e]);else if(a[e]&&"object"==typeof a[e]){if(!a[e].$type)continue;var f=a[e].$type.split(",")[0].trim();if(!this.classTable[f]){console.log("msgType is not exist: ",f);continue}d[e]=new this.classTable[f],this.deepCreate(a[e],d[e])}else b(a[e])?d[e]=c(a[e]):"$type"!=e&&(d[e]=a[e]);return d},d.prototype.createJsInstance=function(a){if(!a)return a;var b,c;if(a instanceof Array)return c=[],b=a,this.deepCreate(b,c),c;b="object"==typeof a?a:JSON.parse(a);var d=b.$type.split(",")[0].trim(),c=new this.classTable[d];return this.deepCreate(b,c),c},d}(a),d=function(){var a=function(){};return a.prototype.newGuid=function(){var a=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},new a}(),e=function(){var a=function(){};return a.prototype.localization=function(){return""},a}(),f=function(){var a=function(){};return a.prototype.info=function(){},a.prototype.error=function(){},a.prototype.warn=function(){},a}(),g=function(){var a=function(){};return a.prototype.setScope=function(){},a.prototype.activeView=function(){},a.prototype.showView=function(){},a}(),j=function(){var a=function(){};return a.prototype.show=function(){return{result:{then:function(){}}}},a}(),k=function(){var a=function(){};return a.prototype.show=function(){},a.prototype.close=function(){},a.prototype.status=function(){return!1},a}(),l=function(){var a=function(){};return a.prototype.error=function(){},a.prototype.notify=function(){},a}(),m=function(){var a=function(){this._entrys=new Array,this.put=function(a,b){if(null!=a&&void 0!=a){var c=this._getIndex(a);if(-1==c){var d=new Object;d.key=a,d.value=b,this._entrys[this._entrys.length]=d}else this._entrys[c].value=b}},this.get=function(a){var b=this._getIndex(a);return-1!=b?this._entrys[b].value:null},this.remove=function(a){var b=this._getIndex(a);-1!=b&&this._entrys.splice(b,1)},this.clear=function(){this._entrys.length=0},this.contains=function(a){var b=this._getIndex(a);return-1!=b?!0:!1},this.getCount=function(){return this._entrys.length},this.getEntrys=function(){return this._entrys},this._getIndex=function(a){if(null==a||void 0==a)return-1;for(var b=this._entrys.length,c=0;b>c;c++){var d=this._entrys[c];if(null!=d&&void 0!=d&&d.key===a)return c}return-1}};return a}(),n=function(){var a=function(){};return a.prototype.convertPngToBase64=function(a,b){var c=document.createElement("canvas"),d=c.getContext("2d"),e=new Image;e.crossOrigin="Anonymous",e.onload=function(){var a;c.height=e.height,c.width=e.width,d.drawImage(e,0,0),a=c.toDataURL("image/png"),b.call(this,a),c=null},e.src=a},a.prototype.convertPngToBase64NoHeader=function(a,b){var c=document.createElement("canvas"),d=c.getContext("2d"),e=new Image;e.crossOrigin="Anonymous",e.onload=function(){var a;c.height=e.height,c.width=e.width,d.drawImage(e,0,0),a=c.toDataURL("image/png").replace("data:image/png;base64,",""),b.call(this,a),c=null},e.src=a},a.prototype.convertSvgToBase64=function(a,b){jQuery.ajax({url:a,dataType:"xml",async:!1,success:function(a){jQuery(a).find("svg").each(function(){var a=(new XMLSerializer).serializeToString(jQuery(this)[0]),c="data:image/svg+xml;base64,"+window.btoa(a);b.call(this,c)})}})},a.prototype.convertSvgToBase64NoHeader=function(a,b){jQuery.ajax({url:a,dataType:"xml",async:!1,success:function(a){jQuery(a).find("svg").each(function(){var a=(new XMLSerializer).serializeToString(jQuery(this)[0]),c=window.btoa(a);b.call(this,c)})}})},a}(),window.g2=window.g2||{},window.g2.lang={ClassTable:null,ClassUtil:null,Deserializer:null,Guid:null,HashMap:null},window.g2.plugin={Localize:null,LogWriter:null,MessageBox:null,Progress:null,PromptBox:null,ViewFacade:null},window.g2.extension={PictureConvert:null},window.g2.frm=window.g2.frm||{},o=function(a,b,c,d,e,f,g,h,i,j,k,l){window.g2.lang.ClassTable=a,window.g2.lang.ClassUtil=b,window.g2.lang.Deserializer=c,window.g2.lang.Guid=d,window.g2.lang.HashMap=k,window.g2.plugin.Localize=e,window.g2.plugin.LogWriter=f,window.g2.plugin.ViewFacade=g,window.g2.plugin.MessageBox=h,window.g2.plugin.Progress=i,window.g2.plugin.PromptBox=j,window.g2.extension.PictureConvert=l,window.g2.frm.ClassUtil=b,window.g2.frm.Guid=d}(a,b,c,d,e,f,g,j,k,l,m,n),q=function(){var a={EPSG3857:3857,EPSG4326:4326,EPSG4509:4509,EPSG2436:2436,EPSG4490:4490,EPSG102100:102100};return a}(),s=function(){var a={Geometry:0,Point:1,Curve:2,Segment:3,Envelope:4,Line:5,Rectangle:6,Square:7,Circle:8,Ellipse:9,Path:10,Ring:11,PolyCurve:12,Polyline:13,Polygon:14,MultiPoint:15,MultiPolygon:16,GeometryBag:17};return a}(),t=function(a){var b=function(a){this.$type="Geometry,http://www.Gs.com";var b=a||{};this.spatialReference=b.spatialReference};return b.tolerate=1e-12,b.prototype.setSpatialReference=function(a){this.spatialReference=a},b.prototype.getSpatialReference=function(){return this.spatialReference},b.prototype.getGeometryType=function(){return a.Geometry},b.prototype.spatialReference=0,b.prototype.equals=function(){return!1},b.prototype.normalize=function(){},b.prototype.offset=function(){},b.prototype.copy=function(){return new b(this)},b.prototype.envelope=function(){},b.prototype.getBaryCenter=function(){},b.prototype.asWkt=function(){},b.prototype.asGeoJson=function(){},b.prototype.points2WKT=function(a,b){for(var c="",d="{0} {1}",e=0,f=a.length;f>e;++e){var g=a[e];c+=b?","+d.replace("{0}",g.x.toFixed(b)).replace("{1}",g.y.toFixed(b)):","+d.replace("{0}",g.x).replace("{1}",g.y)}return"({0})".replace("{0}",c.substr(1))},b.prototype.getPointsArray=function(a,b){for(var c=a.length,d=[],e=0;c>e;e++){var f=[];b?(f.push(a[e].x.toFixed(b)),f.push(a[e].y.toFixed(b))):(f.push(a[e].x),f.push(a[e].y)),d.push(f)}return d},b}(s),u=function(a,b,c){var d=function(a){b.call(this),a?(this.minx=a.minx,this.maxx=a.maxx,this.miny=a.miny,this.maxy=a.maxy):(this.minx=this.miny=Number.MAX_VALUE,this.maxx=this.maxy=-Number.MAX_VALUE),this.$type="Envelope,http://www.Gs.com"};return a.extend2(d,b),d.prototype.getGeometryType=function(){return c.Envelope},d.prototype.envelope=function(){return this},d.prototype.copy=function(){return new d(this)},d.prototype.normalize=function(){var a=this.minx,b=this.maxx,c=this.miny,d=this.maxy;this.minx=Math.min(a,b),this.maxx=Math.max(a,b),this.miny=Math.min(c,d),this.maxy=Math.max(c,d)},d.prototype.offset=function(a){this.minx+=a.x,this.maxx+=a.x,this.miny+=a.y,this.maxy+=a.y},d.prototype.expand=function(a){var b=this.width()*a,c=this.height()*a,e=this.minx-b,f=this.maxx+b,g=this.miny-c,h=this.maxy+c;return new d({minx:e,maxx:f,miny:g,maxy:h})},d.prototype.center=function(){var a=v,b=(this.minx+this.maxx)/2,c=(this.miny+this.maxy)/2;return new a({x:b,y:c,spatialReference:this.spatialReference})},d.prototype.width=function(){return this.maxx-this.minx},d.prototype.height=function(){return this.maxy-this.miny},d.prototype.union=function(a){isNaN(this.minx)&&(this.minx=Number.MAX_VALUE),isNaN(this.miny)&&(this.miny=Number.MAX_VALUE),isNaN(this.maxx)&&(this.maxx=-Number.MAX_VALUE),isNaN(this.maxy)&&(this.maxy=-Number.MAX_VALUE);var b=new d({minx:this.minx>a.minx?a.minx:this.minx,miny:this.miny>a.miny?a.miny:this.miny,maxx:this.maxx>a.maxx?this.maxx:a.maxx,maxy:this.maxy>a.maxy?this.maxy:a.maxy});return b},d.prototype.asWkt=function(a){var b=[],c=this;b.push({x:c.minx,y:c.miny}),b.push({x:c.minx,y:c.maxy}),b.push({x:c.maxx,y:c.maxy}),b.push({x:c.maxx,y:c.miny}),b.push({x:c.minx,y:c.miny});var d=c.points2WKT(b,a);return"polygon({0})".replace("{0}",d)},d}(b,t,s),v=function(a,b,c,d){var e=function(a){var c=a||{};b.call(this,c),this.x=void 0==c.x?0:c.x,this.y=void 0==c.y?0:c.y,this.z=void 0==c.z?0:c.z,this.$type="Point,http://www.Gs.com"};return a.extend2(e,b),e.prototype.getGeometryType=function(){return c.Point},e.prototype.equals=function(a){return this===a?!0:null!=a&&a.getGeometryType()===c.Point?Math.abs(this.x-a.x)<b.tolerate&&Math.abs(this.y-a.y)<b.tolerate:!1},e.prototype.offset=function(a){this.x+=a.x||0,this.y+=a.y||0,this.z+=a.z||0},e.prototype.envelope=function(){return new d({minx:this.x,maxx:this.x,miny:this.y,maxy:this.y})},e.prototype.copy=function(){var a=new e(this);return a},e.prototype.getBaryCenter=function(){return{x:this.x,y:this.y}},e.prototype.asWkt=function(a){var b=this;return a?"point({0} {1})".replace("{0}",b.x.toFixed(a)).replace("{1}",b.y.toFixed(a)):"point({0} {1})".replace("{0}",b.x).replace("{1}",b.y)},e.prototype.asGeoJson=function(a){var b={type:"Point",coordinates:[]};return a?(b.coordinates.push(this.x.toFixed(a)),b.coordinates.push(this.y.toFixed(a))):(b.coordinates.push(this.x),b.coordinates.push(this.y)),b},e}(b,t,s,u),w=function(a,b,c){var d=function(a){var b=a||{};c.call(this,b),this.$type="Curve,http://www.Gs.com"};return a.extend2(d,c),d.prototype.getGeometryType=function(){return b.Segment},d.prototype.copy=function(){return new d(this)},d}(b,s,t),x=function(a,b,c){var d=function(a){var d=a||{};b.call(this,d),this.geometryType=c.Segment,this.$type="Segment,http://www.Gs.com"};return a.extend2(d,b),d.prototype.getGeometryType=function(){return this.geometryType},d}(b,w,s),y=function(a,b,c){var d=function(a){var c=a||{};b.call(this,c),this.$type="Line,http://www.Gs.com"};return a.extend2(d,b),d.prototype.getGeometryType=function(){return c.Line},d.prototype.copy=function(){return new d(this)},d.prototype.envelope=function(){return null},d}(b,x,s),z=function(){var a=function(){};return a.prototype.addPoint=function(){},a.prototype.insertPoint=function(){},a.prototype.removePoint=function(){},a.prototype.removeAllPoint=function(){},a.prototype.getPointCount=function(){},a.prototype.getPoint=function(){},a.prototype.indexOfPoint=function(){},a.prototype.replacePoint=function(){},a.prototype.isPointEmpty=function(){return!0},a}(),A=function(){var a=function(){};return a.prototype.addGeometry=function(){},a.prototype.insertGeometry=function(){},a.prototype.removeGeometry=function(){},a.prototype.removeAllGeometry=function(){},a.prototype.indexOfGeometry=function(){},a.prototype.isGeometryEmpty=function(){},a.prototype.getGeometryCount=function(){},a.prototype.getGeometry=function(){},a}(),B=function(a,b,c,d,e,f){var g=function(a){b.call(this,a||{}),c.call(this,a||{}),this.points=[],this.$type="Path,http://www.Gs.com"};return a.extend2(g,b),a.extend2(g,c),g.prototype.getGeometryType=function(){return d.Path},g.prototype.startPoint=function(){return this.points.length>0?this.points[0]:null},g.prototype.endPoint=function(){return this.points.length>1?this.points[this.points.length-1]:null},g.prototype.offset=function(a){for(var b=0,c=this.points.length;c>b;++b)this.points[b].offset(a);return this},g.prototype.addPoint=function(b){a.isArray(b)?this.points=this.points.concat(b):this.points.push(b)},g.prototype.insertPoint=function(a,b){this.points.splice(a,0,b)},g.prototype.removePoint=function(a){var b=this.points.indexOf(a);this.points.splice(b,1)},g.prototype.removeAllPoint=function(){this.points.splice(0,this.points.length)},g.prototype.getPointCount=function(){return this.points.length},g.prototype.getPoint=function(a){return this.points[a]},g.prototype.isPointEmpty=function(){return 0==this.points.length},g.prototype.indexOf=function(a){return this.points.indexOf(a)},g.prototype.getPartPoint=function(a){if(0>=a)return this.points[0];var b=this.points.length,c=this.length();if(a>=c)return this.points[b-1];for(var d,f,g,h=0,i=0,j=b-1;j>i;++i){if(d=this.points[i],f=this.points[i+1],g=Math.sqrt(Math.pow(d.x-f.x,2)+Math.pow(d.y-f.y,2)),h+g>=a){var k=(a-h)/g;return new e({x:d.x+(f.x-d.x)*k,y:d.y+(f.y-d.y)*k})}h+=g}return this.points[b-1]},g.prototype.length=function(){for(var a=0,b=0,c=this.points.length-1;c>b;b++)a+=Math.sqrt(Math.pow(this.points[b+1].x-this.points[b].x,2)+Math.pow(this.points[b+1].y-this.points[b].y,2));return a},g.prototype.getPoint=function(a){return this.points[a]},g.prototype.normalize=function(){for(var a=[],b=0;b<this.points.length-1;++b){var c=this.points[b],d=this.points[b+1];c.equals(d)&&a.push(c)}for(var e=0;e<a.length;e++){var f=a[e];this.removePoint(f)}},g.prototype.copy=function(){for(var a=new g,b=0,c=this.points.length;c>b;++b)a.addPoint(this.points[b].copy());return a},g.prototype.setSpatialReference=function(a){this.spatialReference=a;for(var b=0,c=this.points.length;c>b;++b)this.points[b].setSpatialReference(a)},g.prototype.envelope=function(){for(var a=miny=Number.MAX_VALUE,b=maxy=-Number.MAX_VALUE,c=0,d=this.points.length;d>c;++c){var e=this.points[c];a>e.x&&(a=e.x),b<e.x&&(b=e.x),miny>e.y&&(miny=e.y),maxy<e.y&&(maxy=e.y)}return new f({minx:a,maxx:b,miny:miny,maxy:maxy,spatialReference:this.spatialReference})},g}(b,w,z,s,v,u),C=function(a,b,c){var d=function(a){b.call(this,a||{}),this.$type="Ring,http://www.Gs.com"};return a.extend2(d,b),d.prototype.getGeometryType=function(){return c.Ring},d.prototype.addPoint=function(b){if(a.isArray(b))this.points=this.points.concat(b);else if(this.isClose()){var c=this.points.length-2;this.points.splice(c,0,b)}else this.points.push(b)},d.prototype.isClose=function(){if(this.getPointCount()>2){var a=this.getPoint(0),b=this.getPoint(this.getPointCount()-1);if(a.equals(b))return!0}return!1},d.prototype.close=function(){if(!this.isClose()&&!this.isPointEmpty()){var a=this.getPoint(0);this.addPoint(a.copy())}},d.prototype.endPoint=function(){if(this.points.length>1){var a=this.isClose()?this.points.length-2:this.points.length-1;return this.getPoint(a)}return null},d.prototype.normalize=function(){this.close(),d.prototype.uber.normalize.call(this)},d.prototype.copy=function(){for(var a=new d,b=0,c=this.points.length;c>b;++b)a.addPoint(this.points[b].copy());return a.spatialReference=this.spatialReference,a},d.prototype.area=function(){var a=this.points.length;if(3>a)return 0;for(var b=this.points[0].y*(this.points[a-1].x-this.points[1].x),c=1;a>c;c++)b+=this.points[c].y*(this.points[c-1].x-this.points[(c+1)%a].x);return.5*b},d}(b,B,s,v),D=function(a,b,c,d,e,f){var g=function(a){b.call(this,a),c.call(this,a),this.$type="PolyCurve,http://www.Gs.com"};return a.extend2(g,b),a.extend2(g,c),g.prototype.getGeometryType=function(){return d.PolyCurve},g.prototype.setSpatialReference=function(a){this.spatialReference=a;for(var b=0;b<this.getGeometryCount();++b){var c=this.getGeometry(b);c.setSpatialReference(a)}},g.prototype.getSpatialReference=function(){return this.spatialReference},g.prototype.envelope=function(){for(var a=new f({minx:Number.MAX_VALUE,miny:Number.MAX_VALUE,maxx:-Number.MAX_VALUE,maxy:-Number.MAX_VALUE}),b=0;b<this.getPointCount();++b){var c=this.getPoint(b);a.minx=Math.min(c.x,a.minx),a.maxx=Math.max(c.x,a.maxx),a.miny=Math.min(c.y,a.miny),a.maxy=Math.max(c.y,a.maxy)}return a},g.prototype.copy=function(){return new g(this)},g}(b,w,A,s,v,u),E=function(a,b,c,d,e,f){var g=function(a){var d=a||{};b.call(this,d),c.call(this,d),this.paths=[],this.$type="Polyline,http://www.Gs.com"};return a.extend2(g,b),a.extend2(g,c),g.prototype.getGeometryType=function(){return d.Polyline},g.prototype.addGeometry=function(a){a.getGeometryType()==d.Path&&this.paths.push(a)},g.prototype.insertGeometry=function(a,b){b.getGeometryType()==d.Path&&this.paths.splice(a,0,b)},g.prototype.removeGeometry=function(a){if(a.getGeometryType()==d.Path){var b=this.paths.indexOf(a);this.paths.splice(b,1)}},g.prototype.length=function(){for(var a=0,b=0,c=this.paths.length;c>b;++b)a+=this.paths[b].length();return a},g.prototype.removeAllGeometry=function(){this.paths.splice(0,this.points.length)},g.prototype.getGeometryCount=function(){return this.paths.length},g.prototype.getGeometry=function(a){return this.paths[a]},g.prototype.indexOfGeometry=function(a){this.paths.indexOf(a)},g.prototype.isGeometryEmpty=function(){return 0==this.paths.length},g.prototype.addPoint=function(a){var b=this.last();null!=b&&b.addPoint(a)},g.prototype.getPartPoint=function(a){return this.paths[0].getPartPoint(a)},g.prototype.startPoint=function(){return this.paths[0].startPoint()},g.prototype.endPoint=function(){return this.paths[0].endPoint()},g.prototype.insertPoint=function(a,b){var c=this.last();null!=c&&c.insertPoint(a,b)},g.prototype.removePoint=function(a){for(var b=0,c=this.paths.length;c>b;++b)this.paths[b].removePoint(a)},g.prototype.removeAllPoint=function(){for(var a=0,b=this.paths.length;b>a;++a)this.paths[a].removeAllPoint();this.paths.splice(0,this.paths.length)},g.prototype.getPointCount=function(){for(var a=0,b=0,c=this.paths.length;c>b;++b)a+=this.paths[b].getPointCount();return a},g.prototype.getPoint=function(a){for(var b=0,c=0,d=this.paths.length;d>c;++c){var e=this.paths[c];if(b+=e.getPointCount(),b>a)return e.getPoint(e.getPointCount()-(b-a))}},g.prototype.indexOfPoint=function(a){for(var b=0,c=0,d=this.paths.length;d>c;++c){var e=this.paths[c],f=e.indexOf(a);if(-1!=f)return b+f;b+=e.getPointCount()}return-1},g.prototype.isPointEmpty=function(){return 0==this.getPointCount()},g.prototype.copy=function(){var a=new g;a.spatialReference=this.spatialReference;for(var b=0,c=this.paths.length;c>b;++b)a.addGeometry(this.paths[b].copy());return a},g.prototype.setSpatialReference=function(a){this.spatialReference=a;for(var b=0,c=this.paths.length;c>b;++b)this.paths[b].setSpatialReference(a)},g.prototype.first=function(){if(this.paths.length>0){var a=this.getGeometry(0);return a}},g.prototype.last=function(){if(this.paths.length>0){var a=this.getGeometry(this.paths.length-1);return a}},g.prototype.envelope=function(){for(var a=new f({spatialReference:this.spatialReference}),b=0,c=this.paths.length;c>b;++b)a=a.union(this.paths[b].envelope());return a},g.prototype.offset=function(a){for(var b=0,c=this.paths.length;c>b;++b)this.paths[b].offset(a);return this},g.prototype.middlePoint=function(){for(var a=this.length()/2,b=0,c=0,d=0,e=this.paths.length;e>d;++d){var f=this.paths[d];if(c=f.length(),b+c>=a)return f.getPartPoint(a-b);b+=c}return this},g.prototype.normalize=function(){for(var a=0,b=this.paths.length;b>a;++a)this.paths[a].normalize()},g.prototype.asWkt=function(a){var b=this,c=b.getGeometryCount();if(1==c){var d=b.getGeometry(0).points,e=b.points2WKT(d,a);return"linestring{0}".replace("{0}",e)}if(c>1){for(var f="",g=0;c>g;++g){var d=b.getGeometry(g).points,e=b.points2WKT(d,a);f+=","+e}return"multilinestring({0})".replace("{0}",f.substr(1))}},g.prototype.asGeoJson=function(a){var b={type:"",coordinates:[]},c=this.getGeometryCount();b.type=1==c?"LineString":"MultiLineString";for(var d=0;c>d;d++){var e=this.getGeometry(d).points;b.coordinates.push(this.getPointsArray(e,a))}return b},g}(b,D,z,s,v,u),F=function(a,b,c,d,e,f){var g=function(a){var d=a||{};b.call(this,d),c.call(this,d),this.rings=[],this.$type="Polygon,http://www.Gs.com"};a.extend2(g,b),a.extend2(g,c),g.prototype.getGeometryType=function(){return d.Polygon},g.prototype.isClose=function(){if(this.isGeometryEmpty())return!1;for(var a=0,b=this.rings.length;b>a;++a){var c=this.rings[a];if(!c.isClose())return!1}return!0},g.prototype.close=function(){for(var a=0,b=this.rings.length;b>a;++a){var c=this.rings[a];c.isClose()||c.close()}},g.prototype.addGeometry=function(a){a.getGeometryType()==d.Ring&&this.rings.push(a)},g.prototype.insertGeometry=function(a,b){b.getGeometryType()==d.Ring&&this.rings.splice(a,0,b)},g.prototype.removeGeometry=function(a){if(a.getGeometryType()==d.Ring){var b=this.rings.indexOf(a);this.rings.splice(b,1)}},g.prototype.removeAllGeometry=function(){this.rings.splice(0,this.rings.length)},g.prototype.getGeometryCount=function(){return this.rings.length},g.prototype.getGeometry=function(a){return this.rings[a]},g.prototype.indexOfGeometry=function(a){this.rings.indexOf(a)},g.prototype.isGeometryEmpty=function(){return 0==this.rings.length},g.prototype.addPoint=function(a){var b=this.last();null!=b&&b.addPoint(a)},g.prototype.insertPoint=function(a,b){var c=this.last();null!=c&&c.insertPoint(a,b)},g.prototype.removePoint=function(a){for(var b=0,c=this.rings.length;c>b;++b){var d=this.rings[b];d.removePoint(a)}},g.prototype.removeAllPoint=function(){for(var a=0,b=this.rings.length;b>a;++a){var c=this.rings[a];c.removeAllPoint(v)}},g.prototype.getPointCount=function(){for(var a=0,b=0,c=this.rings.length;c>b;++b){var d=this.rings[b];a+=d.getPointCount()}return a},g.prototype.getPoint=function(a){for(var b=0,c=0,d=this.rings.length;d>c;++c){var e=this.rings[c];if(b+=e.getPointCount(),b>a)return e.getPoint(e.getPointCount()-(b-a))}},g.prototype.indexOfPoint=function(a){for(var b=0,c=0,d=this.rings.length;d>c;++c){var e=this.rings[c],f=e.indexOf(a);if(-1!=f)return b+f;b+=e.getPointCount()}return-1},g.prototype.isPointEmpty=function(){return 0==this.getPointCount()},g.prototype.normalize=function(){for(var a=0,b=this.rings.length;b>a;++a)this.rings[a].normalize()},g.prototype.copy=function(){var a=new g;a.spatialReference=this.spatialReference;for(var b=0,c=this.rings.length;c>b;++b)a.addGeometry(this.rings[b].copy());return a},g.prototype.setSpatialReference=function(a){this.spatialReference=a;for(var b=0,c=this.rings.length;c>b;++b)this.rings[b].setSpatialReference(a)},g.prototype.first=function(){if(this.rings.length>0){var a=this.getGeometry(0);return a}},g.prototype.last=function(){if(this.rings.length>0){var a=this.getGeometry(this.rings.length-1);return a}},g.prototype.envelope=function(){for(var a=new f({spatialReference:this.spatialReference}),b=0,c=this.rings.length;c>b;++b)a=a.union(this.rings[b].envelope());return a},g.prototype.offset=function(a){for(var b=0,c=this.rings.length;c>b;++b)this.rings[b].offset(a);return this},g.prototype.asWkt=function(a){for(var b=this,c="",d=b.getGeometryCount(),e=0;d>e;++e){var f=b.getGeometry(e).points,g=b.points2WKT(f,a);c+=","+g}return"polygon({0})".replace("{0}",c.substr(1))},g.prototype.asGeoJson=function(a){for(var b={type:"Polygon",coordinates:[]},c=this.getGeometryCount(),d=0;c>d;d++){var e=this.getGeometry(d).points,f=this.getPointsArray(e,a);b.coordinates.push(f)}return b},g.prototype.getBaryCenter=function(){for(var a=0,b=0,c=0,d=0,e=this.getGeometryCount();e>d;++d){var f=i(this.getGeometry(d));a+=f.baryCenter.x*f.area,b+=f.baryCenter.y*f.area,c+=f.area}return{x:a/c,y:b/c}};var h=function(a,b,c){var d=a.x,e=a.y,f=b.x,g=b.y,h=c.x,i=c.y,j=d*g+f*i+h*e-f*e-h*g-d*i;return j/2},i=function(a){for(var b,c,d,e=a.getPoint(0),f=0,g=0,i=0,j=1,k=a.getPointCount()-1;k>j;++j)b=a.getPoint(j),c=a.getPoint(j+1),d=h(e,b,c),i+=d,f+=(e.x+b.x+c.x)*d,g+=(e.y+b.y+c.y)*d;return{baryCenter:{x:f/(3*i),y:g/(3*i)},area:i}};return g}(b,D,A,s,v,u),G=function(a,b,c,d,e,f){var g=function(a){var d=a||{};b.call(this,d),c.call(this,d),this.polygons=[],this.$type="MultiPolygon,http://www.Gs.com"};return a.extend2(g,b),a.extend2(g,c),g.prototype.getGeometryType=function(){return d.MultiPolygon},g.prototype.isGeometryEmpty=function(){return 0==this.polygons.length},g.prototype.isClose=function(){if(this.isGeometryEmpty())return!1;for(var a=0,b=this.polygons.length;b>a;++a){var c=this.polygons[a];if(!c.isClose())return!1}return!0},g.prototype.close=function(){for(var a=0,b=this.polygons.length;b>a;++a){var c=this.polygons[a];c.isClose()||c.close()}},g.prototype.addGeometry=function(a){a.getGeometryType()==d.Polygon&&this.polygons.push(a)},g.prototype.insertGeometry=function(a,b){b.getGeometryType()==d.Polygon&&this.polygons.splice(a,0,b)},g.prototype.removeGeometry=function(a){if(a.getGeometryType()==d.Polygon){var b=this.polygons.indexOf(a);this.polygons.splice(b,1)}},g.prototype.removeAllGeometry=function(){this.polygons.splice(0,this.polygons.length)},g.prototype.getGeometryCount=function(){return this.polygons.length},g.prototype.getGeometry=function(a){return this.polygons[a]},g.prototype.indexOfGeometry=function(a){this.polygons.indexOf(a)},g.prototype.isGeometryEmpty=function(){return 0==this.polygons.length},g.prototype.addPoint=function(a){var b=this.last();null!=b&&b.addPoint(a)},g.prototype.insertPoint=function(a,b){var c=this.last();null!=c&&c.insertPoint(a,b)},g.prototype.removePoint=function(a){for(var b=0,c=this.polygons.length;c>b;++b){var d=this.polygons[b];d.removePoint(a)}},g.prototype.removeAllPoint=function(){for(var a=0,b=this.polygons.length;b>a;++a){var c=this.polygons[a];c.removeAllPoint(v)}},g.prototype.getPointCount=function(){for(var a=0,b=0,c=this.polygons.length;c>b;++b){var d=this.polygons[b];a+=d.getPointCount()}return a},g.prototype.getPoint=function(a){for(var b=0,c=0,d=this.polygons.length;d>c;++c){var e=this.polygons[c];if(b+=e.getPointCount(),b>a)return e.getPoint(e.getPointCount()-(b-a))}},g.prototype.indexOfPoint=function(a){for(var b=0,c=0,d=this.polygons.length;d>c;++c){var e=this.polygons[c],f=e.indexOf(a);if(-1!=f)return b+f;b+=e.getPointCount()}return-1},g.prototype.isPointEmpty=function(){return 0==this.getPointCount()},g.prototype.normalize=function(){for(var a=0,b=this.polygons.length;b>a;++a)this.polygons[a].normalize()},g.prototype.copy=function(){var a=new g;a.spatialReference=this.spatialReference;for(var b=0,c=this.polygons.length;c>b;++b)a.addGeometry(this.polygons[b].copy());return a},g.prototype.setSpatialReference=function(a){this.spatialReference=a;for(var b=0,c=this.polygons.length;c>b;++b)this.polygons[b].setSpatialReference(a)},g.prototype.first=function(){if(this.polygons.length>0){var a=this.getGeometry(0);return a}},g.prototype.last=function(){if(this.polygons.length>0){var a=this.getGeometry(this.polygons.length-1);return a}},g.prototype.envelope=function(){for(var a=new f({spatialReference:this.spatialReference}),b=0,c=this.polygons.length;c>b;++b)a=a.union(this.polygons[b].envelope());return a},g.prototype.offset=function(a){for(var b=0,c=this.polygons.length;c>b;++b)this.polygons[b].offset(a);return this},g.prototype.asWkt=function(a){for(var b=this,c=b.getGeometryCount(),d="",e=0;c>e;++e){var f=b.getGeometry(e),g=f.asWkt(a).replace("polygon","");d+=","+g}return"multipolygon({0})".replace("{0}",d.substr(1))},g.prototype.asGeoJson=function(a){for(var b={type:"MultiPolygon",coordinates:[]},c=this.getGeometryCount(),d=0;c>d;d++){for(var e=this.getGeometry(d),f=[],g=0,h=e.getGeometryCount();h>g;g++){var i=e.getGeometry(d).points,j=this.getPointsArray(i,a);f.push(j)}b.coordinates.push(f)}return b},g}(b,D,A,s,v,u),H=function(a,b,c,d){var e=function(a){var b=a||{};c.call(this,b),this.center=b.center,this.radius=b.radius,this.$type="Circle,http://www.Gs.com"};return a.extend2(e,c),e.prototype.getGeometryType=function(){return b.Circle},e.prototype.setCenter=function(a){this.center=a},e.prototype.setRadius=function(a){this.radius=a},e.prototype.getCenter=function(){return this.center},e.prototype.getRadius=function(){return this.radius},e.prototype.envelope=function(){return new d({minx:this.center.x-this.radius,miny:this.center.y-this.radius,maxx:this.center.x+this.radius,maxy:this.center.y+this.radius})},e.prototype.copy=function(){return new e({center:this.center.copy(),radius:this.radius,spatialReference:this.spatialReference})},e.prototype.asGeoJson=function(a){var b={type:"Polygon",coordinates:[]},c=this.getPointsArray(this.getSimuCirPoints(),a);return b.coordinates.push(c),b},e.prototype.asWkt=function(a){var b=this.getSimuCirPoints(),c=this.points2WKT(b,a);return"polygon({0})".replace("{0}",c)},e.prototype.getSimuCirPoints=function(){for(var a=this.getRadius(),b=this.getRadius(),c=this.getCenter(),d=[],e=Math.PI/180,f=function(){for(var a=[],b=0;360>=b;++b){var c=e*b;a.push([Math.sin(c),Math.cos(c)])}return a},g=g||f(),h=0,i=g.length;i>h;++h){var j=g[h];d.push({x:c.x+a*j[1],y:c.y+b*j[0]})}return d},e}(b,s,t,u),I=function(a,b,c,d){var e=function(a){var b=a||{};c.call(this,b),this.center=b.center,this.axisX=b.axisX,this.axisY=b.axisY,this.$type="Ellipse,http://www.Gs.com"};return a.extend2(e,c),e.prototype.getGeometryType=function(){return b.Ellipse},e.prototype.setCenter=function(a){this.center=a},e.prototype.getCenter=function(){return this.center},e.prototype.envelope=function(){return new d({minx:this.center.x-this.axisX,miny:this.center.y-this.axisY,maxx:this.center.x+this.axisX,maxy:this.center.y+this.axisY})},e.prototype.copy=function(){return new e({center:this.center.copy(),axisX:this.axisX,axisY:this.axisY,spatialReference:this.spatialReference})},e.prototype.asWkt=function(a){for(var b=this.axisX,c=this.axisY,d=this.getCenter(),e=[],f=Math.PI/180,g=g||h(),h=function(){for(var a=[],b=0;360>=b;++b){var c=f*b;a.push([Math.sin(c),Math.cos(c)])}return a},i=0,j=g.length;j>i;++i){var k=g[i];e.push({x:d.x+b*k[1],y:d.y+c*k[0]})}var k=this.points2WKT(e,a);return"polygon({0})".replace("{0}",k)},e}(b,s,t,u),J=function(a,b,c,d){var e=function(a){b.call(this,a),this.center=a.center,this.side=a.side,this.$type="Square,http://www.Gs.com"};return a.extend2(e,b),e.prototype.getGeometryType=function(){return c.Square
},e.prototype.copy=function(){return new J({center:this.center.copy(),side:this.side,spatialReference:this.spatialReference})},e.prototype.envelope=function(){var a=.5*this.side;return new d({minx:this.center.x-a,miny:this.center.y-a,maxx:this.center.x+a,maxy:this.center.y+a})},e}(b,t,s,u),K=function(a,b,c,d,e,f,g){function h(){for(var a=[],b=0;360>=b;++b){var c=A*b;a.push([Math.sin(c),Math.cos(c)])}return a}function i(b,c){return new a({x:b[0],y:b[1],spatialReference:c})}function j(a,c){for(var d=new b({spatialReference:c}),e=0,f=a.length;f>e;++e){var g=a[e];d.addPoint(i(g,c))}return d}function k(a,b){for(var c=new d({spatialReference:b}),e=0,f=a.length;f>e;++e){var g=a[e];c.addPoint(i(g,b))}return c}function l(){}function m(){}function n(a,b){a=a.replace("(((","((").replace(")))","))");var c=-1,d=-1;c=a.indexOf("(("),d=a.indexOf("))");for(var e=[];c>=0;)e.push(a.substr(c,d+2)),a=a.substr(d+2),c=a.indexOf("(("),d=a.indexOf("))");for(var g=new f({spatialReference:b}),h=0,i=e.length;i>h;++h){var j=q(e[h]);g.addGeometry(j)}return g}function o(b,c){var d=/\s*-?\d+[.]?\d*\s+-?\d+[.]?\d*\s*/g,e=z(b).match(d);if(e.length>0){var f=e[0].split(" ");return new a({x:parseFloat(f[0]),y:parseFloat(f[1]),spatialReference:c})}}function p(d,e){var f=/\s*-?\d+[.]?\d*\s+-?\d+[.]?\d*\s*/g,g=z(d).match(f);if(g.length>0){var h=new c({spatialReference:e}),i=new b;h.addGeometry(i);for(var j=0,k=g.length;k>j;++j){var l=g[j].split(" ");i.addPoint(new a({x:parseFloat(l[0]),y:parseFloat(l[1])}))}return h}}function q(b,c){var f=/\([^\(\)]*\)/g,g=z(b).match(f);if(g.length>0){var h=new e({spatialReference:c});f=/\s*-?\d+[.]?\d*\s+-?\d+[.]?\d*\s*/g;for(var i=0,j=g.length;j>i;++i){var k=g[i].match(f),l=new d;h.addGeometry(l);for(var m=0,n=k.length;n>m;++m){var o=k[m].split(" ");l.addPoint(new a({x:parseFloat(o[0]),y:parseFloat(o[1])}))}}return h}}function r(a){for(var b="",c="{0} {1}",d=0,e=a.length;e>d;++d){var f=a[d];b+=","+c.replace("{0}",f.x).replace("{1}",f.y)}return"({0})".replace("{0}",b.substr(1))}function s(a){return"point({0} {1})".replace("{0}",a.x).replace("{1}",a.y)}function t(a){var b=a.getGeometryCount();if(1==b){var c=a.getGeometry(0).points,d=r(c);return"linestring{0}".replace("{0}",d)}if(b>1){for(var e="",f=0;b>f;++f){var c=a.getGeometry(0).points,d=r(c);e+=","+d}return"multilinestring({0})".replace("{0}",e.substr(1))}}function u(a){for(var b="",c=a.getGeometryCount(),d=0;c>d;++d){var e=a.getGeometry(0).points,f=r(e);b+=","+f}return"polygon({0})".replace("{0}",b.substr(1))}function v(){}function w(a){for(var b="",c=0;count>c;++c){var d=a.getGeometry(0),e=u(d).replace("polygon","");b+=","+e}return"multipolygon({0})".replace("{0}",b.substr(1))}function x(a){var b=[];b.push({x:a.minx,y:a.miny}),b.push({x:a.minx,y:a.maxy}),b.push({x:a.maxx,y:a.maxy}),b.push({x:a.maxx,y:a.miny}),b.push({x:a.minx,y:a.miny});var c=r(b);return"polygon({0})".replace("{0}",c)}function y(a,b,c){for(var d=[],e=0,f=B.length;f>e;++e){var g=B[e];d.push({x:a.x+b*g[1],y:a.y+c*g[0]})}var g=r(d);return"polygon({0})".replace("{0}",g)}function z(a){var b=/\s*,\s*/g;return a.replace(b,",")}var A=Math.PI/180,B=B||h(),C=function(){};return C.fromJson=function(a,b){if(null==a||""==a)return null;var d=a.type,f=a.coordinates;switch(d){case"Point":return i(f,b);case"LineString":return j(f,b);case"Polygon":for(var g=new e({spatialReference:b}),h=0,l=f.length;l>h;++h)g.addGeometry(k(f[h],b));return g;case"MultiPoint":break;case"MultiLineString":for(var m=new c({spatialReference:b}),h=0,l=f.length;l>h;++h)m.addGeometry(j(f[h],b));return m;case"MultiPolygon":for(var g=new e({spatialReference:b}),h=0,l=f.length;l>h;++h)for(var n=f[h],o=0,p=n.length;p>o;++o)g.addGeometry(k(n[o],b));return g;case"Circle":break;case"GeometryCollection":}},C.toWKT=function(a){if(!a)return"";var b=a.getGeometryType();switch(b){case g.Point:return s(a);case g.Polyline:return t(a);case g.Polygon:return u(a);case g.MultiPoint:return v(a);case g.MultiPolygon:return w(a);case g.Envelope:return x(a);case g.Circle:return y(a.center,a.radius,a.radius);case g.Ellipse:return y(a.center,a.axisX,a.axisY)}},C.fromWKT=function(a,b){return a?0===a.indexOf("multipoint")||0===a.indexOf("multipoint".toUpperCase())?l(a,b):0===a.indexOf("multilinestring")||0===a.indexOf("multilinestring".toUpperCase())?m(a,b):0===a.indexOf("multipolygon")||0===a.indexOf("multipolygon".toUpperCase())?n(a,b):0===a.indexOf("point")||0===a.indexOf("point".toUpperCase())?o(a,b):0===a.indexOf("linestring")||0===a.indexOf("linestring".toUpperCase())?p(a,b):0===a.indexOf("polygon")||0===a.indexOf("polygon".toUpperCase())?q(a,b):void 0:null},C}(v,B,E,C,F,G,s),L=function(a,b,c,d,e){var f=function(a){c.call(this,a),b.call(this,a),this.points=[],this.$type="MultiPoint,http://www.Gs.com"};return a.extend2(f,c),a.extend2(f,b),f.prototype.getGeometryType=function(){return d.MultiPoint},f.prototype.addPoint=function(a){this.points.push(a)},f.prototype.insertPoint=function(a,b){this.points.splice(a,0,b)},f.prototype.removePoint=function(a){var b=this.points.indexOf(a);this.points.splice(b,1)},f.prototype.removeAllPoint=function(){this.points.splice(0,this.points.length)},f.prototype.getPointCount=function(){return this.points.length},f.prototype.getPoint=function(a){return this.points[a]},f.prototype.indexOfPoint=function(a){return this.points.indexOf(a)},f.prototype.isPointEmpty=function(){return 0==this.points.length},f.prototype.copy=function(){for(var a=new f,b=0,c=this.points.length;c>b;++b)a.addPoint(this.points[b].copy());return a},f.prototype.setSpatialReference=function(a){this.spatialReference=a;for(var b=0,c=this.points.length;c>b;++b)this.points[b].setSpatialReference(a)},f.prototype.envelope=function(){for(var a=miny=Number.MAX_VALUE,b=maxy=-Number.MAX_VALUE,c=0,d=this.points.length;d>c;++c){var f=this.points[c];a>f.x&&(a=f.x),b<f.x&&(b=f.x),miny>f.y&&(miny=f.y),maxy<f.y&&(maxy=f.y)}return new e({minx:a,maxx:b,miny:miny,maxy:maxy,spatialReference:this.spatialReference})},f.prototype.asWkt=function(a){var b=this.points2WKT(this.points,a);return"multipoint{0}".replace("{0}",b)},f.prototype.asGeoJson=function(a){var b={type:"MultiPoint",coordinates:[]},c=this.getPointsArray(this.points,a);return b.coordinates.push(c),b},f}(b,z,t,s,u),M=function(a,b,c,d,e){var f=function(a){b.call(this,a),c.call(this,a),this.geometries=[],this.$type="GeometryBag,http://www.Gs.com"};return a.extend2(f,c),a.extend2(f,b),f.prototype.addGeometry=function(a){this.geometries.push(a)},f.prototype.insertGeometry=function(a,b){this.geometries.splice(a,0,b)},f.prototype.removeGeometry=function(a){var b=this.geometries.indexOf(a);this.geometries.splice(b,1)},f.prototype.removeAllGeometry=function(){this.geometries.splice(0,this.geometries.length)},f.prototype.indexOfGeometry=function(a){this.geometries.indexOf(a)},f.prototype.isGeometryEmpty=function(){return 0==this.geometries.length},f.prototype.getGeometryCount=function(){return this.geometries.length},f.prototype.getGeometry=function(a){return this.geometries[a]},f.prototype.setSpatialReference=function(a){for(var b=0,c=this.geometries.length;c>b;++b)this.geometries[b].setSpatialReference(a)},f.prototype.getSpatialReference=function(){return this.spatialReference},f.prototype.getGeometryType=function(){return d.GeometryBag},f.prototype.equals=function(){return!1},f.prototype.normalize=function(){for(var a=0,b=this.geometries.length;b>a;++a)this.geometries[a].normalize()},f.prototype.offset=function(a){for(var b=0,c=this.geometries.length;c>b;++b)this.geometries[b].offset(a);return this},f.prototype.copy=function(){var a=new f;a.spatialReference=this.spatialReference;for(var b=0,c=this.geometries.length;c>b;++b)a.addGeometry(this.geometries[b].copy());return a},f.prototype.envelope=function(){for(var a=new e({spatialReference:this.spatialReference}),b=0,c=this.geometries.length;c>b;++b)a=a.union(this.geometries[b].envelope());return a},f.prototype.asWkt=function(a){for(var b=this.getGeometryCount(),c="",d=0;b>d;d++)c+=this.geometries[d].asWkt(a)+",";return"geometrycollection({0})".replace("{0}",c.substring(0,c.length-1))},f}(b,t,A,s,u),N=function(a,b,c,d,e,f,g,h,i){function j(b,c){return new a({x:b[0],y:b[1],spatialReference:c})}function k(a,b){for(var c=new h({spatialReference:b}),d=0,e=a.length;e>d;d++){var f=a[d];c.addPoint(j(f,b))}return c}function l(a,c){for(var d=new b({spatialReference:c}),e=0,f=a.length;f>e;++e){var g=a[e];d.addPoint(j(g,c))}return d}function m(a,b){for(var c=new e({spatialReference:b}),d=0,f=a.length;f>d;++d)c.addGeometry(n(a[d],b));return c}function n(a,b){for(var c=new d({spatialReference:b}),e=0,f=a.length;f>e;++e){var g=a[e];c.addPoint(j(g,b))}return c}function o(b,c){var d=/\s*-?\d+[.]?\d*\s+-?\d+[.]?\d*\s*/g,e=v(b).match(d);if(e.length>0){for(var f=new h({spatialReference:c}),g=0,i=e.length;i>g;g++){var j=e[g].split(" ");f.addPoint(new a({x:parseFloat(j[0]),y:parseFloat(j[1])}))}return f}}function p(d,e){var f=/\([^\(\)]*\)/g,g=v(d).match(f);if(g.length>0){var h=new c({spatialReference:e});f=/\s*-?\d+[.]?\d*\s+-?\d+[.]?\d*\s*/g;for(var i=0,j=g.length;j>i;i++){var k=g[i].match(f),l=new b;h.addGeometry(l);for(var m=0,n=k.length;n>m;++m){var o=k[m].split(" ");l.addPoint(new a({x:parseFloat(o[0]),y:parseFloat(o[1])}))}}return h}}function q(a,b){a=a.replace("(((","((").replace(")))","))");var c=-1,d=-1;c=a.indexOf("(("),d=a.indexOf("))");for(var e=[];c>=0;)e.push(a.substr(c,d+2)),a=a.substr(d+2),c=a.indexOf("(("),d=a.indexOf("))");for(var g=new f({spatialReference:b}),h=0,i=e.length;i>h;++h){var j=t(e[h]);g.addGeometry(j)}return g}function r(b,c){var d=/\s*-?\d+[.]?\d*\s+-?\d+[.]?\d*\s*/g,e=v(b).match(d);if(e.length>0){var f=e[0].split(" ");return new a({x:parseFloat(f[0]),y:parseFloat(f[1]),spatialReference:c})}}function s(d,e){var f=/\s*-?\d+[.]?\d*\s+-?\d+[.]?\d*\s*/g,g=v(d).match(f);if(g.length>0){var h=new c({spatialReference:e}),i=new b;h.addGeometry(i);for(var j=0,k=g.length;k>j;++j){var l=g[j].split(" ");i.addPoint(new a({x:parseFloat(l[0]),y:parseFloat(l[1])}))}return h}}function t(b,c){var f=/\([^\(\)]*\)/g,g=v(b).match(f);if(g.length>0){var h=new e({spatialReference:c});f=/\s*-?\d+[.]?\d*\s+-?\d+[.]?\d*\s*/g;for(var i=0,j=g.length;j>i;++i){var k=g[i].match(f),l=new d;h.addGeometry(l);for(var m=0,n=k.length;n>m;++m){var o=k[m].split(" ");l.addPoint(new a({x:parseFloat(o[0]),y:parseFloat(o[1])}))}}return h}}function u(a,b){var c=new i({spatialReference:b}),d=a.substring(a.indexOf("(")+1,a.lastIndexOf(")")),e=/,[a-zA-Z]/g,f=d.match(e),g=d.split(e),h=[];h.push(g[0]);for(var j=0;j<f.length;j++){var k=f[j].split(/,/)[1];k+=g[j+1],h.push(k)}var l=h.length;if(l>0){for(var j=0;l>j;j++)if(h[j].length>0){var m=w.createGeometryFromWkt(h[j],b);c.addGeometry(m)}return c}}function v(a){var b=/\s*,\s*/g;return a.replace(b,",")}var w=function(){};return w.createGeometryFromGeoJson=function(a,b){if(null==a||""==a)return null;var d=a.type,e=a.coordinates;switch(d){case"Point":return j(e,b);case"LineString":var g=new c({spatialReference:b});return g.addGeometry(l(e,b)),g;case"Polygon":return m(e,b);case"MultiPoint":return k(e,b);case"MultiLineString":for(var g=new c({spatialReference:b}),h=0,n=e.length;n>h;++h)g.addGeometry(l(e[h],b));return g;case"MultiPolygon":for(var o=new f({spatialReference:b}),h=0,n=e.length;n>h;++h){var p=m(e[h],b);o.addGeometry(p)}return o;case"GeometryCollection":for(var q=a.geometries,r=new i({spatialReference:b}),h=0,n=q.length;n>h;h++){var s=this.createGeometryFromGeoJson(q[h],b);r.addGeometry(s)}return r}},w.createGeometryFromWkt=function(a,b){return a?0===a.indexOf("multipoint")||0===a.indexOf("multipoint".toUpperCase())?o(a,b):0===a.indexOf("multilinestring")||0===a.indexOf("multilinestring".toUpperCase())?p(a,b):0===a.indexOf("multipolygon")||0===a.indexOf("multipolygon".toUpperCase())?q(a,b):0===a.indexOf("point")||0===a.indexOf("point".toUpperCase())?r(a,b):0===a.indexOf("linestring")||0===a.indexOf("linestring".toUpperCase())?s(a,b):0===a.indexOf("polygon")||0===a.indexOf("polygon".toUpperCase())?t(a,b):0===a.indexOf("geometrycollection")||0===a.indexOf("geometrycollection".toUpperCase())?u(a,b):void 0:null},w}(v,B,E,C,F,G,s,L,M),O=function(){var a=function(){};return a.prototype.toGeometry=function(){},a.prototype.fromGeometry=function(){},a}(),P=function(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(){for(var a=[],b=0;360>=b;++b){var c=K*b;a.push([Math.sin(c),Math.cos(c)])}return a}function o(a){for(var b,c,e=null,f=[],g=a.getGeometryCount(),h=0;g>h;++h){c=a.getGeometry(h).points,b=[];for(var i=0,j=c.length;j>i;i++)b.push([c[i].x,c[i].y]);f.push(b)}return e=new d.geom.MultiLineString(f)}function p(a){for(var b,c=[],d=a.getGeometryCount(),e=0;d>e;++e){b=a.getGeometry(e).points;for(var f=[],g=0,h=b.length;h>g;g++)f.push([b[g].x,b[g].y]);c.push(f)}return c}function q(a){var b=p(a);return F=new d.geom.Polygon(b)}function r(a){for(var b=[],c=a.getGeometryCount(),e=0;c>e;++e){var f=a.getGeometry(e),g=p(f);b.push(g)}return multiPolygon=new d.geom.MultiPolygon(b)}function s(a){var b=[];return b.push([a.minx,a.miny]),b.push([a.minx,a.maxy]),b.push([a.maxx,a.maxy]),b.push([a.maxx,a.miny]),b.push([a.minx,a.miny]),new d.geom.Polygon([b])}function t(a){if(null!=a){var b=new d.geom.Point([a.x,a.y]);return b}return null}function u(a){if(null!=a){for(var b=a.getPointCount(),c=[],e=0;b>e;e++){var f=a.getPoint(e);c.push([f.x,f.y])}return new d.geom.MultiPoint([c])}return null}function v(a){if(null!=a){for(var b=a.getPointCount(),c=[],e=0;b>e;e++){var f=a.getPoint(e);c.push([f.x,f.y])}return new d.geom.LinearRing([c])}return null}function w(a){if(!a)return null;var b=a.center;return new d.geom.Circle([b.x,b.y],a.radius)}function x(){}function y(a){if(!a)return null;for(var b=a.center,c=a.axisX,e=a.axisY,f=[],g=0,h=L.length;h>g;++g){var i=L[g];f.push([b.x+c*i[1],b.y+e*i[0]])}return new d.geom.Polygon([f])}function z(a){for(var b=new d.geom.GeometryCollection,c=[],e=a.getGeometryCount(),f=0;e>f;f++)c.push(A(a.getGeometry(f)));return b.setGeometries(c),b}function A(a){if(!a)return null;var b=a.getGeometryType();switch(b){case c.Polyline:return o(a);case c.Polygon:return q(a);case c.MultiPolygon:return r(a);case c.Point:return t(a);case c.Envelope:return s(a);case c.Circle:return w(a);case c.Ellipse:return y(a);case c.Square:return x(a);case c.MultiPoint:return u(a);case c.Ring:return v(a);case c.GeometryBag:return z(a);default:return null}}function B(a){if(!a)return null;var b=a.getType();switch(b){case"Point":return C(a);case"MultiPoint":return E(a);case"LineString":return J(a);case"MultiLineString":return MultiLineString(a);case"LinearRing":return G(a);case"Polygon":return H(a);case"MultiPolygon":return I(a);case"Circle":return D(a);case"GeometryCollection":return fromGeometryCollection(a);default:return null}}function C(a){var b=a.getCoordinates(),c=new e({x:b[0],y:b[1]});return c}function D(a){var b=a.getCenter(),c=a.getRadius(),d=new e({x:b.x,y:b.y}),f=new l({center:d,radius:c});return f}function E(a){for(var b=new f,c=a.getPoints(),d=c.length,e=0;d>e;e++)b.add(C(c[e]));return b}function G(a){for(var b=new i,c=a.getCoordinates(),d=c.length,f=0;d>f;f++){var g=c[f];b.addPoint(new e({x:g[0],y:g[1]}))}return b}function H(a){var b=new i,c=new j;c.addGeometry(b);for(var d=a.getLinearRingCount(),e=0;d>e;e++){var f=a.getLinearRing(e);c.addGeometry(G(f))}return c}function I(a){for(var b=new j,c=a.getPolygons(),d=c.length,e=0;d>e;e++)for(var f=a.getPolygon(e),g=f.getLinearRingCount(),e=0;g>e;e++){var h=f.getLinearRing(e);b.addGeometry(G(h))}return b}function J(a){var b=new g,c=new h;c.addGeometry(b);for(var d=a.getCoordinates(),f=d.length,i=0;f>i;i++){var j=d[i];c.addPoint(new e({x:j[0],y:j[1]}))}return c}var K=Math.PI/180,L=L||n(),M=function(){b.call(this)};return a.extend2(M,b),M.prototype.toGeometry=function(a){return A(a)},M.prototype.fromGeometry=function(a){return B(a)},M}(b,O,s,ol,v,L,B,E,C,F,G,H,M),Q=function(){var a=function(){};return a.prototype.toFeature=function(){},a.prototype.toFeatures=function(){},a.prototype.fromFeature=function(){},a.prototype.fromFeatures=function(){},a}(),R=function(){var a=function(){this.$type="Fields,http://www.Gs.com",this.fields=[]};return a.prototype.add=function(a){this.fields.push(a)},a.prototype.remove=function(a){for(var b=0,c=this.fields.length;c>b;++b)if(a===this.fields[b]){this.fields.splice(b,1);break}},a.prototype.getCount=function(){return this.fields.length},a.prototype.findIndex=function(a){for(var b=0,c=this.fields.length;c>b;++b)if(a.toUpperCase()===this.fields[b].name.toUpperCase())return b;return-1},a.prototype.getField=function(a){return this.fields[a]},a}(),S=function(){var a=function(a){this.$type="Field,http://www.Gs.com",a&&(this.name=a.name,this.alias=a.alias,this.length=a.length,this.dataType=a.dataType,this.editable=void 0==a.editable?!0:a.editable,this.isShape=void 0==a.isShape?!1:a.isShape)};return a}(),T=function(){var a=function(){this.$type="Value,http://www.Gs.com",this.value=null};return a.prototype.setValue=function(a){this.value=a},a.prototype.getValue=function(){return this.value},a}(),U=function(a,b,c){var d=function(b){if(this.$type="Feature,http://www.Gs.com",b)if(b instanceof a){this.fields=b,this.values=[];for(var d=0,e=b.getCount();e>d;++d)this.values.push(new c)}else this.values=b.values,this.fields=b.fields,this.geometry=b.geometry,this.objectId=b.objectId};return d.prototype.getFields=function(){return this.fields},d.prototype.getValue=function(a){var b=this.fields.findIndex(a);return-1!=b?this.values[b]:null},d.prototype.setValue=function(a,b){var c=this.fields.findIndex(a);-1!=c&&this.values[c].setValue(b)},d.prototype.copy=function(){for(var a={values:[],fields:this.fields,geometry:this.geometry.copy(),objectId:this.objectId},b=0,e=this.values.length;e>b;++b){var f=new c;f.setValue(this.values[b].getValue()),a.values.push(f)}return new d(a)},d}(R,S,T,t),V=function(a){var b=function(a){this.$type="FeatureSet,http://www.Gs.com",this.features=[],this.fields=a};return b.prototype.createFeature=function(){return new a(this.fields)},b.prototype.add=function(a){this.features.push(a)},b.prototype.remove=function(a){for(var b=0,c=this.features.length;c>b;++b)if(a===this.features[b]){this.features.splice(b,1);break}},b.prototype.getCount=function(){return this.features.length},b.prototype.getFeature=function(a){return this.features[a]},b.prototype.getFeatures=function(){return this.features},b.prototype.reset=function(){var a=this;this.features.forEach(function(b){b.fields=a.fields})},b}(U),W=function(a,b,c,d,e,f,g,h,i){var j,k=function(){b.call(this),this.olGeometryConvertor=new i,j=this};return k.prototype.toFeatures=function(a){for(var b=[],c=a.getCount(),d=0;c>d;d++){var e=j.toFeature(a.getFeature(d));b.push(e)}return b},k.prototype.toFeature=function(a){for(var b=new c.Feature,d=j.olGeometryConvertor.toGeometry(a.geometry),e=a.objectId,f={},g=a.getFields(),h=g.getCount(),i=0;h>i;i++){var k=g.getField(i).name;f[k]=a.getValue(k).value}return b.setGeometry(d),b.setProperties(f),b.setId(e),b},k.prototype.fromFeatures=function(a){for(var b=new h,c=a.length,d=0;c>d;d++){var e=j.fromFeature(a[d]);b.add(e),b.fields=e.fields}return b},k.prototype.fromFeature=function(a){var b=j.olGeometryConvertor.fromGeometry(a.getGeometry()),c=a.getProperties(),h=a.getId(),i=new d,k=[];for(pro in c){var l=new e({name:pro});i.fields.push(l);var m=new f;m.setValue(c[pro]),k.push(m)}var n=new g({values:k,fields:i,geometry:b,objectId:h});return n},k}(b,Q,ol,R,S,T,U,V,P),X=function(){var a=function(){};return a.prototype.toGML=function(){},a.prototype.fromGML=function(){},a}(),Y=function(a,b,c,d){var e,f=function(a){var f=a||{};b.call(this),this.gmlFormat=new c.format.GML3({srsName:f.srsName,featureNS:f.featureNS,featureType:f.featureType}),this.olFeatureConvertor=new d,e=this};return f.prototype.toGML=function(a){var b=e.olFeatureConvertor.toFeatures(a);return e.gmlFormat.writeFeatures(b)},f.prototype.fromGML=function(a){var b=e.gmlFormat.readFeatures(a);return this.olFeatureConvertor.fromFeatures(b)},f}(b,X,ol,W),Z=function(){function a(a){var b=a.toString(16);return 1==b.length?"0"+b:b}var b=/^#([0-9a-fA-f]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,c=function(a){this.$type="Color,http://www.Gs.com";var b=a||{};this.r=void 0==b.r?0:b.r,this.g=void 0==b.g?0:b.g,this.b=void 0==b.b?0:b.b,this.a=void 0==b.a?255:b.a};return c.prototype.copy=function(){return new c(this)},c.prototype.toArray=function(){var a=[];return a.push(this.r),a.push(this.g),a.push(this.b),a.push(null!==this.a&&this.a>=0?this.a/255:1),a},c.prototype.toHex=function(){return this.a?null!=this.a?"#"+a(this.a)+a(this.r)+a(this.g)+a(this.b):void 0:"#"+a(this.r)+a(this.g)+a(this.b)},c.fromHex=function(a){var d=new c({r:0,g:0,b:0,a:255});a=a.toLowerCase(),a&&b.test(a)&&(4===a.length?a="#"+a.slice(1,2)+a.slice(1,2)+a.slice(2,3)+a.slice(2,3)+a.slice(3,4)+a.slice(3,4):5===a.length&&(a="#"+a.slice(1,2)+a.slice(1,2)+a.slice(2,3)+a.slice(2,3)+a.slice(3,4)+a.slice(3,4)+a.slice(4,5)));for(var e=[],f=a.length,g=1;f>g;g+=2)e.push(parseInt("0x"+a.slice(g,g+2)));return 9==f?(d.a=e[0],d.r=e[1],d.g=e[2],d.b=e[3]):(d.r=e[0],d.g=e[1],d.b=e[2]),d},c}(),_=[[7,3],[3,3,1,3],[4,3,2,3,2,3],[2,3],[],[]],ab=function(){var a=function(){};return a.prototype.copy=function(){},a}(),bb=function(a,b,c){var d=function(a){var d=a||{};b.call(this,d),this.width=void 0==d.width?2:d.width,this.color=void 0==d.color?new c({a:153,r:19,g:181,b:177}):d.color,this.$type="LineSymbol,http://www.Gs.com"};return a.extend2(d,b),d.prototype.copy=function(){return new d({width:this.width,color:this.color.copy()})},d}(b,ab,Z),cb=function(a,b){var c=function(a){var c=a||{};b.call(this,c),this.offsetX=c.offsetX,this.offsetY=c.offsetY,this.$type="MarkerSymbol,http://www.Gs.com"};return a.extend2(c,b),c.prototype.copy=function(){return new c(this)},c}(b,ab),db=function(a,b,c){var d=function(a){var d=a||{};b.call(this,d),this.borderColor=void 0==d.borderColor?new c({a:153,r:19,g:181,b:177}):d.borderColor,this.borderThickness=void 0==d.borderThickness?1:d.borderThickness,this.opacity=void 0==d.opacity?1:d.opacity,this.$type="FillSymbol,http://www.Gs.com"};return a.extend2(d,b),d.prototype.copy=function(){return new d({borderColor:this.borderColor.copy(),borderThickness:this.borderThickness,opacity:this.opacity})},d}(b,ab,Z),eb=function(a,b){var c=function(a){var c=a||{};b.call(this,c),this.style=c.style||5,this.$type="SimpleLineSymbol,http://www.Gs.com"};return a.extend2(c,b),c.prototype.copy=function(){return new c({width:this.width,color:this.color.copy(),style:this.style})},c}(b,bb),fb=function(a,b){var c=function(a){var c=a||{};b.call(this,c),this.lineSymbols=c.lineSymbols||[new o.syms.SimpleLinesymbol({color:new o.syms.Color({a:153,r:19,g:181,b:177}),width:24,style:5}),new o.syms.SimpleLinesymbol({color:new o.syms.Color({a:153,r:255,g:255,b:0}),width:16,style:5})],this.$type="LineCombinedSymbol,http://www.Gs.com"};return a.extend2(c,b),c.prototype.add=function(a){this.lineSymbols.push(a)},c.prototype.remove=function(a){this.lineSymbols.splice(a,1)},c.prototype.get=function(a){return this.lineSymbols[a]},c.prototype.getCount=function(){return this.lineSymbols.length},c.prototype.set=function(a){for(var b=0;b<this.lineSymbols.length;b++)a==this.lineSymbols[b]&&this.lineSymbols.splice(b,1,a)},c.prototype.copy=function(){for(var a=[],b=0;b<this.lineSymbols.length;b++){var d=this.lineSymbols[b].copy();a.push(d)}return new c({lineSymbols:a})},c}(b,ab),gb=function(a,b,c){var d=function(a){var d=a||{};b.call(this,d),this.style=d.style||5,this.fillColor=void 0==d.fillColor?new c({a:153,r:19,g:181,b:177}):d.fillColor,this.$type="SimpleFillSymbol,http://www.Gs.com"};return a.extend2(d,b),d.prototype.copy=function(){return new d({borderColor:this.borderColor.copy(),borderThickness:this.borderThickness,opacity:this.opacity,fillColor:this.fillColor.copy(),style:this.style})},d}(b,db,Z),hb=function(a,b,c){var d=function(a){var d=a||{};b.call(this,d),this.fillColor=void 0==d.fillColor?new c({a:153,r:19,g:181,b:177}):d.fillColor,this.size=void 0==d.size?5:d.size,this.points=void 0==d.points?0:d.points,this.radius1=void 0==d.radius1?0:d.radius1,this.radius2=void 0==d.radius2?0:d.radius2,this.angle=void 0==d.angle?0:d.angle,this.style=d.style,this.borderColor=void 0==d.borderColor?new c({a:153,r:19,g:181,b:177}):d.borderColor,this.borderThickness=void 0==d.borderThickness?1:d.borderThickness,this.$type="SimpleMarkerSymbol,http://www.Gs.com"};return a.extend2(d,b),d.prototype.copy=function(){return new d({fillColor:this.fillColor.copy(),size:this.size,points:this.points,radius1:this.radius1,radius2:this.radius2,angle:this.angle,style:this.style,borderColor:this.borderColor.copy(),borderThickness:this.borderThickness})},d}(b,cb,Z),ib=function(a,b){var c=function(a){var c=a||{};b.call(this,c),this.width=c.width,this.height=c.height,this.source=c.source,this.opacity=void 0==c.opacity?1:c.opacity,this.offsetX=c.offsetX,this.offsetY=c.offsetY,this.rotation=void 0==c.rotation?0:c.rotation,this.$type="PictureMarkerSymbol,http://www.Gs.com"};return a.extend2(c,b),c.prototype.copy=function(){return new c(this)},c}(b,cb),jb=function(a,b,c){var d=function(a){var d=a||{};b.call(this,d),this.text=d.text,this.fontFamilyName=d.fontFamilyName,this.fontSize=d.fontSize,this.fontWeight=d.fontWeight,this.foreground=d.foreground,this.textAlign=void 0==d.textAlign?"center":d.textAlign,this.rotation=void 0==d.rotation?0:d.rotation,this.borderColor=void 0==d.borderColor?new c({a:255,r:0,g:0,b:0}):d.borderColor,this.borderThickness=void 0==d.borderThickness?3:d.borderThickness,this.$type="TextSymbol,http://www.Gs.com"};return a.extend2(d,b),d.prototype.copy=function(){return new d(this)},d}(b,cb,Z),kb=function(a,b){var c=function(a){var c=a||{};b.call(this,c),this.fillSymbol=c.fillSymbol,this.markerSymbol=c.markerSymbol,this.textSymbol=c.textSymbol,this.$type="CurrencySymbol,http://www.Gs.com"};return a.extend2(c,b),c.prototype.copy=function(){return new c({fillSymbol:opts.fillSymbol.copy(),markerSymbol:opts.markerSymbol.copy(),textSymbol:opts.textSymbol.copy()})},c}(b,ab),lb=function(a,b,c){var d=function(a){var d=a||{};this.lineStyle=void 0==d.lineStyle?5:d.lineStyle,this.lineWidth=void 0==d.lineWidth?5:d.lineWidth,this.lineColor=void 0==d.lineColor?new c({a:255,r:0,g:0,b:0}):d.lineColor,this.fill=d.fill,b.call(this,d),this.$type="MixSymbol,http://www.Gs.com"};return a.extend2(d,b),d.prototype.copy=function(){return new d({lineStyle:this.lineStyle,lineWidth:this.lineWidth,lineColor:this.lineColor.copy(),fill:this.fill.copy()})},d}(b,ab,Z),mb=function(a,b){var c=function(a){var c=a||{};b.call(this,c),this.$type="VectorMarkerSymbol,http://www.Gs.com"};return a.extend2(c,b),c.prototype.copy=function(){return new c({source:this.source,offsetX:this.offsetX||.5,offsetY:this.offsetY||1,width:this.width,height:this.height,opacity:this.opacity,rotation:this.rotation})},c}(b,ib),nb=function(a,b,c,d,e,f,g){var h=function(a){this.baseUrl=a.baseUrl,this.symbols={}};return h.prototype.convertImgToBase64=function(a,b,c){var d=document.createElement("canvas"),e=d.getContext("2d"),f=new Image;f.crossOrigin="Anonymous",f.onload=function(){var a;d.height=f.height,d.width=f.width,e.drawImage(f,0,0),a=c?d.toDataURL(c):d.toDataURL(),b.call(this,a),d=null},f.src=a},h.prototype.convertSvgToBase64=function(a,b){jQuery.ajax({url:a,dataType:"xml",async:!1,success:function(a){jQuery(a).find("svg").each(function(){var a=(new XMLSerializer).serializeToString(jQuery(this)[0]),c="data:image/svg+xml;base64,"+window.btoa(a);b.call(this,c)})}})},h.prototype.append=function(a,b){this.symbols[a]=b},h.prototype.find=function(a){return this.symbols[a]},h.prototype.loadPictureMarkerSymbolsFromXml=function(a){var b=this;jQuery.ajax({url:a,dataType:"xml",async:!1,success:function(a){jQuery(a).find("PictureMarkerSymbols").each(function(){var a=jQuery(this).find("PictureMarkerSymbol");a.each(function(){var a=jQuery(this);b.createPictureMarker(a)})})}})},h.prototype.load=function(a){var b=this;jQuery.ajax({url:a,dataType:"xml",async:!1,success:function(a){jQuery(a).find("MarkerSymbols").each(function(){var a=jQuery(this).find("MarkerSymbol");a.each(function(){var a=jQuery(this);b.createMarkerSymbol(a)})}),jQuery(a).find("LineSymbols").each(function(){var a=jQuery(this).find("LineSymbol");a.each(function(){var a=jQuery(this);b.createLineSymbol(a)})}),jQuery(a).find("FillSymbols").each(function(){var a=jQuery(this).find("FillSymbol");a.each(function(){var a=jQuery(this);b.createFillSymbol(a)})}),jQuery(a).find("TextSymbols").each(function(){var a=jQuery(this).find("TextSymbol");a.each(function(){var a=jQuery(this);b.createTextSymbol(a)})}),jQuery(a).find("PictureMarkerSymbols").each(function(){var a=jQuery(this).find("PictureMarkerSymbol");a.each(function(){var a=jQuery(this);b.createPictureMarker(a)})}),jQuery(a).find("VectorMarkerSymbols").each(function(){var a=jQuery(this).find("VectorMarkerSymbol");a.each(function(){var a=jQuery(this);b.createVectorMarker(a)})})}})},h.prototype.createVectorMarker=function(a){var b=this,c={width:parseInt(a.attr("width")),height:parseInt(a.attr("height")),source:this.baseUrl+a.attr("source"),opacity:parseFloat(a.attr("opacity")),offsetX:parseInt(a.attr("offsetX")),offsetY:parseInt(a.attr("offsetY")),rotation:parseFloat(a.attr("rotation"))||0},d=new f(c),e=a.attr("Key")||a.attr("key");e&&(this.symbols[e]=d),this.convertSvgToBase64(c.source,function(a){b.symbols[e].source=a.replace("data:image/svg+xml;base64,","")})},h.prototype.createPictureMarker=function(a){var b=this,c={width:parseInt(a.attr("width")),height:parseInt(a.attr("height")),source:this.baseUrl+a.attr("source"),opacity:parseFloat(a.attr("opacity")),offsetX:parseInt(a.attr("offsetX")),offsetY:parseInt(a.attr("offsetY")),rotation:parseFloat(a.attr("rotation"))||0},d=new e(c),f=a.attr("Key")||a.attr("key");f&&(this.symbols[f]=d),this.convertImgToBase64(c.source,function(a){b.symbols[f].source=a.replace("data:image/png;base64,","")})},h.prototype.createMarkerSymbol=function(b){var c={fillColor:a.fromHex(b.attr("Color")),size:parseInt(b.attr("Size")),points:parseInt(b.attr("Points")||0),radius1:parseFloat(b.attr("Radius1")||0),radius2:parseFloat(b.attr("Radius2")||0),angle:parseFloat(b.attr("Angle")||0),style:function(){var a=parseInt(b.attr("Style"));switch(a){case 0:return"circle";case 1:return"square";case 2:return"star";case 3:return"x";case 4:return"cross";case 5:return"triangle";case 6:return"regular";default:return"circle"}}()},e=new d(c),f=b.attr("Key")||b.attr("key");f&&(this.symbols[f]=e)},h.prototype.createLineSymbol=function(b){var d={width:parseInt(b.attr("Width")),color:a.fromHex(b.attr("Color")),style:parseInt(b.attr("Style"))},e=new c(d),f=b.attr("Key")||b.attr("key");f&&(this.symbols[f]=e)},h.prototype.createFillSymbol=function(c){var d={borderColor:a.fromHex(c.attr("BorderColor")),borderThickness:parseInt(c.attr("Thickness")),style:parseInt(c.attr("Style")),fillColor:a.fromHex(c.attr("FillColor")),opacity:c.attr("Opacity")?parseFloat(c.attr("Opacity")):.6},e=new b(d),f=c.attr("Key")||c.attr("key");f&&(this.symbols[f]=e)},h.prototype.createTextSymbol=function(b){var c={text:b.attr("Text")?b.attr("Text"):"Text",fontFamilyName:b.attr("FontFamilyName")?b.attr("FontFamilyName"):"宋体",fontSize:b.attr("FontSize")?parseInt(b.attr("FontSize")):25,foreground:a.fromHex(b.attr("Foreground")),offsetX:b.attr("OffSetX")?parseInt(b.attr("OffSetX")):0,offsetY:b.attr("OffSetY")?parseInt(b.attr("OffSetY")):0},d=new g(c),e=b.attr("Key")||b.attr("key");e&&(this.symbols[e]=d)},h}(Z,gb,eb,hb,ib,mb,jb),ob=function(){var a={Pattern:"Pattern",TextLabel:"TextLabel",PictureLabel:"PictureLabel",LegendLabel:"LegendLabel",NorthArrow:"NorthArrow",ScaleBar:"ScaleBar"};return a}(),pb=function(a,b){var c=function(b){var c=b||{};this.id=a.newGuid(),this.x=c.x,this.y=c.y,this.name=c.name};return c.prototype.getPatternType=function(){return b.Pattern},c.prototype.toHtml=function(){},c}(d,ob),qb=function(){function a(a,b){for(var c=a,d=0;d<b.length;d++)if(b[d]){var e="{"+d+"}";c=c.replace(e,b[d])}return c
}var b=function(a){this.color=a.color,this.fontFamily=a.fontFamily,this.fontSize=a.fontSize,this.fontStyle=a.fontStyle,this.fontWeight=a.fontWeight};return b.prototype.toStyle=function(){var b="font-family:{0};font-size:{1};font-style:{2};font-weight:{3};color:{4};",c=[this.fontFamily,this.fontSize+"px",this.fontStyle,this.fontWeight,this.color];return a(b,c)},b}(),rb=function(a,b,c){var d=function(a){var c=a||{};b.call(this,c),this.text=c.text,this.textStyle=c.textStyle};return a.extend2(d,b),d.prototype.toHtml=function(){return"<span style='{0}'>{1}</span>".replace("{0}",this.textStyle.toStyle()).replace("{1}",this.text)},d.prototype.getPatternType=function(){return c.TextLabel},d}(b,pb,ob),sb=function(a,b,c){var d=function(a){var c=a||{};b.call(this,c),this.source=c.source,this.height=c.height,this.width=c.width};return a.extend2(d,b),d.prototype.toHtml=function(){return"<img src='{0}' draggable='false' width='{1}' height='{2}'>".replace("{0}",this.source).replace("{1}",this.width).replace("{2}",this.height)},d.prototype.getPatternType=function(){return c.PictureLabel},d}(b,pb,ob),tb=function(a,b,c){var d=function(a){var c=a||{};b.call(this,c),this.source=c.source,this.height=c.height,this.width=c.width};return a.extend2(d,b),d.prototype.toHtml=function(){return"<img src='{0}' draggable='false' width='{1}' height='{2}'>".replace("{0}",this.source).replace("{1}",this.width).replace("{2}",this.height)},d.prototype.getPatternType=function(){return c.NorthArrow},d}(b,pb,ob),ub=function(a,b,c){var d=function(a){var c=a||{};b.call(this,c),this.scale=c.scale,this.unit=c.unit,this.height=c.height,this.width=c.width,this.background=c.background};return a.extend2(d,b),d.prototype.toHtml=function(){return"<div style='height:30px;line-height:30px;text-align: center;width: {0}px;height: {1}px;background: {2}'>{3} {4}</div>".replace("{0}",this.width).replace("{1}",this.height).replace("{2}",this.background).replace("{3}",this.scale).replace("{4}",this.unit)},d.prototype.getPatternType=function(){return c.ScaleBar},d}(b,pb,ob),vb=function(){function a(){var a={};return a.click=[],a.mouseout=[],a.mouseover=[],a.mousedown=[],a.mouseup=[],a.dblclick=[],a}var b=null,c=function(d){var e=d||{};this.canvas=e.canvas?e.canvas:c.createCanvas(e.style),b=b||echarts,this.myChart=b.init(this.canvas),this.legend=[],this.events=a()};return c.prototype.setOption=function(a){this.myChart.setOption(a)},c.prototype.getLegend=function(){return this.legend},c.createCanvas=function(a){var b=document.createElement("div");return a?(b.style.width=a.width,b.style.height=a.height):(b.style.width="100%",b.style.height="100%",b.style.position="relative"),b},c.prototype.dispose=function(){this.myChart.dispose()},c.prototype.copy=function(){return new c},c.prototype.resize=function(){this.myChart.resize()},c.prototype.bindEvents=function(a,b){var c={dblclick:"dblclick",click:"click",mouseover:"mouseover",mouseout:"mouseout",mousedown:"mousedown",mouseup:"mouseup"},d=this;for(var e in c)d.myChart.on(e,function(d){return function(e){var f={name:e.name,value:e.value,index:e.dataIndex,percent:e.percent,color:e.color,feature:b};if(a.events[c[d]])for(var g=0;g<a.events[c[d]].length;++g){var h=a.events[c[d]][g];h(f)}}}(e))},c.prototype.on=function(a,b){if(a in this.events){var c=this.events[a];c.push(b)}},c.prototype.un=function(a,b){if(a in this.events)for(var c=this.events[a],d=0,e=c.length;e>d;++d){var f=c[d];f===b&&(c.splice(d,1),d--,e--)}},c.prototype.toHtml=function(a){var b=this.getOption(a);return b?(this.setOption(b.data),this.legend=b.legend,this.canvas):null},c}(),wb=function(a,b,c){var d=function(a){var c=a||{};b.call(this,c),this.column=c.column,this.height=c.height,this.width=c.width,this.contentStyle=c.contentStyle,this.titleStyle=c.titleStyle,this.legend=c.legend};return a.extend2(d,b),d.prototype.toHtml=function(){this.column>=this.legend.getCount()&&(this.column=this.legend.getCount());for(var a=this.titleStyle.toStyle(),b=this.contentStyle.toStyle(),c='<table style="width: {0}px;height: {1}px"><caption style="text-align: center"><div class="caption" style="{2}">{3}</div></caption><tbody>'.replace("{3}",this.legend.name).replace("{2}",a).replace("{1}",this.height).replace("{0}",this.width),d=this.legend.getCount()%this.column,e=(this.legend.getCount()-d)/this.column,f=0;e>f;f++){for(var g="<tr>",h=0;h<this.column;h++){var i=this.legend.getItem(this.column*f+h),j='<td>{0}</td><td><div class = "item" style="{1}">{2}</div></td>'.replace("{0}",i.svg.innerHTML).replace("{1}",b).replace("{2}",i.content);g+=j}g+="</tr>",c+=g}for(var g="<tr>",f=0;d>f;f++){var i=this.legend.getItem(this.column*e+f),j='<td>{0}</td><td><div class = "item" style="{1}">{2}</div></label></td>'.replace("{0}",i.svg.innerHTML).replace("{1}",b).replace("{2}",i.content);g+=j}return g+="</tr>",c+=g,c+="</tbody></table>"},d.prototype.getPatternType=function(){return c.LegendLabel},d}(b,pb,ob),xb=function(){var a=function(){};return a.prototype.canRender=function(){},a.prototype.createLegend=function(){},a.prototype.render=function(){},a.prototype.unRender=function(){},a.prototype.show=function(){},a}(),yb=function(a,b){function c(a,b){var c,d,e;try{c=a.toString().split(".")[1].length}catch(f){c=0}try{d=b.toString().split(".")[1].length}catch(f){d=0}return e=Math.pow(10,Math.max(c,d)),(a*e+b*e)/e}var d=null,e=function(a){var c=a||{};b.call(this,c),this.fields=c.fields,this.style=c.style,this.options=c.options||{type:1},d=this};return a.extend2(e,b),e.prototype.copy=function(){return new e({fields:this.fields,options:this.options,style:this.style})},e.prototype.getOption=function(a){switch(this.options.type){case 0:return e.simple(a);case 1:return e.doughnut(a);default:return e.simple(a)}},e.doughnut=function(a){for(var b=[],e=[],f=0,g=0,h=d.options.radius,i=0;i<d.fields.length;i++){var j=d.fields[i];b.push({value:a.getValue(j.name).value,name:j.alias}),g=c(g,a.getValue(j.name).value),0==a.getValue(j.name).value&&f++,d.options.color?d.options.color.constructor===Array&&e.push({name:j.alias,color:d.options.color[i]||"#000"}):e.push(j.alias)}if(f==d.fields.length)return null;a.extend&&(h=a.extend.radius);var k={tooltip:d.options.tooltip||{},grid:d.options.grid,series:[{name:d.options.name||"",type:"pie",avoidLabelOverlap:!1,radius:h||["50%","70%"],label:{normal:{show:!0,position:"center",formatter:function(){return g},textStyle:d.options.labelStyle}},data:b}]};d.options.color&&d.options.color.constructor===Array&&(k.series[0].itemStyle={normal:{color:function(a){return d.options.color[a.dataIndex]}}});var l={data:k,legend:e};return l},e.simple=function(a){for(var b=[],c=[],e=0,f=d.options.radius,g=0;g<d.fields.length;g++){var h=d.fields[g];b.push({value:a.getValue(h.name).value,name:h.alias}),0==a.getValue(h.name).value&&e++,d.options.color?d.options.color.constructor===Array&&c.push({name:h.alias,color:d.options.color[g]||"#000"}):c.push(h.alias)}if(e==d.fields.length)return null;a.extend&&(f=a.extend.radius);var i={tooltip:d.options.tooltip||{},grid:d.options.grid,series:[{name:d.options.name||"",type:"pie",radius:f||"80%",label:{normal:{show:!1}},data:b}]};d.options.color&&d.options.color.constructor===Array&&(i.series[0].itemStyle={normal:{color:function(a){return d.options.color[a.dataIndex]}}});var j={data:i,legend:c};return j},e}(b,vb),zb=function(a,b){var c=null,d=function(a){var d=a||{};b.call(this,d),this.fields=d.fields,this.style=d.style,this.options=d.options||{color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"]},c=this};return a.extend2(d,b),d.prototype.copy=function(){return new d({fields:this.fields,options:this.options,style:this.style})},d.prototype.getOption=function(a){var b=[],d=[];this.options.itemStyle||(this.options.itemStyle={});for(var e=0;e<this.fields.length;e++){var f=this.fields[e];b.push({value:a.getValue(f.name).value,name:f.alias}),this.options.color?this.options.color.constructor===Array&&d.push({name:f.alias,color:this.options.color[e]||"#000"}):d.push(f.alias)}var g={tooltip:this.options.tooltip||{},grid:this.options.grid||{top:"1%"},xAxis:{show:!1,data:[]},yAxis:{show:!1,type:"value"},series:[{type:"bar",name:this.options.name||"",data:b,itemStyle:{normal:{color:function(a){return c.options.color[a.dataIndex]},barBorderColor:this.options.itemStyle.barBorderColor,barBorderRadius:this.options.itemStyle.barBorderRadius,barBorderWidth:this.options.itemStyle.barBorderWidth,label:this.options.itemStyle.label}},barCategoryGap:this.options.barCategoryGap,barMinHeight:this.options.barMinHeight,barMaxWidth:this.options.barMaxWidth,barWidth:this.options.barWidth}]},h={data:g,legend:d};return h},d}(b,vb),Ab=function(a,b){var c=function(a){var c=a||{};b.call(this,c),this.fields=c.fields,this.style=c.style,this.options=c.options||{}};return a.extend2(c,b),c.prototype.copy=function(){return new c({fields:this.fields,options:this.options,style:this.style})},c.prototype.getOption=function(a){for(var b=[],c=[],d=0,e=0;e<this.fields.length;e++){var f=this.fields[e];b.push({value:a.getValue(f.name).value,name:f.alias}),0==a.getValue(f.name).value&&d++,c.push(f.alias)}if(d==this.fields.length)return null;var g={tooltip:this.options.tooltip||{},grid:this.options.grid||{top:"1%"},xAxis:this.options.xAxis||{data:c,boundaryGap:!1,axisLabel:{interval:0,rotate:-90}},yAxis:this.options.yAxis||{show:!1,type:"value"},series:[{name:this.options.name||"",type:"line",data:b}]},h={data:g,legend:[c[0]+" - "+c[c.length-1]]};return h},c}(b,vb),Bb=function(){var a=function(a){var b=a||{};this.id=b.id,this.items=[],this.layerId=b.layerId,this.name=b.name};return a.prototype.add=function(a){this.items.push(a)},a.prototype.getCount=function(){return this.items.length},a.prototype.getItem=function(a){return this.items[a]},a.prototype.clear=function(){this.items.length=0},a}(),Cb=function(){var a=function(a){var b=a||{};this.color=b.color,this.svg=b.svg,this.content=b.content};return a}(),Db=function(a,b,c,d,e,f,g){var h=null,i=function(a){var c=a||{};b.call(this,c),this.chartTemplate=c.chartTemplate,this.map=c.map.map,this.resize=c.resize||!1,this.charts=[],!c.map||this.resize&&(c.map.on("extentchanged",i.onExtentChanged.call(this)),h=c.map)};return a.extend2(i,b),i.onExtentChanged=function(){for(var a=h.getZoomLevel(),b=0;b<this.charts.length;b++){var c=this.charts[b].element.getElement();c.style.width=12*a+"%",c.style.height=12*a+"%",this.charts[b].value.resize()}},i.prototype.canRender=function(){return!1},i.prototype.createLegend=function(){var a=this.chartTemplate.getLegend();this.charts.length>0&&(a=this.charts[0].value.getLegend());for(var b=["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],c=new f,d=null,e=0;e<a.length;e++){var h=a[e];d=new g("object"==typeof h?{color:h.color,content:h.name}:{color:b[e],content:h}),c.add(d)}return c},i.prototype.render=function(a){var b=this.chartTemplate.copy();b.bindEvents(this.chartTemplate,a);var d=b.toHtml(a);if(d){var e=a.geometry.getBaryCenter(),f=new c.Overlay({positioning:"center-center",element:d,stopEvent:!1});f.setPosition([e.x,e.y]),this.map.addOverlay(f),i.add.call(this,{element:f,value:b})}},i.prototype.unRender=function(){i.remove.call(this)},i.prototype.show=function(a){var b="block";b=a?"block":"none";for(var c=0;c<this.charts.length;c++){var d=this.charts[c].element.getElement();d.style.display=b}},i.add=function(a){this.charts.push(a)},i.remove=function(){for(var a=0;a<this.charts.length;a++)this.map.removeOverlay(this.charts[a].element);this.charts=[]},i}(b,xb,ol,gb,Z,Bb,Cb),Eb=function(a,b,c,d,e,f){var g=null,h=function(a){var c=a||{};b.call(this,c),this.colorRamp=c.colorRamp,this.fieldName=c.fieldName,this.grade=c.grade,this.minDataValue=c.minDataValue,this.maxDataValue=c.maxDataValue,this.legendOptions=h.autoGrade(this.minDataValue,this.maxDataValue,this.grade,this.colorRamp),this.cachedSymbols={},g=this};return a.extend2(h,b),h.prototype.canRender=function(){return!0},h.autoGrade=function(a,b,c,d){for(var e=Math.floor((b-a)/c),f=[],g=d.createRamp(),h=[],i=0;c>=i;i++){var j=a+i*e;f.push(j),i>0&&h.push({value:j,color:g[i-1],content:f[i-1]+"-"+f[i]})}return b>a+c*e&&(f.pop(),f.push(b),h.pop(),h.push({value:b,color:g[c-1],content:f[i-2]+"-"+f[i-1]})),h},h.prototype.createLegend=function(){for(var a=new c,b=null,e=0;e<this.legendOptions.length;e++){var f=this.legendOptions[e];f.color="#"+f.color.substring(3,f.color.length),b=new d({color:f.color,content:f.content}),a.add(b)}return a},h.prototype.render=function(a){var b,c=a.getValue(g.fieldName).value,d=null;for(b=0;b<g.legendOptions.length;b++)if(g.legendOptions[b].value>=c){if(g.cachedSymbols.hasOwnProperty(b))return g.cachedSymbols[b];d=g.legendOptions[b].color;break}var h=f.fromHex(d);h.a=155;var i=new e({borderColor:h,fillColor:h});return g.cachedSymbols[b]=i,i},h}(b,xb,Bb,Cb,gb,Z),Fb=function(){var a={None:0,TileLayer:1,VectorLayer:2,FeatureLayer:3,ElementLayer:4,CanvasLayer:5,HeatMapLayer:6,ImageLayer:7,ClusterLayer:8,FeatureRenderLayer:11,VectorTileLayer:12,GroupLayer:99};return a}(),Gb=function(a,b,c,d,e,f,g,h,i){var j=null,k=function(a){var c=a||{};b.call(this,c),this.fieldName=c.fieldName,this.dotValue=c.dotValue,this.symbol=c.symbol,this.map=c.map,this.layerCreator=c.layerCreator,this.featureLayer=k.createLayer(this.map,this.layerCreator,this.symbol),j=this};return k.prototype.canRender=function(){return!1},k.prototype.createLegend=function(){var a=this.symbol.fillColor.toHex(),b="#"+a.substring(3,a.length),c=new i({color:b,content:"点值:"+this.dotValue}),d=new h;return d.add(c),d},k.prototype.render=function(a){var b=a.getValue(j.fieldName).value;if(b>=j.dotValue){if(0==j.dotValue)return;var e=Math.floor(b/j.dotValue),h=a.geometry,i=[];if(h instanceof d)for(var l=0;l<h.getGeometryCount;l++){i=k.calRandomPoints(h.getGeometry(l),e);for(var m=0;m<i.length;m++){var n=new g({x:i[m].x,y:i[m].y,spatialReference:h.spatialReference}),o=new f({geometry:n});j.featureLayer.add(o)}}else if(h instanceof c){i=k.calRandomPoints(h,e);for(var p=0;p<i.length;p++){var q=new g({x:i[p].x,y:i[p].y,spatialReference:h.spatialReference}),r=new f({geometry:q});j.featureLayer.add(r)}}}},k.prototype.unRender=function(){j.map.removeLayer(j.featureLayer)},k.prototype.show=function(a){j.featureLayer.setVisible(a)},k.createLayer=function(a,b,c){var d=a.findLayer("dotdensity"),f=null;return null==d&&(f={id:"dotdensity",name:"dotdensity",layerType:e.FeatureLayer,opacity:1,visible:!0,symbol:c},d=b.createLayer(f),a.addLayer(d)),d},k.calRandomPoints=function(a,b){var c=[];if(!a||0>=b)return c;for(var d=a.envelope(),e=0,f=0,g=0,h=!1,i=d.maxx-d.minx,j=d.maxy-d.miny;g!=b;){e=Math.random(),f=Math.random();var l=d.minx+e*i,m=d.miny+f*j,n={x:l,y:m};h=k.isInPolygon(a,n),h&&(c.push(n),g++)}return c},k.isInPolygon=function(a,b){var c=!0,d={y:b.y,x:a.envelope().minx-1e5},e={StartPoint:b,EndPoint:d},f=a.rings,g=0;if(!f)return!1;for(var h=0;h<f.length;h++){var i=f[h].points;if(i)for(var j=0;j<i.length-1;j++){var l=i[j],m=i[j+1],n={StartPoint:l,EndPoint:m};if(null!=n&&null!=e){var o=k.isSegmentCrossing(n,e),p=k.isSegmentCrossing(e,n);o&&p&&g++}}}return c=g%2==0?!1:!0},k.isSegmentCrossing=function(a,b){var c=!1,d=k.calPointLoaction(b.StartPoint,a),e=k.calPointLoaction(b.EndPoint,a);return c=d>0&&e>0?!1:0>d&&0>e?!1:!0},k.calPointLoaction=function(a,b){var c=0,d=b.StartPoint.x-a.x,e=b.StartPoint.y-a.y,f=b.EndPoint.x-a.x,g=b.EndPoint.y-a.y;return c=d*g-f*e},k}(b,xb,F,G,Fb,U,v,Bb,Cb),Hb=function(a,b){var c=function(a){var c=a||{};b.call(this,c),this.symbol=c.symbol};return a.extend2(c,b),c.prototype.canRender=function(){return!0},c.prototype.render=function(){return this.symbol},c}(b,xb),Ib=function(a,b,c,d){var e=function(a){var c=a||{};b.call(this,c),this.symbol=c.symbol,this.fieldName=c.fieldName,this.infos=[]};return a.extend2(e,b),e.prototype.canRender=function(){return!0},e.prototype.createLegend=function(){var a=new c,b=null;if(this.infos.length>0){var e=this.infos[i];b=new d({color:e.symbol.fillColor,content:e.value}),a.add(b)}else b=new d({color:this.symbol.fillColor,content:this.fieldName}),a.add(b);return a},e.prototype.render=function(a){var b=a.getValue(that.fieldName).value;if(!(that.infos.length>0))return that.symbol;for(var c=0;c<that.infos.length;c++)if(that.infos[c].value===b)return that.infos[c].symbol},e.prototype.addValue=function(a){for(var b=0;b<this.infos.length;b++)if(this.infos[b].value===a.value)return;this.infos.push(a)},e}(b,xb,Bb,Cb),Jb=function(){var a=function(){};return a.prototype.canRender=function(){},a.prototype.render=function(){},a.prototype.unRender=function(){},a.prototype.show=function(){},a}(),Kb=function(a,b){var c=function(a){var c=a||{};b.call(this,c),this.symbols=c.symbols};return a.extend2(c,b),c.prototype.canRender=function(){return!0},c.prototype.render=function(){return this.symbols},c}(b,Jb),Lb=function(a){var b=function(a){this.ofeature=a};return b.prototype.get=function(a){return this.ofeature.get(a)},b.prototype.getExtent=function(){var b=this.ofeature.getExtent(),c=new a({minx:b[0],miny:b[1],maxx:b[2],maxy:b[3]});return c},b.prototype.getGeometry=function(){return this},b.prototype.getId=function(){return this.ofeature.getId()},b.prototype.getProperties=function(){var a=this.ofeature.getProperties(),b=[];for(var c in a)b.push({key:c,value:a[c]});return b},b.prototype.getType=function(){return this.ofeature.getType()},b}(u),Mb=function(){var a=function(){};return a.prototype.stat=function(){},a}(),Nb=function(){var a=function(a){var b=a||{};this.ways=b.ways,this.broweName=b.broweName};return a}(),Ob={Count:1,Sum:2,Avg:4},Pb=function(a,b){var c=function(a){var c=a||{};b.call(this,c),this.group=c.group,this.code=c.code,this.statItems=[]};return a.extend2(c,b),c.prototype.add=function(a){this.statItems.push(a)},c.prototype.remove=function(a){var b=this.statItems.indexOf(a);this.statItems.splice(b,1)},c.prototype.getCount=function(){return this.statItems.length},c.prototype.getItem=function(a){return this.statItems[a]},c}(b,Nb,Ob),Qb=function(a,b){var c=function(a){var c=a||{};b.call(this,c),this.group=c.group,this.kindItems=[]};return a.extend2(c,b),c.prototype.add=function(a){this.kindItems.push(a)},c.prototype.remove=function(a){var b=this.kindItems.indexOf(a);this.kindItems.splice(b,1)},c.prototype.getCount=function(){return this.kindItems.length},c.prototype.getItem=function(a){return this.kindItems[a]},c.prototype.contains=function(a){for(var b=0;b<this.kindItems.length;++b){var c=this.kindItems[b];if(c.kind==a.kind)return!0}},c}(b,Nb),Rb=function(){var a=function(){};return a}(),Sb=function(a,b){var c=function(a){var c=a||{};b.call(this,c),this.fields=c.fields,this.rows=[]};return a.extend2(c,b),c.prototype.add=function(a){this.rows.push(a)},c.prototype.remove=function(a){var b=this.rows.indexOf(a);this.rows.splice(b,1)},c.prototype.getCount=function(){return this.rows.length},c.prototype.getItem=function(a){return this.rows[a]},c}(b,Rb),Tb=function(a,b){var c=function(a){var c=a||{};b.call(this,c),this.rows=[]};return a.extend2(c,b),c.prototype.add=function(a){this.rows.push(a)},c.prototype.remove=function(a){var b=this.rows.indexOf(a);this.rows.splice(b,1)},c.prototype.getCount=function(){return this.rows.length},c.prototype.getItem=function(a){return this.rows[a]},c}(b,Rb),Ub=function(){var a=function(a){var b=a||{};this.way=b.way,this.field=b.field,this.value=b.value};return a}(),Vb=function(){var a=function(a){var b=a||{};this.kind=b.kind,this.cells=[]};return a.prototype.add=function(a){this.cells.push(a)},a.prototype.remove=function(a){var b=this.cells.indexOf(a);this.cells.splice(b,1)},a.prototype.getCount=function(){return this.cells.length},a.prototype.getItem=function(a){return this.cells[a]},a}(),Wb=function(){var a=function(){this.values=[]};return a.prototype.add=function(a){this.values.push(a)},a}(),Xb=function(){var a=function(a){var b=a||{};this.name=b.name,this.alias=b.alias,this.type=b.type};return a}(),Yb=function(a,b,c,d,e,f,g,h,i,j,k){function l(a,b){return a&b}function m(){var a={stat:function(a,b){for(var c=this.createOutput(a),d=0;d<a.getCount();++d){var e=a.getItem(d),f=this.extract(b,a.code,e),g=this.statElement(a.ways,e.field.type,f,e);c.add(g)}return c},statElement:function(a,b,c,d){var e=new i,f=d.field;return e.add(f.alias),l(a,k.Sum)&&e.add(this.sum(c,b,d)),l(a,k.Avg)&&e.add(this.avg(c,b,d)),l(a,k.Count)&&e.add(this.count(c)),e},extract:function(a,b,c){for(var d=(c.field,0);d<a.length;++d){var e=a[d],f=e.attributeSet,g=f.findByDic(b);null!=g&&g.value==c.value&&a.push(e)}return a},count:function(a){return a.length},sum:function(a,b){for(var c=0,d=0;d<a.length;++d){var e=a[d],f=e.attributeSet,g=f.findByDic(b);if(null!=g){var h=f.find(g.ref);null!=h&&(c+=parseFloat(h.value))}}return c},avg:function(a,b){for(var c=0,d=0,e=0;e<a.length;++e){var f=a[e],g=f.attributeSet,h=g.findByDic(b);if(null!=h){var i=g.find(h.ref);null!=i&&(c+=h.value,d++)}}return c/d},createOutput:function(a){var b=[],c=a.ways;return b.push(new j({name:a.broweName,alias:a.broweName})),l(c,k.Sum)&&b.push(new j({name:"sum",alias:"合计"})),l(c,k.Avg)&&b.push(new j({name:"avg",alias:"平均值"})),l(c,k.Count)&&b.push(new j({name:"count",alias:"总数"})),new e({fields:b})}};return a}function n(){var a={stat:function(a,b){for(var c=(a.ways,new f),d=0;d<a.getCount();++d){var e=a.getItem(d),g=this.extract(e.kind,b),h=this.statRow(a.ways,g,e);c.add(h)}return c},statRow:function(a,b,c){for(var d=new h({kind:c.kind}),e=0;e<c.getCount();e++){var f=c.getItem(e),g=f.field;l(a,k.Sum)&&d.add(this.statCell(k.Sum,b,g)),l(a,k.Avg)&&d.add(this.statCell(k.Avg,b,g)),l(a,k.Count)&&d.add(this.statCell(k.Count,b,g))}return d},statCell:function(a,b,c){var d=this.statValue(a,b,c),e=new g({way:a,value:d,field:c});return e},statValue:function(a,b,c){switch(a){case k.Sum:return this.sum(b,c);case k.Avg:return this.avg(b,c);case k.Count:return this.count(b)}return 0},count:function(a){return a.length},sum:function(a,b){for(var c=0,d=0;d<a.length;++d){var e=a[d],f=e.attributeSet,g=f.find(b.name);c+=parseFloat(g.value)}return c},avg:function(a,b){for(var c=0,d=a.length,e=0;e<a.length;++e){var f=a[e],g=f.attributeSet,h=g.find(b.name);c+=parseFloat(h.value)}return c/d},extract:function(a,b){for(var c=[],d=0;d<b.length;++d){var e=b[d];e.kind==a&&c.push(e)}return c}};return a}var o=function(a){var c=a||{};b.call(this,c),this.kindGroup=c.kindGroup,this.elementLayer=c.elementLayer};return a.extend2(o,b),o.prototype.stat=function(a){return a instanceof c?this.groupStat(a):a instanceof d?this.kindStat(a):void 0},o.prototype.groupStat=function(a){var b=this.extractGroupElements(a),c=m();return c.stat(a,b)},o.prototype.kindStat=function(a){var b=this.extractKindElements(a),c=n();return c.stat(a,b)},o.prototype.extractKindElements=function(a){for(var b=[],c=this.kindGroup.find(a.group),d=0;d<this.elementLayer.getCount();++d){var e=this.elementLayer.get(d);this.kindGroup.contains(c,e.kind)&&b.push(e)}return b},o.prototype.extractGroupElements=function(a){for(var b=[],c=a.code,d=0;d<this.elementLayer.getCount();++d){var e=this.elementLayer.get(d),f=e.attributeSet;f.containsDic(c)&&b.push(e)}return b},o}(b,Mb,Pb,Qb,Sb,Tb,Ub,Vb,Wb,Xb,Ob),Zb=function(){var a=function(a){this.kinds=[]};return a.prototype.add=function(a){this.kinds.push(a)},a.prototype.remove=function(a){var b=this.kinds.indexOf(a);this.kinds.splice(b,1)},a.prototype.getCount=function(){return this.kinds.length},a.prototype.getItem=function(a){return this.kinds[a]},a.prototype.find=function(a){for(var b=0;b<this.kinds.length;++b){var c=this.kinds[b];if(c.type==a)return c}return null},a.prototype.contains=function(a,b){for(var c=0;c<a.dic.length;++c){var d=a.dic[c];if(d==b)return!0}return!1},a}(),$b=function(){var a=function(a){var b=a||{};this.name=b.name,this.items=b.items};return a.prototype.contains=function(a){for(var b=0;b<this.items.length;++b){var c=this.items[b];if(c==a)return!0}return!1},a}(),_b=function(){var a=function(a){var b=a||{};this.kind=b.kind,this.statItems=[]};return a.prototype.add=function(a){this.statItems.push(a)},a.prototype.remove=function(a){var b=this.statItems.indexOf(a);this.statItems.splice(b,1)},a.prototype.getCount=function(){return this.statItems.length},a.prototype.getItem=function(a){return this.statItems[a]},a}(),ac=function(){var a=function(a){var b=a||{};this.field=b.field,this.value=b.value};return a}(Ob),bc=function(){var a=function(){};return a.prototype.fromSymbol=function(){},a.prototype.toSymbol=function(){},a}(),cc=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=Math.PI/180,p=function(a){if(!a)return new d.style.Style;if(a.tag)return a.tag;var b;return a instanceof g?b=q(a):a instanceof h?b=r(a):a instanceof f?b=t(a):a instanceof i?b=v(a):a instanceof j?b=y(a):a instanceof n?b=A(a):a instanceof l?b=C(a):a instanceof m&&(b=E(a)),b},q=function(a){var b=new d.style.Style({stroke:s(a)});return b},r=function(a){for(var b=[],c=0;c<a.lineSymbols.length;c++){var e=new d.style.Style({stroke:s(a.lineSymbols[c])});b.push(e)}return b},s=function(a){for(var b=k[a.style],c=[],e=0,f=b.length;f>e;++e)c[e]=b[e]*a.width*.8;return new d.style.Stroke({color:a.color.toArray(),width:a.width,lineDash:c})},t=function(a){var b=new d.style.Style(u(a));return b},u=function(a){for(var b=k[a.style],c=[],e=0,f=b.length;f>e;++e)c[e]=b[e]*a.borderThickness*.8;return{fill:new d.style.Fill({color:a.fillColor.toArray()}),stroke:new d.style.Stroke({color:a.borderColor.toArray(),width:a.borderThickness,lineDash:c})}},v=function(a){var b=new d.style.Style({image:w(a)});return b},w=function(a){var b=new d.style.Fill({color:a.fillColor.toArray()}),c=new d.style.Stroke({color:a.borderColor.toArray(),width:a.borderThickness});switch(a.style){case"triangle":return x(b,c,3,a.size,void 0,void 0,0);case"square":return x(b,c,4,a.size,void 0,void 0,45);case"x":return x(b,c,4,a.size,0,0,45);case"cross":return x(b,c,4,a.size,0,0,0);case"star":return x(b,c,5,a.size,0,a.size/2.618,a.angle);case"regular":return x(b,c,a.points,a.size,a.radius1,a.radius2,a.angle);default:case"circle":return new d.style.Circle({fill:b,radius:parseInt(a.size),stroke:c})}},x=function(a,b,c,e,f,g,h){return new d.style.RegularShape({fill:a,stroke:b,points:parseInt(c),radius:parseFloat(e),radius1:parseFloat(f),radius2:parseFloat(g),angle:h*o})},y=function(a){var b=new d.style.Style({image:z(a)});return b},z=function(a){return new d.style.Icon({anchor:[a.offsetX,a.offsetY],size:[a.width,a.height],opacity:a.opacity,anchorXUnits:"pixels",anchorYUnits:"pixels",rotation:a.rotation*o,src:"data:image/png;base64,"+a.source})},A=function(a){var b=new d.style.Style({image:B(a)});return b},B=function(a){var b=new Image;b.src="data:image/svg+xml;base64,"+a.source;var c=document.createElement("canvas"),e=c.getContext("2d");return c.width=a.width,c.height=a.height,e.drawImage(b,0,0,a.width,a.height),new d.style.Icon({anchor:[a.offsetX,a.offsetY],anchorXUnits:"fraction",anchorYUnits:"fraction",img:c,imgSize:[a.width,a.height],opacity:a.opacity,rotation:a.rotation*o})},C=function(a){var b=("normal "+a.fontSize+"px "+a.fontFamilyName,new d.style.Style({text:D(a)}));return b},D=function(a){var b="normal "+a.fontSize+"px "+a.fontFamilyName;return new d.style.Text({textAlign:a.textAlign,textBaseline:"middle",font:b,text:a.text,fill:new d.style.Fill({color:a.foreground.toArray()}),stroke:new d.style.Stroke({color:a.borderColor.toArray(),width:a.borderThickness||3}),offsetX:a.offsetX,offsetY:a.offsetY,rotation:a.rotation*o})},E=function(a){var b=a.fillSymbol?u(a.fillSymbol):void 0,c=null,e=a.markerSymbol;e instanceof i?c=w(e):e instanceof j&&(c=z(e));var f=a.textSymbol?D(a.textSymbol):void 0,g=new d.style.Style({fill:b?b.fill:void 0,stroke:b?b.stroke:void 0,image:c,text:f});return g},F=function(){},G=function(a){c.call(this);var d=a||{};this.symbolCache=d.cache?new b:void 0};return a.extend2(G,c),G.prototype.fromSymbol=function(a){return F(a)},G.prototype.toSymbol=function(a){if(!this.symbolCache)return p(a);if(this.symbolCache.contains(a))return this.symbolCache.get(a);var b=p(a);return this.symbolCache.put(a,b),b},G}(b,m,bc,ol,ab,gb,eb,fb,hb,ib,_,jb,kb,mb),dc=function(){var a=function(){this.attributes=[],this.$type="AttributeSet,http://www.Gs.com"};return a.prototype.copy=function(){for(var b=new a(this),c=0,d=this.attributes.length;d>c;++c){var e=this.attributes[c];b.add(e.copy())}return b},a.prototype.add=function(a){this.attributes.push(a)},a.prototype.remove=function(a){var b=this.attributes.indexOf(a);this.attributes.splice(b,1)},a.prototype.getCount=function(){return this.attributes.length},a.prototype.getItem=function(){return this.attributes[i]},a.prototype.find=function(a){for(var b=0;b<this.attributes.length;++b){var c=this.attributes[b];if(c.name==a)return c}return null},a.prototype.findByDic=function(a){for(var b=0;b<this.attributes.length;++b){var c=this.attributes[b];if(c.value==a)return c}return null},a.prototype.contains=function(a){for(var b=0;b<this.attributes.length;++b){var c=this.attributes[b];if(c.name==a)return!0}return!1},a.prototype.containsDic=function(a){for(var b=0;b<this.attributes.length;++b){var c=this.attributes[b];if(c.dic==a)return!0}return!1},a}(),ec=function(a,b){var c=function(a){var c=a||{};this.name=c.name,this.kind=c.kind,this.attributeSet=new b,this.id=a.id,this.tag=c.tag,this.parent=c.parent,this.$type="ElementBase,http://www.Gs.com"};return c.prototype.getCompositeElement=function(){return null},c.prototype.contains=function(){return!1},c.prototype.copy=function(){var a=new c;return c.clone(a),a},c.prototype.clone=function(b){this.name=b.name,this.kind=b.kind,this.tag=b.tag,this.attributeSet=b.attributeSet.copy(),this.id=a.newGuid()},c.prototype.reset=function(){},c.prototype.unReset=function(){this.parent=null},c.prototype.setName=function(a){this.name=a},c.prototype.accept=function(a){a.accept(this)},c.prototype.replace=function(){},c}(d,dc),fc=function(a,b){var c=function(a){var c=a||{};b.call(this,c),this.geometry=c.geometry,this.symbol=c.symbol,this.$type="Element,http://www.Gs.com"};return a.extend2(c,b),c.prototype.copy=function(){var a=new c;return a.clone(this),a},c.prototype.clone=function(a){c.prototype.uber.clone.call(this,a),this.geometry=null!=a.geometry?a.geometry.copy():null,this.symbol=null!=a.symbol?a.symbol.copy():null},c.prototype.accept=function(a){a.visit(this)},c}(b,ec,d),gc=function(a,b){var c=function(a){var c=a||{};b.call(this,c),this.elements=[],this.$type="CompositeElement,http://www.Gs.com"};return a.extend2(c,b),c.prototype.add=function(a){this.elements.push(a)},c.prototype.remove=function(a){var b=this.elements.indexOf(a);this.elements.splice(b,1)},c.prototype.getCount=function(){return this.elements.length},c.prototype.setName=function(a){for(var b=0,c=this.elements.length;c>b;++b){var d=this.elements[b];d.setName(a)}},c.prototype.getItem=function(a){return this.elements[a]},c.prototype.copy=function(){var a=new c;return a.clone(this),a},c.prototype.clone=function(a){c.prototype.uber.clone.call(this,a);for(var b=0,d=a.elements.length;d>b;++b){var e=a.elements[b];this.elements.push(e.copy())}},c.prototype.reset=function(){for(var a=0,b=this.elements.length;b>a;++a){var c=this.elements[a];!c||(c.parent=this,c.reset())}},c.prototype.unReset=function(){for(var a=0,b=this.elements.length;b>a;++a){var c=this.elements[a];c.unReset()}},c.prototype.accept=function(a){a.accept(this)},c.prototype.find=function(a){for(var b=0;b<this.elements.length;b++)if(this.elements[b].id==a)return this.elements[b];return null},c}(b,ec),hc=function(a,b){var c=function(){this.$type="Plot,http://www.Gs.com",this.controlPoints=[],this.rotatePoint=new a,this.centerPoint=new a};return c.prototype.getControlPoints=function(){return this.controlPoints},c.prototype.setControlPoints=function(a){this.controlPoints!==a&&(this.controlPoints.splice(0,controlPoints.length),this.controlPoints=controlPoints.concat(a))},c.prototype.addControlPoint=function(a){this.controlPoints.push(a)},c.prototype.controlPointCount=function(){return this.controlPoints.length
},c.prototype.setRotatePoint=function(a){this.rotatePoint=a},c.prototype.getRotatePoint=function(){return this.rotatePoint},c.prototype.setCenterPoint=function(a){this.centerPoint=a},c.prototype.getCenterPoint=function(){return this.centerPoint},c.prototype.isControlPoint=function(a){if(null===a)return!1;for(var b=0;b<this.controlPoints.length;++b){var c=this.controlPoints[b];if(c.equals(a))return!0}return!1},c.prototype.isRotatePoint=function(a){return null===a?!1:this.rotatePoint.equals(a)},c.prototype.isCenterPoint=function(a){return null===a?!1:this.centerPoint.equals(a)},c.prototype.findControlPoint=function(a){if(null===a)return null;for(var b in this.controlPoints){var c=this.controlPoints[b];if(c.equals(a))return c}return null},c.prototype.findControPointIndex=function(a){if(null===a)return-1;for(var b in this.controlPoints){var c=this.controlPoints[b];if(c.equals(a))return b}return-1},c.prototype.update=function(a){for(var c=new b,d=0,e=a.length;e>d;++d){var f=a[d].envelope();c=c.union(f),c.spatialReference=a[d].spatialReference}var g=c.center();this.centerPoint.spatialReference=g.spatialReference,this.centerPoint.x=g.x,this.centerPoint.y=g.y,this.rotatePoint.spatialReference=g.spatialReference,this.rotatePoint.x=(this.centerPoint.x+this.controlPoints[0].x)/2,this.rotatePoint.y=(this.centerPoint.y+this.controlPoints[0].y)/2},c.prototype.offset=function(a,b){if(2&b){for(var c=0;c<this.controlPoints.length;++c){var d=this.controlPoints[c];d.offset(a)}this.rotatePoint.offset(a),this.centerPoint.offset(a)}else if(8&b){var e=this.rotatePoint.x-this.centerPoint.x,f=this.rotatePoint.y-this.centerPoint.y;this.rotatePoint.x=this.centerPoint.x+e*a.cos-f*a.sin,this.rotatePoint.y=this.centerPoint.y+e*a.sin+f*a.cos;for(var c=0,g=this.controlPoints.length;g>c;c++){var h=this.controlPoints[c];e=h.x-this.centerPoint.x,f=h.y-this.centerPoint.y,h.x=this.centerPoint.x+e*a.cos-f*a.sin,h.y=this.centerPoint.y+e*a.sin+f*a.cos}}},c.prototype.copy=function(){var a=new c;a.controlPoints=[];for(var b=0;b<this.controlPoints.length;b++)a.controlPoints.push(this.controlPoints[b].copy());return a.rotatePoint=this.rotatePoint.copy(),a.centerPoint=this.centerPoint.copy(),a},c}(v,u,q),ic=function(a,b,c){var d=function(a){var d=a||{};b.call(this,d),this.algorithm=d.algorithm,this.plot=new c,this.$type="PlotElement,http://www.Gs.com"};return a.extend2(d,b),d.prototype.copy=function(){var a=new d;return a.clone(this),a},d.prototype.clone=function(a){d.prototype.uber.clone.call(this,a),this.plot=a.plot.copy(),this.algorithm=a.algorithm},d.prototype.accept=function(a){a.visit(this)},d.prototype.replace=function(a){if(a){this.algorithm=a.algorithm,this.plot=a.plot;for(var b=0;b<this.elements.length;b++){var c=this.elements[b],d=a.find(c.id);c.geometry=d.geometry,c.symbol=d.symbol,c.attributeSet=d.attributeSet}this.attributeSet=a.attributeSet}},d}(b,gc,hc,dc),jc=function(){var a=function(a){var b=a||{};this.name=b.name,this.alias=b.alias,this.type=b.type,this.value=b.value,this.dic=b.dic,this.ref=b.ref,this.$type="Attribute,http://www.Gs.com"};return a.prototype.copy=function(){var b=new a({name:this.name,alias:this.alias,type:this.type,value:this.value,dic:this.dic,ref:this.ref});return b},a}(),kc=function(){var a=function(a){var b=a||{};this.layer=a.layer,"geometry"in b&&(this.geometry=b.geometry),"feature"in b&&(this.feature=b.feature),"element"in b&&(this.element=b.element)};return a.prototype.getGeometry=function(){return this.geometry?this.geometry:this.feature?this.feature.geometry:this.element?this.element.geometry:null},a.prototype.contains=function(a){var b=this.getGeometry();return b===a},a}(),lc=function(){var a=function(){this.graphiclist=[]};return a.prototype.add=function(a){this.isExist(a)||this.graphiclist.push(a)},a.prototype.remove=function(a){for(var b=0,c=this.graphiclist.length;c>b;++b)if(a===this.graphiclist[b]){this.graphiclist.splice(b,1);break}},a.prototype.getGraphic=function(a){return this.graphiclist[a]},a.prototype.getCount=function(){return this.graphiclist.length},a.prototype.clear=function(){this.graphiclist=[]},a.prototype.isExist=function(a){for(var b=0;b<this.graphiclist.length;b++)if(this.graphiclist[b]===a)return!0;return!1},a}(),mc=function(){var a={WMS:101,WMTS:102,XYZ:104,Google:201,BaiduMap:202,BingMaps:203,Tianditu:204,SuperMap:205,OpenStreetMap:206,ArcGisRest:207,PatternLayer:301};return a}(),nc=function(){var a={ImageWMS:701,ImageStatic:702};return a}(),oc=function(){var a=function(){};return a.prototype.createLayer=function(){},a}(),pc=function(){function a(){var a={};return a.click=[],a.mouseout=[],a.mouseover=[],a.mousedown=[],a.mouseup=[],a.dblclick=[],a}var b=function(b){var c=b||{};this.name=c.name,this.id=c.id,this.opacity=c.opacity,this.visible=c.visible,this.zIndex=c.zIndex,this.events=a()};return b.prototype.init=function(){},b.prototype.getLayerId=function(){return this.id},b.prototype.getZIndex=function(){return this.zIndex},b.prototype.setZIndex=function(a){this.zIndex=a},b.prototype.getLayerName=function(){return this.name},b.prototype.getLayerType=function(){},b.prototype.hitTest=function(){},b.prototype.hitTestList=function(){},b.prototype.select=function(){},b.prototype.unSelect=function(){},b.prototype.clear=function(){},b.prototype.getOffset=function(){},b.prototype.getLayer=function(){},b.prototype.setVisible=function(a){this.visible=a},b.prototype.setOpacity=function(a){this.opacity=a},b.prototype.setMinZoom=function(){},b.prototype.setMaxZoom=function(){},b.prototype.getMinZoom=function(){},b.prototype.getMaxZoom=function(){},b.prototype.on=function(){},b.prototype.un=function(){},b}(),qc=function(a,b,c){var d=function(a){b.call(this,a)};return a.extend2(d,b),d.prototype.getLayerType=function(){return c.VectorLayer},d.prototype.add=function(){},d.prototype.remove=function(){},d.prototype.update=function(){},d.prototype.getCount=function(){},d.prototype.get=function(){},d.prototype.selectEdit=function(){},d.prototype.unSelectEdit=function(){},d}(b,pc,Fb),rc=function(a,b,c){var d=function(a){var c=a||{};b.call(this,c),this.url=c.url};return a.extend2(d,b),d.prototype.getLayerType=function(){return c.TileLayer},d}(b,pc,Fb),sc=function(a,b,c){var d=function(a){var c=a||{};b.call(this,c),this.url=c.url};return a.extend2(d,b),d.prototype.getLayerType=function(){return c.VectorTileLayer},d.prototype.render=function(){},d.prototype.unRender=function(){},d}(b,pc,Fb),tc=function(a,b,c){var d=function(a){var c=a||{};b.call(this,c)};return a.extend2(d,b),d.prototype.getLayerType=function(){return c.ElementLayer},d.prototype.add=function(){},d.prototype.addElements=function(){},d.prototype.remove=function(){},d.prototype.showElement=function(){},d.prototype.update=function(){},d.prototype.find=function(){},d.prototype.getCount=function(){},d.prototype.get=function(){},d.prototype.select=function(){},d.prototype.unSelect=function(){},d.prototype.selectEdit=function(){},d.prototype.contains=function(){},d.prototype.unSelectEdit=function(){},d.prototype.bringTop=function(){},d.prototype.sendBottom=function(){},d}(b,pc,Fb),uc=function(a,b,c){var d=function(a){var c=a||{};b.call(this,c)};return a.extend2(d,b),d.prototype.getLayerType=function(){return c.FeatureLayer},d.prototype.add=function(){},d.prototype.addFeatures=function(){},d.prototype.remove=function(){},d.prototype.update=function(){},d.prototype.find=function(){},d.prototype.getCount=function(){},d.prototype.get=function(){},d.prototype.render=function(){},d.prototype.unRender=function(){},d.prototype.selectEdit=function(){},d.prototype.unSelectEdit=function(){},d}(b,pc,Fb),vc=function(a,b,c){var d=function(a){var c=a||{};b.call(this,c),this.url=c.url};return a.extend2(d,b),d.prototype.getLayerType=function(){return c.ImageLayer},d}(b,pc,Fb),wc=function(a,b,c){var d=function(a){var c=a||{};b.call(this,c)};return a.extend2(d,b),d.prototype.getLayerType=function(){return c.ClusterLayer},d.prototype.setStyleFunc=function(){},d.prototype.add=function(){},d.prototype.addElements=function(){},d.prototype.remove=function(){},d.prototype.removeElements=function(){},d.prototype.showElement=function(){},d.prototype.update=function(){},d.prototype.find=function(){},d.prototype.getCount=function(){},d.prototype.get=function(){},d.prototype.select=function(){},d.prototype.unSelect=function(){},d.prototype.contains=function(){},d}(b,pc,Fb),xc=function(){var a=function(a){var b=a||{};this.geometry=b.geometry,this.weight=b.weight};return a}(),yc=function(a,b,c){var d=function(a){b.call(this,a)};return a.extend2(d,b),d.prototype.getLayerType=function(){return c.HeatMapLayer},d.prototype.add=function(){},d.prototype.addHeats=function(){},d.prototype.remove=function(){},d.prototype.update=function(){},d.prototype.get=function(){},d.prototype.getCount=function(){},d.prototype.getBlur=function(){},d.prototype.setBlur=function(){},d.prototype.getRadius=function(){},d.prototype.setRadius=function(){},d.prototype.setGradient=function(){},d.prototype.getGradient=function(){},d}(b,pc,Fb),zc=function(a,b,c,d){function e(a,b,c){var d=a.map.getView(),e=d.getResolutionForZoom(b),f=c/256;return e/f}function f(a,b,c){var d=a.map.getView(),e=d.getZoomForResolution(b),f=c/256,g=0;return f%2===0?g=f/2:.5%f===0&&(g=-.5/f),0>e?0:e-g}var g=function(a){var e=a||{};b.call(this,e),this.geometryConvertor=new d,this.source=new c.source.Vector({wrapX:e.wrapX||!1}),this.map=e.map?e.map:null,this.layer=new c.layer.Heatmap({gradient:e.gradient,source:this.source,blur:e.blur,radius:e.radius}),this.setOpacity(void 0==e.opacity?1:e.opacity),this.setVisible(void 0==e.visible?!0:e.visible),this.setZIndex(void 0==e.zIndex?0:e.zIndex)};return a.extend2(g,b),g.prototype.clear=function(){this.source.clear()},g.prototype.getLayer=function(){return this.layer},g.prototype.setVisible=function(a){g.prototype.uber.setVisible.call(this,a),this.layer.setVisible(a)},g.prototype.setOpacity=function(a){g.prototype.uber.setOpacity.call(this,a),this.layer.setOpacity(a)},g.prototype.setZIndex=function(a){g.prototype.uber.setZIndex.call(this,a),this.layer.setZIndex(a)},g.prototype.add=function(a){var b=new c.Feature({geometry:this.geometryConvertor.toGeometry(a.geometry),weight:a.weight});b.Heat=a,this.source.addFeature(b)},g.prototype.addHeats=function(a){for(var b=[],d=a.length,e=0;d>e;e++){var f=new c.Feature({geometry:this.geometryConvertor.toGeometry(a[e].geometry),weight:a[e].weight});f.Heat=a[e],b.push(f)}this.source.addFeatures(b)},g.prototype.remove=function(a){var b=this.lookup(a);!b||this.source.removeFeature(b)},g.prototype.update=function(a){var b=this.lookup(a);!b||b.set("weight",a.weight)},g.prototype.get=function(a){var b=this.source.getFeatures();return b[a].Heat},g.prototype.getCount=function(){var a=this.source.getFeatures();return a.length},g.prototype.getBlur=function(){return this.layer.getBlur()},g.prototype.setBlur=function(a){this.layer.setBlur(a)},g.prototype.getRadius=function(){return this.layer.getRadius()},g.prototype.setRadius=function(a){this.layer.setRadius(a)},g.prototype.setGradient=function(a){this.layer.setGradient(a)},g.prototype.getGradient=function(){return this.layer.getGradient()},g.prototype.lookup=function(a){for(var b=this.layer.getSource().getFeatures(),c=0,d=b.length;d>c;++c){var e=b[c];if(e.Heat===a)return e}return null},g.prototype.setMinZoom=function(a){var b=this.map,c=e(b,a,256);this.layer.setMaxResolution(c)},g.prototype.setMaxZoom=function(a){var b=this.map,c=e(b,a,256);this.layer.setMinResolution(c)},g.prototype.getMinZoom=function(){var a=this.map,b=this.getMaxResolution();return f(a,b,256)},g.prototype.getMaxZoom=function(){var a=this.map,b=this.getMinResolution();return f(a,b,256)},g}(b,yc,ol,P),Ac=function(a,b,c){var d=function(a){var c=a||{};b.call(this,c)};return a.extend2(d,b),d.prototype.getLayerType=function(){return c.PatternLayer},d.prototype.add=function(){},d.prototype.update=function(){},d.prototype.remove=function(){},d.prototype.find=function(){},d.prototype.hitTest=function(){},d.prototype.getCount=function(){},d.prototype.get=function(){},d.prototype.clear=function(){},d}(b,pc,Fb),Bc=function(a,b,c,d){function e(a){var b=a.projection?a.projection:"EPSG:3857",d=a.extent;if(!d)return c.proj.get(b);var e=new c.proj.Projection({code:a.projection,extent:a.extent});return e}function f(a){switch(a.tileType){case d.XYZ:return i.createFromXYZ(a);case d.WMS:return i.createFromWMS(a);case d.WMTS:return i.createFromWMTS(a);case d.BingMaps:return i.createFromBingMaps(a);case d.BaiduMap:return i.createFromBaiduMap(a);case d.Tianditu:return i.createTianditu(a);case d.OpenStreetMap:return i.createFromOpenStreetMap(a);case d.ArcGisRest:return i.createFromArcGISRest(a);case d.Google:return i.createFromGoogle(a);default:return null}}function g(a,b,c){var d=a.map.getView(),e=d.getResolutionForZoom(b),c=c||256,f=c/256;return e/f}function h(a,b,c){var d=a.map.getView(),e=d.getZoomForResolution(b),c=c||256,f=c/256,g=0;return f%2===0?g=f/2:.5%f===0&&(g=-.5/f),0>e?0:e-g}var i={};i.createFromXYZ=function(a){var b=e(a),d=b.getExtent(),f=a.tileSize||256,g=c.extent.getWidth(d)/f,h=a.matrix?a.matrix:43,i=new Array(h);if(a.resolutions)i=a.resolutions;else for(var j=a.levelShift?a.levelShift:0,k=0;h>k;++k)i[k]=g/Math.pow(2,j+k);var l=new c.layer.Tile({source:new c.source.XYZ({url:a.url,wrapX:a.wrapX||!1,crossOrigin:a.crossOrigin||"",tileSize:f,projection:a.projection||"EPSG:3857",tileGrid:new c.tilegrid.TileGrid({origin:a.origin?a.origin:c.extent.getTopLeft(d),resolutions:i,tileSize:f}),tileUrlFunction:a.tileUrlFunction})});return l.tileSize=f,l},i.createFromWMS=function(a){var b=e(a),d=b.getExtent(),f=a.tileSize||256,g=c.extent.getWidth(d)/f,h=a.matrix?a.matrix:43,i=new Array(h);if(a.resolutions)i=a.resolutions;else for(var j=a.levelShift?a.levelShift:0,k=0;h>k;++k)i[k]=g/Math.pow(2,j+k);var l=new c.layer.Tile({source:new c.source.TileWMS({crossOrigin:a.crossOrigin||"",url:a.url,params:{LAYERS:a.layers,TILED:a.tiled,VERSION:a.version},extent:a.extent,serverType:a.serverType,wrapX:a.wrapX||!1,tileGrid:new c.tilegrid.TileGrid({origin:a.origin?a.origin:c.extent.getTopLeft(d),resolutions:i,tileSize:f}),tileLoadFunction:function(b,c){b.getImage().src=a.setImageUrl?a.setImageUrl(c):c}})});return l.tileSize=f,l},i.createFromWMTS=function(a){for(var b=e(a),d=b.getExtent(),f=a.tileSize||256,g=c.extent.getWidth(d)/f,h=a.matrix?a.matrix:18,i=new Array(h),j=new Array(h),k=a.matrixPrefix?a.matrixPrefix:"",l=a.levelShift?a.levelShift:0,m=0;h>m;++m)i[m]=g/Math.pow(2,l+m),j[m]=k+m;!a.resolutions||(i=a.resolutions);var n=a.origin;(null==n||"undefined"==n)&&(n=c.extent.getTopLeft(d));var o=a.crossOrigin?a.crossOrigin:"anonymous",p=new c.layer.Tile({source:new c.source.WMTS({crossOrigin:o||"",url:a.url,layer:a.layers,matrixSet:a.matrixSet,format:a.format?a.format:"image/png",projection:b,style:a.style,tileGrid:new c.tilegrid.WMTS({origin:n,resolutions:i,matrixIds:j,tileSize:f}),wrapX:a.wrapX||!1})});return p.tileSize=f,p},i.createFromBingMaps=function(a){return new c.layer.Tile({preload:1/0,source:new c.source.BingMaps({crossOrigin:a.crossOrigin||"",key:a.key,imagerySet:a.url,wrapX:a.wrapX||!1})})},i.createFromBaiduMap=function(a){for(var b=[],d=a.matrix?a.matrix:18,e=0;d>e;e++)b[e]=Math.pow(2,18-e);var f=new c.tilegrid.TileGrid({origin:a.origin||[0,0],resolutions:b});return new c.layer.Tile({source:new c.source.TileImage({crossOrigin:a.crossOrigin||"",tileGrid:f,tileUrlFunction:function(b){if(!b)return"";var c=b[0],d=b[1],e=b[2];return 0>d&&(d="M"+-d),0>e&&(e="M"+-e),i.createBaiduUrlFromType(a,d,e,c)},wrapX:a.wrapX||!1})})},i.createBaiduUrlFromType=function(a,b,c,d){var e=a.baiduType||0;switch(e){case 0:return a.url+"/?qt=tile&x="+b+"&y="+c+"&z="+d+"&styles=pl&udt=20151021&scaler=1&p=1";case 1:return a.url+"?time="+Date.parse(new Date)+"&label=web2D&v=016&level="+d+"&x="+b+"&y="+c;case 2:return a.url+"/u=x="+b+";y="+c+";z="+d+";v=009;type=sate&fm=46&udt=20150504";case 99:return a.tileUrlFunction(b,c,d)}},i.createTianditu=function(a){for(var b=[],d=a.urls,e=0;e<d.length;++e){var f=d[e],g=new c.layer.Tile({source:new c.source.XYZ({crossOrigin:a.crossOrigin||"",url:f+"&x={x}&y={y}&l={z}",wrapX:a.wrapX||!1})});b.push(g)}return new c.layer.Group({crossOrigin:a.crossOrigin,layers:b})},i.createFromOpenStreetMap=function(a){return new c.layer.Tile({source:new c.source.OSM({url:a.url})})},i.createFromArcGISRest=function(a){return new c.layer.Tile({extent:a.extent,source:new c.source.TileArcGISRest({crossOrigin:a.crossOrigin||"",projection:a.projection,url:a.url,params:a.params,wrapX:a.wrapX||!1})})},i.createFromGoogle=function(a){return new c.layer.Tile({source:new c.source.XYZ({url:a.url,wrapX:a.wrapX||!1,crossOrigin:a.crossOrigin||""})})};var j=function(a){var c=a||{};b.call(this,c),this.layer=f(a);a.projection?a.projection:"EPSG:3857";this.map=c.map,"number"==typeof a.maxZoom&&a.maxZoom===a.maxZoom&&this.setMaxZoom(a.maxZoom),"number"==typeof a.minZoom&&a.minZoom===a.minZoom&&this.setMinZoom(a.minZoom),this.setOpacity(void 0==c.opacity?1:c.opacity),this.setVisible(void 0==c.visible?!0:c.visible),this.setZIndex(void 0==c.zIndex?0:c.zIndex)};return a.extend2(j,b),j.prototype.hitTest=function(){},j.prototype.select=function(){},j.prototype.unSelect=function(){},j.prototype.clear=function(){},j.prototype.getLayer=function(){return this.layer},j.prototype.setVisible=function(a){j.prototype.uber.setVisible.call(this,a),this.layer.setVisible(a)},j.prototype.setOpacity=function(a){j.prototype.uber.setOpacity.call(this,a),this.layer.setOpacity(a)},j.prototype.setZIndex=function(a){j.prototype.uber.setZIndex.call(this,a),this.layer.setZIndex(a)},j.prototype.setMinZoom=function(a){var b=this.map,c=g(b,a,this.layer.tileSize);this.layer.setMaxResolution(c)},j.prototype.setMaxZoom=function(a){var b=this.map,c=g(b,a,this.layer.tileSize);this.layer.setMinResolution(c)},j.prototype.getMinZoom=function(){var a=this.map,b=this.getMaxResolution();return h(a,b,this.layer.tileSize)},j.prototype.getMaxZoom=function(){var a=this.map,b=this.getMinResolution();return h(a,b,this.layer.tileSize)},j.prototype.on=function(a,b){this.map.on(a,b)},j.prototype.un=function(a,b){this.map.un(a,b)},j}(b,rc,ol,mc),Cc=function(a,b,c,d,e,f,g){function h(a){var b=a.projection?a.projection:"EPSG:3857",d=a.extent;if(!d)return c.proj.get(b);var e=new c.proj.Projection({code:a.projection,extent:a.extent});return e}function i(a){for(var b=a.tileSize||256,d=h(a),e=d.getExtent(),f=c.extent.getWidth(e)/b,g=a.matrix?a.matrix:18,i=new Array(g),l=new Array(g),m=a.matrixPrefix?a.matrixPrefix:"",n=a.levelShift?a.levelShift:0,o=0;g>o;++o)i[o]=f/Math.pow(2,n+o),l[o]=m+o;!a.resolutions||(i=a.resolutions);var p=a.origin;(null==p||"undefined"==p)&&(p=c.extent.getTopLeft(e));var q=j(a.format),r=k(a,q.miniType),s=new c.layer.VectorTile({source:new c.source.VectorTile({url:r,format:q.olFormat,projection:d,tileGrid:new c.tilegrid.WMTS({tileSize:[b,b],origin:p,resolutions:i,matrixIds:l})})});return s.tileSize=b,s}function j(a){var b={mvt:{miniType:"application/x-protobuf;type=mapbox-vector",olFormat:new c.format.MVT({})},geojson:{miniType:"application/json;type=geojson",olFormat:new c.format.GeoJSON({})},topojson:{miniType:"application/json;type=topojson",olFormat:new c.format.TopoJSON({})}};return b[a]}function k(a,b){var c={REQUEST:"GetTile",SERVICE:"WMTS",VERSION:"1.0.0",LAYER:a.layers,STYLE:"",TILEMATRIX:a.matrixPrefix+"{z}",TILEMATRIXSET:a.matrixSet,FORMAT:b,TILECOL:"{x}",TILEROW:"{y}"},d=a.url+"?";for(var e in c)d=d+e+"="+c[e]+"&";return d.slice(0,-1)}function l(a,b,c){var d=a.map.getView(),e=d.getResolutionForZoom(b),f=c/256;return e/f}function m(a,b,c){var d=a.map.getView(),e=d.getZoomForResolution(b),f=c/256,g=0;return f%2===0?g=f/2:.5%f===0&&(g=-.5/f),0>e?0:e-g}var n=function(a){var c=a||{};b.call(this,c),this.layer=i(a),this.map=c.map,this.symbolConverter=new f,this.setOpacity(void 0==c.opacity?1:c.opacity),this.setVisible(void 0==c.visible?!0:c.visible),this.setZIndex(void 0==c.zIndex?0:c.zIndex)};return a.extend2(n,b),n.prototype.getLayer=function(){return this.layer},n.prototype.setVisible=function(a){n.prototype.uber.setVisible.call(this,a),this.layer.setVisible(a)},n.prototype.setOpacity=function(a){n.prototype.uber.setOpacity.call(this,a),this.layer.setOpacity(a)},n.prototype.setZIndex=function(a){n.prototype.uber.setZIndex.call(this,a),this.layer.setZIndex(a)},n.prototype.hitTest=function(a,b){var c=[],e=this.layer;return this.map.map.forEachFeatureAtPixel([a,b],function(a){c.push(a)},{layerFilter:function(a){return e==a}}),c.length>0?new d({feature:new g(c[0])}):null},n.prototype.hitTestList=function(a,b){var c=[],e=(new GraphicSelectionSet,this.layer);this.map.map.forEachFeatureAtPixel([a,b],function(a){c.push(a)},{layerFilter:function(a){return e==a}});for(var f=[],h=0;h<c.length;h++)f.push(new d({feature:new g(f[0])}));return f},n.prototype.render=function(a){var b=this.symbolConverter;this.layer.setStyle(function(c,d){var e=new g(c);if(a.canRender(e,d)){for(var f=a.render(e,d),h=[],i=0;i<f.length;i++){var j=f[i];h.push(b.toSymbol(j))}return h}})},n.prototype.unRender=function(a){a&&a.unRender()},n.prototype.setMinZoom=function(a){var b=this.map,c=l(b,a,this.layer.tileSize);this.layer.setMaxResolution(c)},n.prototype.setMaxZoom=function(a){var b=this.map,c=l(b,a,this.layer.tileSize);this.layer.setMinResolution(c)},n.prototype.getMinZoom=function(){var a=this.map,b=this.getMaxResolution();return m(a,b,this.layer.tileSize)},n.prototype.getMaxZoom=function(){var a=this.map,b=this.getMinResolution();return m(a,b,this.layer.tileSize)},n.prototype.on=function(a,b){this.map.on(a,b)},n.prototype.un=function(a,b){this.map.un(a,b)},n}(b,sc,ol,kc,mc,cc,Lb),Dc=function(a,b,c,d){var e=function(a){var b=a||{};this.source=b.canvas,this.symbolConvertor=b.symbolConvertor,this.geometryConvertor=b.geometryConvertor,this.maxZIndex=1,this.minZIndex=-1};e.prototype.add=function(a){a&&(a instanceof b?this.addElement(a):a instanceof c?this.addCompositeElement(a):a instanceof d&&this.addCompositeElement(a))},e.prototype.addElements=function(a,b){if(a)if(b)this.addSingleElements(a);else{var c=[],d=[];f(a,c,d),c.length>0&&this.addSingleElements(c),d.length>0&&this.addCompositeElements(d)}},e.prototype.addSingleElements=function(b){if(b){for(var c=[],d=0;d<b.length;d++){var e=b[d],f=new a.Feature({geometry:this.geometryConvertor.toGeometry(e.geometry)});f.setStyle(this.symbolConvertor.toSymbol(e.symbol)),f.Geometry=e.geometry,f.Symbol=e.symbol,f.Element=e,e.Olfeature=f;var g=f.getStyle();if(g.length>0){this.maxZIndex+=.01;for(var d=0;d<g.length;d++)g[d].setZIndex(this.maxZIndex)}else g.setZIndex(this.maxZIndex+=.01);c.push(f)}this.source.addFeatures(c)}},e.prototype.addCompositeElements=function(b){if(b){for(var c=b.length,d=[],e=0;c>e;e++){var f=new a.Feature;f.Element=b[e],d.push(b[e])}this.source.addFeatures(d)}},e.prototype.addCompositeElement=function(c){if(c){var d=new a.Feature;d.Element=c,this.source.addFeature(d);for(var e=0,f=c.elements.length;f>e;++e){var g=c.elements[e];g instanceof b?this.addElement(g):this.addCompositeElement(g)}}},e.prototype.addElement=function(b){if(b){var c=new a.Feature({geometry:this.geometryConvertor.toGeometry(b.geometry)});c.setStyle(this.symbolConvertor.toSymbol(b.symbol));var d=c.getStyle();if(d.length>0){this.maxZIndex+=.01;for(var e=0;e<d.length;e++)d[e].setZIndex(this.maxZIndex)}else d.setZIndex(this.maxZIndex+=.01);c.Geometry=b.geometry,c.Symbol=b.symbol,c.Element=b,b.Olfeature=c,this.source.addFeature(c)}};var f=function(a,c,d){for(var e=a.length,f=0;e>f;f++)a[f]instanceof b?c.push(a[f]):(d.push(a[f]),g(a[f],c,d))},g=function(a,c,d){for(var e=a.elements,f=e.length,h=0;f>h;h++)e[h]instanceof b?c.push(e[h]):(d.push(e[h]),g(e[h],c,d))};return e}(ol,fc,ic,gc),Ec=function(a,b,c){var d=function(a){var b=a||{};this.canvas=b.canvas,this.source=b.source};return d.prototype.remove=function(d){d instanceof a?this.removeElement(d):d instanceof b?this.removeElements(d):d instanceof c&&this.removeElements(d)},d.prototype.removeElements=function(b){for(var c=0,d=b.elements.length;d>c;++c){var e=b.elements[c];e instanceof a?this.removeElement(e):this.removeElements(e)}this.removeElement(b)},d.prototype.removeElement=function(a){var b=this.canvas.lookup(a);b&&this.source.removeFeature(b)},d}(fc,ic,gc),Fc=function(a,b,c,d,e){function f(c,d){for(var e=[],f=c.getGeometryCount(),g=0;f>g;++g)for(var h=c.getGeometry(g),i=0,j=h.getPointCount();j>i;i++){var k=h.getPoint(i),l=new a.Feature({geometry:new a.geom.Point([k.x,k.y])});l.setStyle(d),l.Element=new b({geometry:k}),l.Geometry=k,e.push(l)}return e}function g(c,d){for(var e=[],f=c.getGeometryCount(),g=0;f>g;++g)for(var h=c.getGeometry(g),i=0,j=h.getPointCount();j>i;i++){var k=h.getPoint(i),l=new a.Feature({geometry:new a.geom.Point([k.x,k.y])});l.setStyle(d),l.Element=new b({geometry:k}),l.Geometry=k,e.push(l)}return e}function h(b,c){var d=[],e=new a.Feature({geometry:new a.geom.Point([b.minx,b.miny]),style:c});return d.push(e),e=new a.Feature({geometry:new a.geom.Point([b.minx,b.maxy]),style:c}),d.push(e),e=new a.Feature({geometry:new a.geom.Point([b.maxx,b.maxy]),style:c}),d.push(e),e=new a.Feature({geometry:new a.geom.Point([b.maxx,b.miny]),style:c}),d.push(e),e=new a.Feature({geometry:new a.geom.Point([b.minx,b.miny]),style:c}),d.push(e),d}function i(c,d){var e=[];if(null!=c){var f=new a.Feature({geometry:new a.geom.Point([c.x,c.y])});f.setStyle(d),f.Element=new b({geometry:c}),f.Geometry=c,e.push(f)}return e}function j(c,d){var f=[],g=c.center,h=new a.Feature({geometry:new a.geom.Point([g.x,g.y])});return h.setStyle(d),h.Element=new b({geometry:g}),f.push(h),h=new(new a.Feature({geometry:new a.geom.Point([g.x+c.radius,g.y])})()),h.setStyle(d),h.Element=new b({geometry:new e({x:g.x+c.radius,y:g.y})}),f.push(h),f}function k(c,d){var f=[],g=c.center,h=new a.Feature({geometry:new a.geom.Point([g.x,g.y])});return h.setStyle(d),h.Element=new b({geometry:g}),f.push(h),h=new(new a.Feature({geometry:new a.geom.Point([g.x+c.axisX,g.y-c.axisY])})()),h.Element=new b({geometry:new e({x:g.x+c.axisX,y:g.y-c.axisY})}),h.setStyle(d),f.push(h),f}function l(a,b){if(a){var c=a.getGeometryType();switch(c){case d.Polyline:return f(a,b);case d.Polygon:return g(a,b);case d.Point:return i(a,b);case d.Envelope:return h(a,b);case d.Circle:return j(a,b);case d.Ellipse:return k(a,b);default:return[]}}}var m=function(b){this.canvas=b.canvas,this.geometryConvertor=b.geometryConvertor,this.layer=this.canvas.getLayer(),this.feature=null,this.features=[],this.controlSymbol=new a.style.Style({image:new a.style.Circle({fill:new a.style.Fill({color:"blue"}),radius:6})}),this.centerSymbol=new a.style.Style({image:new a.style.Circle({fill:new a.style.Fill({color:"red"}),radius:6})}),this.rotateSymbol=new a.style.Style({image:new a.style.Circle({fill:new a.style.Fill({color:"yellow"}),radius:6})})};return m.prototype.highLight=function(a){if(this.feature=a,a.selected){var d=a.Element;if(d instanceof c){var e=a.HighLight;e?this.highLightFeatures(e):this.highLightPlotElement(d)}else if(d instanceof b){var e=a.HighLight;e?this.highLightFeatures(e):this.highLightElement(d)}}},m.prototype.highLightFeatures=function(a){for(var b=0,c=a.length;c>b;++b){var d=a[b];d.setGeometry(this.geometryConvertor.toGeometry(d.Geometry))}},m.prototype.highLightElement=function(a){var b=a.geometry;if(b){var c=l(b,this.controlSymbol);this.drawFeature(this.feature,c)}},m.prototype.highLightPlotElement=function(c){this.features.splice(0,this.features.length);var d,e;e=c.elements[c.elements.length-1].Olfeature.getStyle(),d=Array.isArray(e)?e[0].getZIndex()+1:e.getZIndex()+1;for(var f=c.plot.controlPoints,g=0,h=f.length;h>g;g++){var i=new a.Feature({geometry:this.geometryConvertor.toGeometry(f[g])});i.setStyle(this.controlSymbol),i.Geometry=f[g],i.Element=new b({geometry:f[g]}),this.features.push(i)}if(f.length>1){var i=new a.Feature({geometry:this.geometryConvertor.toGeometry(c.plot.rotatePoint)});i.setStyle(this.rotateSymbol),i.Geometry=c.plot.rotatePoint,i.Element=new b({geometry:c.plot.rotatePoint}),this.features.push(i),i=new a.Feature({geometry:this.geometryConvertor.toGeometry(c.plot.centerPoint)}),i.setStyle(this.centerSymbol),i.Geometry=c.plot.centerPoint,i.Element=new b({geometry:c.plot.centerPoint}),this.features.push(i)}for(var j=0;j<this.features.length;j++)this.features[j].getStyle().setZIndex(d);this.drawFeature(this.feature,this.features)},m.prototype.drawFeature=function(a,b){a&&(a.HighLight=b),b&&this.layer.getSource().addFeatures(b)},m}(ol,fc,ic,s,v),Gc=function(a,b,c,d,e){var f=function(a){var b=a||{};this.canvas=b.canvas,this.symbolConvertor=b.symbolConvertor,this.geometryConvertor=b.geometryConvertor,this.updateGeo=b.updateGeo,this.highLightElement=new e(b)};return f.prototype.update=function(a){a instanceof b?this.updateElement(a):a instanceof c?this.updateElements(a):a instanceof d&&this.updateElements(a)},f.prototype.updateElements=function(a){for(var c=0,d=a.elements.length;d>c;++c){var e=a.elements[c];e instanceof b?this.updateElement(e):this.updateElements(e)}var f=this.canvas.lookup(a);f&&this.highLightElement.highLight(f)},f.prototype.updateElement=function(a){var b=this.canvas.lookup(a);if(b)if(this.updateGeo){b.setGeometry(this.geometryConvertor.toGeometry(a.geometry));var c=this.canvas.lookup(a);c&&(c.Element=a,this.highLightElement.highLight(c))}else{var d,e=a.Olfeature.getStyle();if(d=e.length>0?e[0].getZIndex():e.getZIndex(),b.setStyle(this.symbolConvertor.toSymbol(a.symbol)),"number"==typeof d){var f=b.getStyle();if(f.length>0)for(var g=0;g<f.length;g++)f[g].setZIndex(d);else f.setZIndex(d)}}},f}(ol,fc,ic,gc,Fc),Hc=function(a,b,c){var d=function(a){this.canvas=a.canvas,this.hightLightElement=new c(a)};return d.prototype.selectEdit=function(a){a.accept(this)},d.prototype.visit=function(c){c instanceof a?this.visitElement(c):c instanceof b&&this.visitPlotElement(c)},d.prototype.visitElement=function(a){var b=this.canvas.lookup(a);b&&(b.selected=!0,this.hightLight(b))},d.prototype.visitPlotElement=function(a){this.visitElement(a)},d.prototype.hightLight=function(a){if(a.selected){var b=a.Element;b&&this.hightLightElement.highLight(a)}},d}(fc,ic,Fc),Ic=function(a,b,c,d,e){var f=function(b){this.color=new a({r:0,g:255,b:255,a:255}),this.canvas=b.canvas,this.symbolconvertor=b.symbolConvertor};return f.prototype.select=function(a){var b,c=this.canvas.lookup(a),d=this.createSymbol(a),e=c.getStyle();if(b=e.length>0?e[0].getZIndex():e.getZIndex(),c.setStyle(this.symbolconvertor.toSymbol(d)),e=c.getStyle(),"number"==typeof b)if(e.length>0)for(var f=0;f<e.length;f++)e[f].setZIndex(b);else e.setZIndex(b)},f.prototype.unSelect=function(a){this.canvas.update(a,!0)},f.prototype.createSymbol=function(a){var f=a.symbol.copy();if(f.zIndex=a.symbol.zIndex,f instanceof b)f.borderColor=this.color,f.borderThickness+=1;else if(f instanceof c)f.color=this.color,f.width+=1;else if(f instanceof e){var g=f.lineSymbols[0];g.color=this.color,g.width+=1}else f instanceof d&&(f.fillColor=this.color);return f},f}(Z,gb,eb,hb,fb),Jc=function(a,b,c){var d=function(a){this.canvas=a.canvas,this.symbolconvertor=a.symbolConvertor};return d.prototype.unSelect=function(d){d instanceof a?this.unSelectElement(d):(d instanceof b||d instanceof c)&&this.unSelectElements(d)},d.prototype.unSelectElement=function(a){var b=this.canvas.lookup(a);null!=b&&null!=a&&(b.selected=!1,b.setStyle(this.symbolconvertor.toSymbol(a.symbol)),this.clearSelect(b))},d.prototype.unSelectElements=function(a){var b=this.canvas.lookup(a);b&&(b.selected=!1,this.clearSelect(b))},d.prototype.clearSelect=function(a){var b=a.HighLight;if(b){for(var c=this.canvas.getLayer().getSource(),d=0,e=b.length;e>d;++d)c.removeFeature(b[d]);a.hasOwnProperty("HighLight")&&delete a.HighLight}},d}(fc,ic,gc),Kc=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){function p(a,b,c){var d=a.Olfeature.getStyle();if(d)if(Array.isArray(d))for(var e=0;e<d.length;e++)b?(c.maxZIndex+=.01,d[e].setZIndex(c.maxZIndex)):(c.minZIndex-=.01,d[e].setZIndex(c.minZIndex));else b?(c.maxZIndex+=.01,d.setZIndex(c.maxZIndex)):(c.minZIndex-=.01,d.setZIndex(c.minZIndex))
}function q(a,b,c){var d=a.map.getView(),e=d.getResolutionForZoom(b),f=c/256;return e/f}function r(a,b,c){var d=a.map.getView(),e=d.getZoomForResolution(b),f=c/256,g=0;return f%2===0?g=f/2:.5%f===0&&(g=-.5/f),0>e?0:e-g}function s(a){return"mouseover"==a||"mouseout"==a?"mousemove":a}var t=function(a){var j=a||{};b.call(this,j),this.elements=[],this.source=new c.source.Vector({wrapX:j.wrapX||!1}),this.layer=new c.layer.Vector({source:this.source});var k=new m({cache:j.cache||!1}),l=new n;this.map=j.map?j.map:null,this.addElement=new d({canvas:this.source,geometryConvertor:l,symbolConvertor:k}),this.removeElement=new e({canvas:this,source:this.source}),this.updateElement=new f({canvas:this,geometryConvertor:l,symbolConvertor:k,updateGeo:!0}),this.updateSymbol=new f({canvas:this,geometryConvertor:l,symbolConvertor:k,updateGeo:!1}),this.selectEditElement=new g({canvas:this,geometryConvertor:l}),this.selectElement=new h({canvas:this,symbolConvertor:k}),this.unSelectEditElement=new i({canvas:this,symbolConvertor:k}),this.setOpacity(void 0==j.opacity?1:j.opacity),this.setVisible(void 0==j.visible?!0:j.visible),this.setZIndex(void 0==j.zIndex?0:j.zIndex)};a.extend2(t,b),t.prototype.getLayer=function(){return this.layer},t.prototype.setZIndex=function(a){t.prototype.uber.setZIndex.call(this,a),this.layer.setZIndex(a)},t.prototype.setVisible=function(a){t.prototype.uber.setVisible.call(this,a),this.layer.setVisible(a)},t.prototype.setOpacity=function(a){t.prototype.uber.setOpacity.call(this,a),this.layer.setOpacity(a)},t.prototype.add=function(a){a&&(t.prototype.uber.add(a),this.findIndex(a)<0&&(this.elements.push(a),this.addElement.add(a)))},t.prototype.addElements=function(a,b){if(a){t.prototype.uber.addElements(a,b);for(var c=0,d=a.length;d>c;++c){var e=a[c];this.findIndex(e)>=0||this.elements.push(e)}this.addElement.addElements(a,b)}},t.prototype.remove=function(a){t.prototype.uber.remove.call(this,a);var b=this.findIndex(a);b>=0&&(this.elements.splice(b,1),this.unSelectEditElement.unSelect(a),this.removeElement.remove(a),a.unReset())},t.prototype.showElement=function(a,b){if(a){var c=this.findIndex(a);if(c>=0){var d=this.lookup(a);b&&!d?this.addElement.add(a):!b&&!!d&&(this.unSelectEditElement.unSelect(a),this.removeElement.remove(a))}}},t.prototype.update=function(a,b){var c=this.findIndex(a);c>=0&&(this.elements[c]=a,b?this.updateSymbol.update(a):this.updateElement.update(a))},t.prototype.getCount=function(){return this.elements.length},t.prototype.get=function(a){return this.elements[a]},t.prototype.clear=function(a){var b=void 0==a?!1:a;this.layer.getSource().clear(b),this.elements.forEach(function(a){a.unReset()}),this.elements=[]},t.prototype.hitTest=function(a,b){var c=[],d=this.layer;return this.map.map.forEachFeatureAtPixel([a,b],function(a){c.push(a)},{layerFilter:function(a){return d==a}}),c.length>0?new l({element:c[0].Element}):null},t.prototype.hitTestList=function(a,b){var c=[],d=new o,e=this.layer;this.map.map.forEachFeatureAtPixel([a,b],function(a){c.push(a)},{layerFilter:function(a){return e==a}});for(var f=0;f<c.length;f++)d.add(new l({element:c[f].Element}));return d},t.prototype.find=function(a){for(var b=0,c=this.elements.length;c>b;++b){var d=this.elements[b];if(d.id===a)return d}},t.prototype.contains=function(a){for(var b=0,c=this.elements.length;c>b;++b){var d=this.elements[b];if(d.id===a)return!0}return!1},t.prototype.select=function(a){if(a){t.prototype.uber.select.call(this,a);var b=a.element;!b||this.findIndex(b)>=0&&this.selectElement.select(b)}},t.prototype.unSelect=function(a){if(a){t.prototype.uber.unSelect.call(this,a);var b=a.element;!b||this.findIndex(b)>=0&&this.selectElement.unSelect(b)}},t.prototype.selectEdit=function(a){if(a){t.prototype.uber.selectEdit.call(this,a);var b=a.element;!b||this.selectEditElement.selectEdit(b)}},t.prototype.unSelectEdit=function(a){if(t.prototype.uber.unSelectEdit.call(this,a),a){var b=a.element;!b||this.unSelectEditElement.unSelect(b)}},t.prototype.findIndex=function(a){return this.elements.indexOf(a)},t.prototype.lookup=function(a){for(var b=this.layer.getSource().getFeatures(),c=0,d=b.length;d>c;++c){var e=b[c];if(e.Element===a)return e}return null},t.prototype.bringTop=function(a){p(a,!0,this.addElement),this.update(a,!0)},t.prototype.sendBottom=function(a){p(a,!1,this.addElement),this.update(a,!0)},t.prototype.setMinZoom=function(a){var b=this.map,c=q(b,a,256);this.layer.setMaxResolution(c)},t.prototype.setMaxZoom=function(a){var b=this.map,c=q(b,a,256);this.layer.setMinResolution(c)},t.prototype.getMinZoom=function(){var a=this.map,b=this.getMaxResolution();return r(a,b,256)},t.prototype.getMaxZoom=function(){var a=this.map,b=this.getMinResolution();return r(a,b,256)};var u=["click","dblclick","mouseover","mouseout","mousedown","mouseup"];return t.prototype.un=function(a,b){for(var c=0;c<u.length;c++)a==u[c]&&this.map.un(s(a),b.registerFunc)},t.prototype.on=function(a,b){for(var c=0;c<u.length;c++)a==u[c]&&this.handleEvent(a,b)},t.prototype.handleEvent=function(a,b){function c(c,d,g,h,i,j){var k=e.hitTest(g,h);return k?f.selectedObj!=k.element?(f.selFlag=!0,null!=f.selectedObj?(f.deselectedObj=f.selectedObj,f.selectedObj=k.element):(f.selectedObj=k.element,f.deselectedObj=null)):(f.selFlag=!1,f.selectedObj=k.element,f.deselectedObj=null):(f.selFlag=!1,null!=f.selectedObj?(f.deselectedObj=f.selectedObj,f.selectedObj=null):(f.deselectedObj=null,f.selectedObj=null)),f.deselectedObj&&"mouseout"==a?b(g,h,i,j,f.deselectedObj):f.selectedObj&&f.selFlag&&"mouseover"==a?b(g,h,i,j,k.element):void 0}function d(a,c,d,f,g,h){var i=e.hitTest(d,f);return i?b(d,f,g,h,i.element):void 0}var e=this;if("mouseover"==a||"mouseout"==a){var f={selectedObj:null,deselectedObj:null,selFlag:!1};b.registerFunc=c,this.map.on("mousemove",c)}else b.registerFunc=d,this.map.on(a,d)},t}(b,tc,ol,Dc,Ec,Gc,Hc,Ic,Jc,fc,v,kc,cc,P,lc),Lc=function(a,b,c){function d(a){return a.symbol instanceof c?!0:!1}var e=function(a){var c=a||{};b.call(this,c),this.secondLayer=new b(c),this.map.map.addLayer(this.secondLayer.getLayer())};return a.extend2(e,b),e.prototype.hasSecond=function(){return!!this.secondLayer},e.prototype.setVisible=function(a){e.prototype.uber.setVisible.call(this,a),this.hasSecond()&&this.secondLayer.setVisible(a)},e.prototype.setOpacity=function(a){e.prototype.uber.setOpacity.call(this,a),this.hasSecond()&&this.secondLayer.setOpacity(a)},e.prototype.remove=function(a){this.findIndex(a)>=0?e.prototype.uber.remove.call(this,a):this.secondLayer.remove(a)},e.prototype.showElement=function(a,b){this.findIndex(a)>=0?e.prototype.uber.showElement.call(this,a):this.secondLayer.showElement(a,b)},e.prototype.update=function(a,b){this.findIndex(a)>=0?e.prototype.uber.update.call(this,a,b):this.secondLayer.update(a,b)},e.prototype.getCount=function(){return e.prototype.uber.getCount.call(this)+this.secondLayer.getCount()},e.prototype.get=function(a){var b=this.elements.length;return b>a?e.prototype.uber.get.call(this,a):this.secondLayer.get(a-b)},e.prototype.clear=function(){e.prototype.uber.clear.call(this),this.secondLayer.clear()},e.prototype.hitTest=function(a,b){var c=e.prototype.uber.hitTest.call(this,a,b);return!c&&this.hasSecond()&&(c=this.secondLayer.hitTest(a,b)),c},e.prototype.find=function(a){var b=e.prototype.uber.find.call(this,a);return b||(b=this.secondLayer.find(a)),b},e.prototype.contains=function(a){var b=e.prototype.uber.contains.call(this,a);return b||(b=this.secondLayer.contains(a)),b},e.prototype.select=function(a){this.findIndex(a.element)>=0?e.prototype.uber.select.call(this,a):this.secondLayer.select(a)},e.prototype.unSelect=function(a){this.findIndex(a.element)>=0?e.prototype.uber.unSelect.call(this,a):this.secondLayer.unSelect(a)},e.prototype.selectEdit=function(a){this.findIndex(a.element)>=0?e.prototype.uber.selectEdit.call(this,a):this.secondLayer.selectEdit(a)},e.prototype.unSelectEdit=function(a){this.findIndex(a.element)>=0?e.prototype.uber.unSelectEdit.call(this,a):this.secondLayer.unSelectEdit(a)},e.prototype.lookup=function(a){var b=e.prototype.uber.lookup.call(this,a);return null==b&&(b=this.secondLayer.lookup(a)),b},e.prototype.bringToTop=function(a){d(a)?(e.prototype.uber.add.call(this,a),this.secondLayer.remove(a)):(e.prototype.uber.remove.call(this,a),e.prototype.uber.add.call(this,a))},e.prototype.sendToBottom=function(a){if(d(a))e.prototype.uber.remove.call(this,a),this.secondLayer.add(a);else{this.secondLayer.remove.call(this,a);for(var b=new Array,c=0;c<this.elements.length;c++)b[c]=this.elements[c].copy(),b[c].id=this.elements[c].id;this.secondLayer.clear.call(this),this.secondLayer.add.call(this,a);for(var c=0;c<b.length;c++)this.secondLayer.add.call(this,b[c])}},e}(b,Kc,ib),Mc=function(a,b,c,d){var e=function(a){var c=a||{};b.call(this,c)};return a.extend2(e,b),e.prototype.update=function(a,b){this.isExist(a)&&(b?this.updateSymbol.update(a):this.updateElement.update(a))},e.prototype.add=function(a){a&&a instanceof d&&e.prototype.uber.add.call(this,a)},e.prototype.findIndex=function(a){var b=a;a instanceof c?b=a.parent:a instanceof d&&(b=a);for(var e=0,f=this.elements.length;f>e;++e)if(this.elements[e]===b)return e;return-1},e.prototype.isExist=function(a){return!!this.lookup(a)},e.prototype.lookup=function(a){for(var b=this.layer.getSource().getFeatures(),c=0,d=b.length;d>c;++c){var e=b[c];if(e.Element===a||a.id&&e.Element.id&&a.id===e.Element.id)return e}return null},e}(b,Kc,fc,ic),Nc=function(a,b,c,d){function e(a){for(var b=a.getCount(),d=0;b>d;d++)if(a.getItem(d).symbol instanceof c)return!0;return!1}var f=function(a){var c=a||{};d.call(this,c),this.secondLayer=new b(c),this.map.map.addLayer(this.secondLayer.getLayer())};return a.extend2(f,d),f.prototype.findIndex=function(a){var b=this.secondLayer.findIndex.call(this,a);return 0>b&&(b=this.secondLayer.findIndex(a)),b},f.prototype.update=function(a,b){this.secondLayer.update.call(this,a,b),this.secondLayer.update(a,b)},f.prototype.isExist=function(a){var b=this.secondLayer.isExist.call(this,a);return b||(b=this.secondLayer.isExist(a)),b},f.prototype.lookup=function(a){var b=this.secondLayer.lookup.call(this,a);return b||(b=this.secondLayer.lookup(a)),b},f.prototype.bringToTop=function(a){e(a)?(this.secondLayer.remove(a),this.secondLayer.add.call(this,a),a.reset()):(this.secondLayer.remove.call(this,a),this.secondLayer.add.call(this,a),a.reset())},f.prototype.sendToBottom=function(a){if(e(a))this.secondLayer.remove.call(this,a),this.secondLayer.add(a),a.reset();else{this.secondLayer.remove.call(this,a);for(var b=new Array,c=0;c<this.elements.length;c++)b[c]=this.elements[c].copy(),b[c].id=this.elements[c].id;this.secondLayer.clear.call(this),this.secondLayer.add.call(this,a),a.reset();for(var c=0;c<b.length;c++)this.secondLayer.add.call(this,b[c]),b[c].reset()}},f}(b,Mc,ib,Lc),Oc=function(a,b,c){function d(b,d,e){for(var f,g=[],h=b.getGeometryCount(),i=0;h>i;++i){f=b.getGeometry(i).points;for(var j=0,k=f.length;k>j;j++){var l=f[j],m=new a.Feature({geometry:new a.geom.Point([l.x,l.y])});m.setStyle(d),m[e]=new c({geometry:l}),g.push(m)}}return g}function e(b,d,e){for(var f,g=[],h=b.getGeometryCount(),i=0;h>i;++i){f=b.getGeometry(i).points;for(var j=0,k=f.length;k>j;j++){var l=f[j],m=new a.Feature({geometry:new a.geom.Point([l.x,l.y])});m.setStyle(d),m[e]=new c({geometry:l}),g.push(m)}}return g}function f(b,c){var d=[],e=new a.Feature({geometry:new a.geom.Point([b.minx,b.miny]),style:c});return d.push(e),e=new a.Feature({geometry:new a.geom.Point([b.minx,b.maxy]),style:c}),d.push(e),e=new a.Feature({geometry:new a.geom.Point([b.maxx,b.maxy]),style:c}),d.push(e),e=new a.Feature({geometry:new a.geom.Point([b.maxx,b.miny]),style:c}),d.push(e),e=new a.Feature({geometry:new a.geom.Point([b.minx,b.miny]),style:c}),d.push(e),d}function g(b,d,e){var f=[];if(null!=b){var g=new a.Feature({geometry:new a.geom.Point([b.x,b.y])});g.setStyle(d),g[e]=new c({geometry:b}),f.push(g)}return f}function h(a,c,h){if(a){var i,j=a.getGeometryType();switch(j){case b.Polyline:i=d(a,c,h);break;case b.Polygon:i=e(a,c,h);break;case b.Point:i=g(a,c,h);break;case b.Envelope:i=f(a,c,h)}return i}}var i=function(b){this.source=b.source,this.symbol=new a.style.Style({image:new a.style.Circle({fill:new a.style.Fill({color:"blue"}),radius:6})})},j="Feature",k="Vector";return i.prototype.highlight=function(a){var b;if(j in a){var c=a[j].geometry;b=h(c,this.symbol,j)}else if(k in a){var c=a[k];b=h(c,this.symbol,k)}!b||(a.highs=b,this.source.addFeatures(b))},i.prototype.unHighlight=function(a){if(a){var b=a.highs,c=this;!!b&&b instanceof Array&&b.forEach(function(a){c.source.removeFeature(a)}),a.highs=void 0}},i}(ol,s,fc),Pc=function(a,b,c,d,e,f,g){function h(a,b,c){var d=a.map.getView(),e=d.getResolutionForZoom(b),f=c/256;return e/f}function i(a,b,c){var d=a.map.getView(),e=d.getZoomForResolution(b),f=c/256,g=0;return f%2===0?g=f/2:.5%f===0&&(g=-.5/f),0>e?0:e-g}var j=function(a){var c=a||{};b.call(this,c);var d=new e;this.map=c.map?c.map:null,this.geometryConvertor=new f,this.source=new ol.source.Vector,this.symbol=d.toSymbol(c.symbol),this.selectSymbol=d.toSymbol(c.selectSymbol),this.layer=new ol.layer.Vector({source:this.source,style:this.symbol}),this.setOpacity(void 0==c.opacity?1:c.opacity),this.setVisible(void 0==c.visible?!0:c.visible),this.setZIndex(void 0==c.zIndex?0:c.zIndex)};return a.extend2(j,b),j.prototype.getLayer=function(){return this.layer},j.prototype.add=function(a){var b=new ol.Feature({geometry:this.geometryConvertor.toGeometry(a)});b.Vector=a,this.source.addFeature(b)},j.prototype.remove=function(a){var b=this.lookup(a);!b||this.source.removeFeature(b)},j.prototype.update=function(a){var b=this.lookup(a);!b||(b.geometry=this.geometryConvertor.toGeometry(a))},j.prototype.getCount=function(){var a=this.source.getFeatures();return a.length},j.prototype.get=function(a){var b=this.source.getFeatures();return b[a].Geometry},j.prototype.clear=function(){this.source.clear()},j.prototype.select=function(a){if(a){var b=a.geometry;if(b){var c=this.lookup(b);!c||c.setStyle(this.selectSymbol)}}},j.prototype.unSelect=function(a){if(a){var b=a.geometry;if(b){var c=this.lookup(b);!c||c.setStyle(this.symbol)}}},j.prototype.selectEdit=function(a){a&&this.select(a)},j.prototype.unSelectEdit=function(a){a&&this.unSelect(a)},j.prototype.setVisible=function(a){j.prototype.uber.setVisible.call(this,a),this.layer.setVisible(a)},j.prototype.setOpacity=function(a){j.prototype.uber.setOpacity.call(this,a),this.layer.setOpacity(a)},j.prototype.setZIndex=function(a){j.prototype.uber.setZIndex.call(this,a),this.layer.setZIndex(a)},j.prototype.hitTest=function(a){var b=[],d=this.layer;return this.map.map.forEachFeatureAtPixel([a,screenY],function(a){b.push(a)},{layerFilter:function(a){return d==a}}),b.length>0?new c({geometry:b[0].Vector}):null},j.prototype.hitTestList=function(a,b){var d=[],e=new g,f=this.layer;this.map.map.forEachFeatureAtPixel([a,b],function(a){d.push(a)},{layerFilter:function(a){return f==a}});for(var h=0;h<d.length;h++)e.add(new c({geometry:d[h].Vector}));return e},j.prototype.lookup=function(a){for(var b=this.layer.getSource().getFeatures(),c=0,d=b.length;d>c;++c){var e=b[c];if(e.Vector===a)return e}return null},j.prototype.setMinZoom=function(a){var b=this.map,c=h(b,a,256);this.layer.setMaxResolution(c)},j.prototype.setMaxZoom=function(a){var b=this.map,c=h(b,a,256);this.layer.setMinResolution(c)},j.prototype.getMinZoom=function(){var a=this.map,b=this.getMaxResolution();return i(a,b,256)},j.prototype.getMaxZoom=function(){var a=this.map,b=this.getMinResolution();return i(a,b,256)},j}(b,qc,kc,Oc,cc,P,lc),Qc=function(a,b,c,d){function e(a){switch(a.imageType){case d.ImageWMS:return h.createFromImageWMS(a);case d.ImageStatic:return h.createFromImageStatic(a);default:return null}}function f(a,b,c){var d=a.map.getView(),e=d.getResolutionForZoom(b),f=c/256;return e/f}function g(a,b,c){var d=a.map.getView(),e=d.getZoomForResolution(b),f=c/256,g=0;return f%2===0?g=f/2:.5%f===0&&(g=-.5/f),0>e?0:e-g}var h={};h.createFromImageWMS=function(a){return new c.source.ImageWMS({ratio:1,url:a.url,params:{LAYERS:a.layers,TILED:a.tiled,VERSION:"1.1.1"}})},h.createFromImageStatic=function(a){return new c.source.ImageStatic({url:a.url,imageExtent:a.extent,crossOrigin:a.crossOrigin||""})};var i=function(a){var d=a||{};b.call(this,d),this.layer=new c.layer.Image({source:e(d)}),this.map=d.map?d.map:null,this.setOpacity(void 0==d.opacity?1:d.opacity),this.setVisible(void 0==d.visible?!0:d.visible),this.setZIndex(void 0==d.zIndex?0:d.zIndex)};return a.extend2(i,b),i.prototype.getLayer=function(){return this.layer},i.prototype.setVisible=function(a){i.prototype.uber.setVisible.call(this,a),this.layer.setVisible(a)},i.prototype.setOpacity=function(a){i.prototype.uber.setOpacity.call(this,a),this.layer.setOpacity(a)},i.prototype.setZIndex=function(a){i.prototype.uber.setZIndex.call(this,a),this.layer.setZIndex(a)},i.prototype.setMinZoom=function(a){var b=this.map,c=f(b,a,256);this.layer.setMaxResolution(c)},i.prototype.setMaxZoom=function(a){var b=this.map,c=f(b,a,256);this.layer.setMinResolution(c)},i.prototype.getMinZoom=function(){var a=this.map,b=this.getMaxResolution();return g(a,b,256)},i.prototype.getMaxZoom=function(){var a=this.map,b=this.getMinResolution();return g(a,b,256)},i}(b,vc,ol,nc),Rc=function(a,b,c,d,e,f,g,h,i,j,k,l){function m(a,b){b.maxFeatureCount=0;for(var d,e,f=b.layer.getSource().getFeatures(),g=f.length-1;g>=0;--g){d=f[g];for(var h=d.get("features"),i=c.extent.createEmpty(),j=h.length,k=0;j>k;++k)c.extent.extend(i,h[k].getGeometry().getExtent());b.maxFeatureCount=Math.max(b.maxFeatureCount,j),e=.25*(c.extent.getWidth(i)+c.extent.getHeight(i))/a,8>e&&j>1&&(e=8),d.set("radius",e)}}function n(){var a=this.clusterLevel,b=this.map.map.getView().getZoom();a&&a>b||!a?this.currentClusterSource!=this.clusterSource&&(this.layer.setSource(this.clusterSource),this.currentClusterSource=this.clusterSource):this.currentClusterSource!=this.source&&(this.layer.setSource(this.source),this.currentClusterSource=this.source)}function o(a,b,c){var d=a.map.getView(),e=d.getResolutionForZoom(b),f=c/256;return e/f}function p(a,b,c){var d=a.map.getView(),e=d.getZoomForResolution(b),f=c/256,g=0;return f%2===0?g=f/2:.5%f===0&&(g=-.5/f),0>e?0:e-g}function q(a){return"mouseover"==a||"mouseout"==a?"mousemove":a}function r(a,b){if(!a)return!1;var c=a.get("features"),d=b.get("features");if(Array.isArray(c)&&Array.isArray(d)){if(c.length!=d.length)return!1;for(var e=0;e<c.length;e++)if(c[e]!==d[e])return!1;return!0}return Array.isArray(c)||Array.isArray(d)?!1:a===b?!0:!1}function s(a,b,c){var d=null,e=c.layer;return c.map.map.forEachFeatureAtPixel([a,b],function(a){d=a},{layerFilter:function(a){return e==a}}),d?d:null}function t(a){var b=[];if(a){if(a.Element)return b.push(a.Element),b;if(a.get){for(var c=a.get("features"),d=0;d<c.length;d++)b.push(c[d].Element);return b}}return null}var u=function(a){var g=a||{};b.call(this,g),this.elements=[],this.styleFunc=null,this.source=new c.source.Vector({wrapX:g.wrapX||!1}),this.clusterSource=new c.source.Cluster({source:this.source,wrapX:g.wrapX||!1,distance:g.distance||40}),this.currentClusterSource=this.clusterSource,this.symbolConvertor=new j({cache:!0}),this.geometryConvertor=new k,this.layer=new c.layer.Vector({source:this.clusterSource}),this.textFillColor=g.textFillColor||[255,255,255,1],this.fillColor=g.fillColor||[255,255,0],this.fillStrokeColor=g.fillStrokeColor||[255,255,0,.2],this.fillStrokeWidth=g.fillStrokeWidth||10,this.setLayerStyle(),this.map=g.map?g.map:null,this.addElement=new d({canvas:this.source,geometryConvertor:this.geometryConvertor,symbolConvertor:this.symbolConvertor}),this.removeElement=new e({canvas:this,source:this.source}),this.selectElement=new f({canvas:this,symbolConvertor:this.symbolConvertor}),this.currentResolution=0,this.maxFeatureCount=0,this.setOpacity(void 0==g.opacity?1:g.opacity),this.setVisible(void 0==g.visible?!0:g.visible),this.setZIndex(void 0==g.zIndex?0:g.zIndex),this.clusterLevel=g.clusterLevel};a.extend2(u,b),u.prototype.init=function(){null!=this.map&&this.setClusterLevel(this.clusterLevel)},u.prototype.setLayerStyle=function(){var a=this,b=new c.style.Fill({color:a.textFillColor}),d=new c.style.Stroke({color:"rgba(0, 0, 0, 0.6)",width:3}),e={};this.layer.setStyle(function(f,g){g!=a.currentResolution&&(m(g,a),a.currentResolution=g);var h=f.get("features").length;if(h>1){var i=f.get("radius")||8;if(!a.styleFunc){var j=e[h];if(!j){var k=a.fillColor,l=function(){var b=a.fillStrokeColor,d=a.fillStrokeWidth;return b?new c.style.Stroke({color:b,width:d||1}):void 0},n=[new c.style.Style({image:new c.style.Circle({radius:i,fill:new c.style.Fill({color:[k[0],k[1],k[2],Math.min(.8,.4+h/a.maxFeatureCount)]}),stroke:l()}),text:new c.style.Text({text:h.toString(),fill:b,stroke:d})})];return e[h]=n,n}return j}var j=e[h];if(!j){var n=[a.symbolConvertor.toSymbol(a.styleFunc(i,h,a.maxFeatureCount))];return e[h]=n,n}return j}return[f.get("features")[0].getStyle()]})},u.prototype.setStyleFunc=function(a){this.styleFunc=a},u.prototype.setClusterLevel=function(a){this.clusterLevel=a,a?this.map.map.getView().on("change:resolution",n,this):(n.call(this),this.map.map.getView().un("change:resolution",n,this))},u.prototype.getClusterLevel=function(){return this.clusterLevel},u.prototype.getLayer=function(){return this.layer},u.prototype.setZIndex=function(a){u.prototype.uber.setZIndex.call(this,a),this.layer.setZIndex(a)},u.prototype.setVisible=function(a){u.prototype.uber.setVisible.call(this,a),this.layer.setVisible(a)},u.prototype.setOpacity=function(a){u.prototype.uber.setOpacity.call(this,a),this.layer.setOpacity(a)},u.prototype.add=function(a){a&&(u.prototype.uber.add(a),this.findIndex(a)<0&&(this.elements.push(a),this.addElement.add(a)))},u.prototype.addElements=function(a){if(a){u.prototype.uber.addElements(a);for(var b=[],d=0,e=a.length;e>d;++d){var f=a[d];if(!(this.findIndex(f)>=0)){this.elements.push(f);var g=new c.Feature({geometry:this.geometryConvertor.toGeometry(f.geometry)});g.setStyle(this.symbolConvertor.toSymbol(f.symbol)),g.Element=f,g.Geometry=f.geometry,g.Symbol=f.symbol,f.Olfeature=g,b.push(g)}}this.source.addFeatures(b)}},u.prototype.remove=function(a){u.prototype.uber.remove.call(this,a);var b=this.findIndex(a);b>=0&&(this.elements.splice(b,1),this.removeElement.remove(a))},u.prototype.removeElements=function(a){if(a){u.prototype.uber.removeElements.call(this,a);for(var b=[],c=0,d=a.length;d>c;++c){var e=a[c],f=this.findIndex(e);f>=0&&(this.elements.splice(f,1),b.push(e.Feature))}this.source.removeFeatures(b)}},u.prototype.getCount=function(){return this.elements.length},u.prototype.get=function(a){return this.elements[a]},u.prototype.clear=function(a){var b=void 0==a?!1:a;this.source.clear(b),this.elements=[]},u.prototype.hitTest=function(a,b){var c=[],d=this.layer;return this.map.map.forEachFeatureAtPixel([a,b],function(a){var b=a.get("features");if(b){var d=b.length;1==d&&c.push(a)}else c.push(a)},{layerFilter:function(a){return d==a}}),c.length>0?new i(c[0].get("features")?{element:c[0].get("features")[0].Element}:{element:c[0].Element}):null},u.prototype.hitTestList=function(a,b){var c=new l,d=this.layer;return this.map.map.forEachFeatureAtPixel([a,b],function(a){for(var b=a.get("features"),d=0;d<b.length;d++)c.add(new i({element:b[d].Element}))},{layerFilter:function(a){return d==a}}),c},u.prototype.find=function(a){for(var b=0,c=this.elements.length;c>b;++b){var d=this.elements[b];if(d.id===a)return d}},u.prototype.contains=function(a){for(var b=0,c=this.elements.length;c>b;++b){var d=this.elements[b];if(d.id===a)return!0}return!1},u.prototype.select=function(a){if(a){u.prototype.uber.select.call(this,a);var b=a.element;!b||this.findIndex(b)>=0&&this.selectElement.select(b)}},u.prototype.unSelect=function(a){if(a){u.prototype.uber.unSelect.call(this,a);var b=a.element;!b||this.findIndex(b)>=0&&this.selectElement.unSelect(b)}},u.prototype.findIndex=function(a){return this.elements.indexOf(a)},u.prototype.lookup=function(a){for(var b=this.source.getFeatures(),c=0,d=b.length;d>c;++c){var e=b[c];if(e.Element===a)return e}return null},c.source.Vector.prototype.removeFeatures=function(a){for(var b=a.length,c=0;b>c;c++){var d=a[c],e=d.op.toString();e in this.f?delete this.f[e]:this.a&&this.a.remove(d),this.Xg(d)}this.u()},u.prototype.setMinZoom=function(a){var b=this.map,c=o(b,a,256);this.layer.setMaxResolution(c)},u.prototype.setMaxZoom=function(a){var b=this.map,c=o(b,a,256);this.layer.setMinResolution(c)},u.prototype.getMinZoom=function(){var a=this.map,b=this.getMaxResolution();return p(a,b,256)},u.prototype.getMaxZoom=function(){var a=this.map,b=this.getMinResolution();return p(a,b,256)};var v=["click","dblclick","mouseover","mouseout","mousedown","mouseup"];return u.prototype.un=function(a,b){for(var c=0;c<v.length;c++)a==v[c]&&this.map.un(q(a),b.registerFunc)},u.prototype.on=function(a,b){for(var c=0;c<v.length;c++)a==v[c]&&this.handleEvent(a,b)},u.prototype.handleEvent=function(a,b){function c(c,d,g,h,i,j){var k=s(g,h,e);if(k){var l=r(f.selectedObj,k);l?(f.selFlag=!1,f.deselectedObj=null):(f.selFlag=!0,null!=f.selectedObj?(f.deselectedObj=f.selectedObj,f.selectedObj=k):(f.selectedObj=k,f.deselectedObj=null))}else f.selFlag=!1,null!=f.selectedObj?(f.deselectedObj=f.selectedObj,f.selectedObj=null):(f.deselectedObj=null,f.selectedObj=null);if(f.deselectedObj){var m=t(f.deselectedObj);if("mouseout"==a)return b(g,h,i,j,m)}if(f.selectedObj&&f.selFlag){var n=t(f.selectedObj);if("mouseover"==a)return b(g,h,i,j,n)}}function d(a,c,d,f,g,h){var i=s(d,f,e),j=t(i);return i?b(d,f,g,h,j):void 0}var e=this;if("mouseover"==a||"mouseout"==a){var f={selectedObj:null,deselectedObj:null,selFlag:!1};b.registerFunc=c,this.map.on("mousemove",c)}else b.registerFunc=d,this.map.on(a,d)},u}(b,wc,ol,Dc,Ec,Ic,fc,v,kc,cc,P,lc),Sc=function(a,b,c){var d=function(a){var c=a||{};b.call(this,c)};return a.extend2(d,b),d.prototype.getLayerType=function(){return c.GroupLayer},d}(b,pc,Fb),Tc=function(a,b,c){function d(a,b,c){var d=a.map.getView(),e=d.getResolutionForZoom(b),f=c/256;return e/f}function e(a,b,c){var d=a.map.getView(),e=d.getZoomForResolution(b),f=c/256,g=0;return f%2===0?g=f/2:.5%f===0&&(g=-.5/f),0>e?0:e-g}var f=function(a){var d=a||{};c.call(this,d),this.groupLayers=d.layers,this.layer=new b.layer.Group,this.map=d.map?d.map:null,this.setOpacity(void 0==d.opacity?1:d.opacity),this.setVisible(void 0==d.visible?!0:d.visible),this.setZIndex(void 0==d.zIndex?0:d.zIndex),this.setLayers(this.groupLayers)};return a.extend2(f,c),f.prototype.getLayer=function(){return this.layer},f.prototype.setLayers=function(a){for(var c=new b.Collection,d=0,e=a.length;e>d;++d)c.push(a[d].getLayer());this.layer.setLayers(c)},f.prototype.addLayer=function(a){var b=this.layer.getLayers();b.push(a.getLayer()),this.groupLayers.push(a)},f.prototype.insertLayer=function(a,b){var c=this.layer.getLayers();c.insertAt(a,b.getLayer()),this.groupLayers.splice(a,0,b)},f.prototype.indexOfLayer=function(a){this.groupLayers.indexOf(a)},f.prototype.removeLayer=function(a){for(var b=this.getCount(),c=0;b>c;c++)if(this.groupLayers[c]==a){this.groupLayers.splice(c,1);var d=this.layer.getLayers();d.remove(a.getLayer());break}},f.prototype.removeAllLayers=function(){var a=this.layer.getLayers();this.groupLayers.splice(0,this.getCount()),a.clear()},f.prototype.getCount=function(){return this.groupLayers.length},f.prototype.setVisible=function(a){this.uber.setVisible.call(this,a),this.layer.setVisible(a)},f.prototype.setOpacity=function(a){this.uber.setOpacity.call(this,a),this.layer.setOpacity(a)},f.prototype.setZIndex=function(a){f.prototype.uber.setZIndex.call(this,a),this.layer.setZIndex(a);for(var b=0;b<this.getCount();b++)this.groupLayers[b].setZIndex(a)},f.prototype.setMinZoom=function(a){var b=this.map,c=d(b,a,256);this.layer.setMaxResolution(c)},f.prototype.setMaxZoom=function(a){var b=this.map,c=d(b,a,256);this.layer.setMinResolution(c)},f.prototype.getMinZoom=function(){var a=this.map,b=this.getMaxResolution();return e(a,b,256)},f.prototype.getMaxZoom=function(){var a=this.map,b=this.getMinResolution();return e(a,b,256)},f}(b,ol,Sc),Uc=function(a,b,c){var d=function(a){var c=a||{};b.call(this,c),this.patterns=[],this.pattern=null,this.map=c.map?c.map:null,this.dragging=null};return a.extend2(d,b),d.prototype.add=function(a){var b=this.createElement(a),d=new c.Overlay({element:b,positioning:"center-center",offset:[0,0]});a.tag=d,this.patterns.push(a),this.map.map.addOverlay(d),d.setPosition([a.x,a.y])},d.prototype.update=function(a,b){var c=this.find(a.id);c&&a.tag.setPosition([a.x,a.y]),b&&a.tag.setElement(this.createElement(a))},d.prototype.remove=function(a){var b=this.find(a.id);if(b){this.map.map.removeOverlay(a.tag);var c=this.patterns.indexOf(b);-1!=c&&this.patterns.splice(c,1)}},d.prototype.find=function(a){for(var b=0;b<this.patterns.length;b++){var c=this.patterns[b];if(c.id==a)return c}return void 0},d.prototype.hitTest=function(){return this.pattern},d.prototype.getCount=function(){return this.patterns.length},d.prototype.get=function(a){return this.patterns[a]},d.prototype.getLayer=function(){return this.layer},d.prototype.createElement=function(a){var b=document.createElement("div");b.style.display="block",b.style.zIndex=2;var c=document.createElement("div");return c.className="popup-content",c.id=a.id,c.innerHTML=a.toHtml(),b.appendChild(c),c.onmousedown=this.onMouseDown.bind(this),c.onmouseup=this.onMouseUp.bind(this),c.ondblclick=this.onDbClick.bind(this),b},d.prototype.clear=function(){for(;this.patterns.length>0;){var a=this.patterns[0];this.remove(a)}},d.prototype.onMouseDown=function(a){var b=a.currentTarget,c=this.find(b.id);if(c){this.pattern=c;var d=this.map.map.getEventPixel("onmousedown"),e=this.map.map.getCoordinateFromPixel(d),f={originalEvent:{buton:0},pixel:d,coordinate:e};this.map.onMouseDown(f)}},d.prototype.onMouseUp=function(a){var b=a.currentTarget,c=this.find(b.id);if(c){this.pattern=null;var d=this.map.map.getEventPixel("onmouseup"),e=this.map.map.getCoordinateFromPixel(d),f={originalEvent:{buton:0},pixel:d,coordinate:e};this.map.onMouseUp(f)}},d.prototype.onDbClick=function(a){var b=a.currentTarget,c=this.find(b.id);if(c){this.pattern=c;var d=this.map.map.getEventPixel("onmouseup"),e=this.map.map.getCoordinateFromPixel(d),f={originalEvent:{buton:0},pixel:d,coordinate:e};this.map.onDblclick(f),this.pattern=null}},d}(b,Ac,ol),Vc=function(a,b,c,d,e,f,g,h){function i(a,b,c){var d=a.map.getView(),e=d.getResolutionForZoom(b),f=c/256;return e/f}function j(a,b,c){var d=a.map.getView(),e=d.getZoomForResolution(b),f=c/256,g=0;return f%2===0?g=f/2:.5%f===0&&(g=-.5/f),0>e?0:e-g}var k=function(a){var d=a||{};b.call(this,d),this.map=d.map?d.map:null,this.symbolConvertor=new f({cache:!0}),this.geometryConvertor=new g,!d.symbol||(this.symbol=this.symbolConvertor.toSymbol(d.symbol)),!d.selectSymbol||(this.selectSymbol=this.symbolConvertor.toSymbol(d.selectSymbol)),this.source=new c.source.Vector({wrapX:d.wrapX||!1}),this.layer=new c.layer.Vector({source:this.source,style:this.symbol}),this.features=[],this.featureRenders=[],this.setOpacity(void 0==d.opacity?1:d.opacity),this.setVisible(void 0==d.visible?!0:d.visible),this.setZIndex(void 0==d.zIndex?0:d.zIndex)};return a.extend2(k,b),k.prototype.add=function(a){var b=new c.Feature({geometry:this.geometryConvertor.toGeometry(a.geometry)});b.Feature=a,this.features.push(a),this.source.addFeature(b)},k.prototype.addFeatures=function(a){for(var b=a.getCount(),d=[],e=0;b>e;++e){var f=a.getFeature(e),g=new c.Feature({geometry:this.geometryConvertor.toGeometry(f.geometry)});g.Feature=f,d.push(g),this.features.push(f)}this.source.addFeatures(d)},k.prototype.remove=function(a){var b=this.lookup(a);!b||this.source.removeFeature(b);var c=this.features.indexOf(a);this.features.splice(c)},k.prototype.update=function(a){var b=this.lookup(a);!b||b.setGeometry(this.geometryConvertor.toGeometry(a.geometry))},k.prototype.getOffset=function(){return this.offset
},k.prototype.setVisible=function(a){k.prototype.uber.setVisible.call(this,a),this.layer.setVisible(a);for(var b=0;b<this.featureRenders.length;b++)this.featureRenders[b].show(a)},k.prototype.setZIndex=function(a){k.prototype.uber.setZIndex.call(this,a),this.layer.setZIndex(a)},k.prototype.setOpacity=function(a){k.prototype.uber.setOpacity.call(this,a),this.layer.setOpacity(a)},k.prototype.find=function(a){for(var b=this.source.getFeatures(),c=0,d=b.length;d>c;++c){var e=b[c];if(e.Feature.objectId==a)return e}return null},k.prototype.getLayer=function(){return this.layer},k.prototype.lookup=function(a){for(var b=this.layer.getSource().getFeatures(),c=0,d=b.length;d>c;++c){var e=b[c];if(e.Feature===a)return e}return null},k.prototype.getCount=function(){var a=this.source.getFeatures();return a.length},k.prototype.get=function(a){var b=this.source.getFeatures();return b[a].Feature},k.prototype.clear=function(a){var b=void 0==a?!1:a;this.source.clear(b),this.features=[],this.unRender()},k.prototype.hitTest=function(a,b){var c=[],e=this.layer;return this.map.map.forEachFeatureAtPixel([a,b],function(a){c.push(a)},{layerFilter:function(a){return e==a}}),c.length>0?new d({feature:c[0].Feature}):null},k.prototype.hitTestList=function(a,b){var c=[],e=new h,f=this.layer;this.map.map.forEachFeatureAtPixel([a,b],function(a){c.push(a)},{layerFilter:function(a){return f==a}});for(var g=0;g<c.length;g++)e.add(new d({feature:c[g].Feature}));return e},k.prototype.select=function(a){if(a){var b=a.feature;if(b){var c=this.lookup(b);!!c&&!!this.selectSymbol&&c.setStyle(this.selectSymbol)}}},k.prototype.unSelect=function(a){if(a){var b=a.feature;if(b){var c=this.lookup(b);!c||c.setStyle(this.symbol)}}},k.prototype.selectEdit=function(a){a&&this.select(a)},k.prototype.unSelectEdit=function(a){a&&this.unSelect(a)},k.prototype.render=function(a){this.featureRenders.push(a);var b=this.symbolConvertor;if(a.canRender())this.layer.setStyle(function(c){var d=a.render(c.Feature),e=[b.toSymbol(d)];return e});else for(var c=0;c<this.features.length;c++)a.render(this.features[c])},k.prototype.unRender=function(a){if(a){a.unRender();var b=this.featureRenders.indexOf(a);this.featureRenders.remove(b)}else{for(var c=0;c<this.featureRenders.length;c++)this.featureRenders[c].unRender();this.featureRenders=[]}},k.prototype.setMinZoom=function(a){var b=this.map,c=i(b,a,256);this.layer.setMaxResolution(c)},k.prototype.setMaxZoom=function(a){var b=this.map,c=i(b,a,256);this.layer.setMinResolution(c)},k.prototype.getMinZoom=function(){var a=this.map,b=this.getMaxResolution();return j(a,b,256)},k.prototype.getMaxZoom=function(){var a=this.map,b=this.getMinResolution();return j(a,b,256)},k}(b,uc,ol,kc,Oc,cc,P,lc),Wc=function(a,b,c){var d=function(a){var d=a||{};b.call(this,d),this.symbolConvertor=new c,this.offset=[0,-32]};return a.extend2(d,b),d.prototype.getOffset=function(){return this.offset},d.prototype.render=function(a,b,c){var d=this.symbolConvertor,e={};for(var f in b)e[f]=[d.toSymbol(b[f])];this.layer.setStyle(function(b){var f=b.Feature;if(!c){var g=f.getValue(a).value;return g in e||(g="default"),e[g]}var h=c(f),i=[d.toSymbol(h)];return i})},d}(b,Vc,cc),Xc=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o={createTileLayer:function(a){var b=a.layeropts;return new d(b)},createVectorTileLayer:function(a){var b=a.layeropts;return new e(b)},createVectorLayer:function(a){var b=a.symbolTable,c=a.layeropts;return c.symbol=b.find(c.symbol),c.selectSymbol=b.find(c.selectSymbol),new f(c||{symbol:ab,selectSymbol:selectSymbol})},createFeatureLayer:function(a){var b=a.symbolTable,c=a.layeropts;return"object"!=typeof c.symbol&&(c.symbol=b.find(c.symbol)),c.selectSymbol=b.find(c.selectSymbol),new h(c)},createElementLayer:function(a){var b=a.layeropts;return new g(b)},createCanvasLayer:function(a){var b=a.layeropts;return new j(b)},createImageLayer:function(a){var b=a.layeropts;return new i(b)},createRenderLayer:function(a){var b=a.symbolTable,c=a.layeropts;return c.selectSymbol=b.find(c.selectSymbol),new m(c)},createHeatMapLayer:function(a){var b=a.layeropts;return new n(b)},createGroupLayer:function(a){for(var b=a.layeropts.layers,c=a.layerCreator,d=[],e=0,f=b.length;f>e;++e)d.push(c.createLayer(b[e]));return a.layeropts.layers=d,new l(a.layeropts)},createClusterLayer:function(a){return new k(a.layeropts||{})}},p=function(a){var c=a||{};this.map=c.map,this.symbolTable=c.symbolTable,b.call(this)};return a.extend2(p,b),p.prototype.createLayer=function(a){var b=a||{};b.map=this.map,b.zIndex=this.map.getLayerCount();var d={layeropts:b,symbolTable:this.symbolTable,layerCreator:this};switch(a.layerType){case c.TileLayer:return o.createTileLayer(d);case c.VectorTileLayer:return o.createVectorTileLayer(d);case c.ElementLayer:return o.createElementLayer(d);case c.VectorLayer:return o.createVectorLayer(d);case c.FeatureLayer:var e=o.createFeatureLayer(d);return e;case c.ImageLayer:return o.createImageLayer(d);case c.HeatMapLayer:return o.createHeatMapLayer(d);case c.GroupLayer:return o.createGroupLayer(d);case c.CanvasLayer:return o.createCanvasLayer(d);case c.FeatureRenderLayer:return o.createRenderLayer(d);case c.ClusterLayer:return o.createClusterLayer(d)}return null},p}(b,oc,Fb,Bc,Cc,Pc,Kc,Vc,Qc,Mc,Rc,Tc,Wc,zc,Hb),Yc=function(a,b,c,d,e,f){function g(a){return"urn:ogc:def:crs:EPSG::3857"===a||"urn:ogc:def:crs:EPSG:3857"===a||"EPSG:3857"===a||"EPSG:102100"===a||"EPSG:102113"===a||"EPSG:900913"===a||"urn:ogc:def:crs:EPSG:6.18:3:3857"===a||"http://www.opengis.net/gml/srs/epsg.xml#3857"===a?e.EPSG3857:"CRS:84"===a||"EPSG:4326"===a||"urn:ogc:def:crs:EPSG:6.6:4326"===a||"urn:ogc:def:crs:OGC:1.3:CRS84"===a||"urn:ogc:def:crs:OGC:2:84"===a||"http://www.opengis.net/gml/srs/epsg.xml#4326"===a||"urn:x-ogc:def:crs:EPSG:4326"===a||"urn:x-ogc:def:crs:EPSG::4326"===a?e.EPSG4326:void 0}function h(e,g){var h=e.properties,i=new b,j=[];for(var k in h){var l=new c({name:k});i.fields.push(l);var m=new d;m.setValue(h[k]),j.push(m)}var n=f.fromJson(e.geometry,g),o=new a({values:j,fields:i,geometry:n,objectId:e.id});return o}var i={};return i.fromJson=function(b){var c="";!!b&&!!b.crs&&(c=g(b.crs.properties.name));var d=b;if("Feature"==d.type)return[a.fromJson(d)];if(d.type="FeatureCollection"){var e=d.features,f=[];if(null!=e)for(var i=0,j=e.length;j>i;++i){var k=h(e[i],c);f.push(k)}return f}},i}(U,R,S,T,q,K),Zc=function(){function a(){var a={};return a.click=[],a.mousemove=[],a.mouseout=[],a.mouseover=[],a.mousedown=[],a.mouseup=[],a.drag=[],a.dblclick=[],a.extentchanged=[],a.resize=[],a.resolutionchanged=[],a.postrender=[],a}var b=function(){this.layers=[],this.tool=null,this.cursor=null,this.events=a()};return b.prototype.init=function(){},b.prototype.addLayer=function(a){this.layers.push(a)},b.prototype.getExtent=function(){},b.prototype.removeLayer=function(a){var b=this.layers.indexOf(a);b>=0&&this.layers.splice(b,1)},b.prototype.setCursor=function(){},b.prototype.getViewSize=function(){},b.prototype.setViewSize=function(){},b.prototype.getLayerCount=function(){return this.layers.length},b.prototype.getLayer=function(a){return this.layers[a]},b.prototype.getLayers=function(){return this.layers},b.prototype.getZoomLevel=function(){},b.prototype.getResolution=function(){},b.prototype.setResolution=function(){},b.prototype.getOrigin=function(){},b.prototype.findLayer=function(a){for(var b=0;b<this.layers.length;++b){var c=this.layers[b];if(c.name==a||c.id==a)return c}return null},b.prototype.moveLayer=function(a,b){if(b>-1&&b<this.layers.length)for(var c=0;c<this.layers.length;c++)if(a.name==this.layers[c].name){this.layers.splice(c,1),this.layers.splice(b,0,a);for(var d=0;d<this.layers.length;d++)this.layers[d].setZIndex(d);return}},b.prototype.on=function(a,b){if(a in this.events){var c=this.events[a];c.push(b)}},b.prototype.un=function(a,b){if(a in this.events)for(var c=this.events[a],d=0,e=c.length;e>d;++d){var f=c[d];f===b&&(c.splice(d,1),d--,e--)}},b.prototype.fullExtent=function(){},b.prototype.zoomOut=function(){},b.prototype.zoomIn=function(){},b.prototype.zoomTo=function(){},b.prototype.pan=function(){},b.prototype.setCenter=function(){},b.prototype.getPixelFromCoordinate=function(){},b.prototype.getCoordinateFromPixel=function(){},b.prototype.export=function(){},b.prototype.dragPan=function(){},b.prototype.exportPDF=function(){},b.prototype.stopDragPan=function(){},b.prototype.resumeDragPan=function(){},b.prototype.stopDbClick=function(){},b.prototype.resumeDbClick=function(){},b.prototype.stopMouseWheelZoom=function(){},b.prototype.resumeMouseWheelZoom=function(){},b.prototype.addControl=function(){},b.prototype.currentTool=function(a){this.tool!=a&&(null!=this.tool&&this.tool.deactivate(),this.tool=a,null!=this.tool&&(this.cursor=this.tool.cursor))},b.prototype.onMouseClick=function(a,b,c,d,e,f,g){!this.tool||this.tool.onMouseClick(a,b,c,d,e,f,g);for(var h=0;h<this.events.click.length;++h){var i=this.events.click[h];i(a,b,c,d,e,f,g)}},b.prototype.onMouseOver=function(a){null!=this.tool&&this.tool.onMouseOver(a)},b.prototype.onMouseDown=function(a,b,c,d,e,f,g){!this.tool||this.tool.onMouseDown(a,b,c,d,e,f,g);for(var h=0;h<this.events.mousedown.length;++h){var i=this.events.mousedown[h];i(a,b,c,d,e,f,g)}},b.prototype.onMouseUp=function(a,b,c,d,e,f,g){!this.tool||this.tool.onMouseUp(a,b,c,d,e,f,g);for(var h=0;h<this.events.mouseup.length;++h){var i=this.events.mouseup[h];i(a,b,c,d,e,f,g)}},b.prototype.onMouseMove=function(a,b,c,d,e,f,g){!this.tool||this.tool.onMouseMove(a,b,c,d,e,f,g);for(var h=0;h<this.events.mousemove.length;++h){var i=this.events.mousemove[h];i(a,b,c,d,e,f,g)}},b.prototype.onDrag=function(a,b,c,d){for(var e=0;e<this.events.drag.length;++e){var f=this.events.drag[e];f(a,b,c,d)}},b.prototype.onExtentChanged=function(a,b,c,d){for(var e=0;e<this.events.extentchanged.length;++e){var f=this.events.extentchanged[e];f(a,b,c,d)}},b.prototype.onDblclick=function(a,b,c,d,e,f,g){!this.tool||this.tool.onDblclick(a,b,c,d,e,f,g);for(var h=0;h<this.events.dblclick.length;++h){var i=this.events.dblclick[h];i(a,b,c,d,e,f,g)}},b.prototype.getMapControl=function(){},b.prototype.onResolutionChanged=function(a,b,c){for(var d=0;d<this.events.resolutionchanged.length;++d){var e=this.events.resolutionchanged[d];e(a,b,c)}},b.prototype.onResize=function(a,b){for(var c=0;c<this.events.resize.length;++c){var d=this.events.resize[c];d(a,b)}},b.prototype.onPostRender=function(a){for(var b=0;b<this.events.postrender.length;++b){var c=this.events.postrender[b];c(a)}},b.prototype.removeInteractions=function(){},b.prototype.resumeInteractions=function(){},b.prototype.setClusterScatter=function(){},b}(),$c=function(a,b,c,d){function e(a){var b=a.projection?a.projection:"EPSG:3857",d=a.extent;if(!d)return b;var e=new c.proj.Projection({code:a.projection,extent:a.extent});return e}var f=function(a){var d=a||{};b.call(this,d),this.interactions=new c.Collection,this.dragPan=new c.interaction.DragPan({kinetic:new c.Kinetic(-.005,.05,100)}),this.mouseWheelZoom=new c.interaction.MouseWheelZoom,this.doubleClickZoom=new c.interaction.DoubleClickZoom,this.pinchZoom=new c.interaction.PinchZoom;var f=new c.style.Fill({color:"rgba(255, 255, 255, 0.01)"});this.select=new c.interaction.Select({condition:function(a){return"mousemove"==a.originalEvent.type||"singleclick"==a.type},style:function(a){var b=a.get("features");if(b.length>10)return[a.getStyle()];for(var d,e=[new c.style.Style({image:new c.style.Circle({radius:a.get("radius"),fill:f})})],g=b.length-1;g>=0;--g){d=b[g];var h=d.getStyle();h.setGeometry(d.getGeometry()),e.push(h)}return e}});var g=d.defaultExtent||{};this.tempControl=[],this.keyboardPan=new c.interaction.KeyboardPan;var h=g.projection||"EPSG:3857";this.spatialReference=parseInt(h.split(":")[1]),this.interactions.push(this.select),this.interactions.push(this.dragPan),this.interactions.push(this.mouseWheelZoom),this.interactions.push(this.doubleClickZoom),this.interactions.push(this.pinchZoom),this.interactions.push(this.keyboardPan),this._fullExtent=d.fullExtent,this.map=new c.Map({view:new c.View({maxZoom:void 0==g.maxZoom?15:g.maxZoom,minZoom:void 0==g.minZoom?2:g.minZoom,center:g.center||[0,0],zoom:void 0==g.level?6:g.level,projection:e(g)}),overlays:[],interactions:this.interactions,renderer:d.renderer||"canvas"}),this.map.setSize([window.innerWidth,window.innerHeight]),this.draggpanFlag=!0,this.dbClickFlag=!0,this.mouseWheelZoomFlag=!0,this.removeInteractionsFlag=!1,this.clusterScatterFlag=!0,this.tool=null,this.setClusterScatter(!1)};return a.extend2(f,b),f.prototype.init=function(a){for(this.map.setTarget(a.targetId),this.map.updateSize(),i=0;i<this.tempControl.length;i++)this.map.addControl(this.tempControl[i]);this.bindKeyEvent(),this.bindEvents()},f.prototype.addControl=function(a){this.tempControl.push(a)},f.prototype.addScaleLineControl=function(a){var b=new c.control.ScaleLine({className:a});this.map.addControl(b)},f.prototype.bindKeyEvent=function(){var a=this.map.getViewport(),b=this;jQuery(a).keydown(function(a){!b.tool||b.tool.onKeyDown(a.keyCode,a.shiftKey)}).keyup(function(a){!b.tool||b.tool.onKeyUp(a.keyCode,a.shiftKey)})},f.prototype.bindEvents=function(){this.map.on("click",this.onMouseClick,this),this.map.on("pointermove",this.onMouseMove,this),this.map.on("pointerdown",this.onMouseDown,this),this.map.on("pointerup",this.onMouseUp,this),this.map.on("pointerdrag",this.onDrag,this),this.map.on("dblclick",this.onDblclick,this),this.map.on("moveend",this.onExtentChanged,this),this.map.on("change:size",this.onResize,this),this.map.getView().on("change:resolution",this.onResolutionChanged,this),this.map.on("postrender",this.onPostRender,this)},f.prototype.addLayer=function(a){null!=a&&(f.prototype.uber.addLayer.call(this,a),this.map.addLayer(a.getLayer()),a.hasOwnProperty("map")&&null==a.map&&(a.map=this),a.init())},f.prototype.setClusterScatter=function(a){a&&!this.clusterScatterFlag?(this.interactions.insertAt(0,this.select),this.clusterScatterFlag=!0):this.clusterScatterFlag&&(this.interactions.removeAt(0),this.clusterScatterFlag=!1)},f.prototype.getExtent=function(){var a=this.map.getSize(),b=this.map.getView(),c=b.calculateExtent(a),e=new d({minx:c[0],miny:c[1],maxx:c[2],maxy:c[3],spatialReference:this.spatialReference});return e},f.prototype.getZoomLevel=function(){var a=this.map.getView();return a.getZoom()},f.prototype.getResolution=function(){var a=this.map.getView();return a.getResolution()},f.prototype.setResolution=function(a){var b=this.map.getView();b.setResolution(a)},f.prototype.getMapControl=function(){return f.prototype.uber.getMapControl.call(this),this.map},f.prototype.getOrigin=function(){var a=this.map.getView(),b=a.getProjection(),d=b.getExtent();return c.extent.getTopLeft(d)},f.prototype.getViewSize=function(){return this.map.getSize()},f.prototype.setViewSize=function(a,b){this.map.setSize([a,b])},f.prototype.onMouseDown=function(a){var b=this.map.getViewport();jQuery(b).attr("tabindex",1);var c=a.originalEvent.button||0,d=!1,e=!1,g=a.pixel[0],h=a.pixel[1],i=a.coordinate[0],j=a.coordinate[1];f.prototype.uber.onMouseDown.call(this,c,d,g,h,i,j,e)},f.prototype.onMouseUp=function(a){var b=a.originalEvent.button||0,c=!1,d=!1,e=a.pixel[0],g=a.pixel[1],h=a.coordinate[0],i=a.coordinate[1];f.prototype.uber.onMouseUp.call(this,b,c,e,g,h,i,d)},f.prototype.onDrag=function(a){var b=a.frameState.extent;f.prototype.uber.onDrag.call(this,b[0],b[3],b[2],b[1])},f.prototype.onMouseMove=function(a){var b=a.originalEvent.button||0,c=!1,d=!1,e=a.pixel[0],g=a.pixel[1],h=a.coordinate[0],i=a.coordinate[1];f.prototype.uber.onMouseMove.call(this,b,c,e,g,h,i,d)},f.prototype.onExtentChanged=function(a){var b=1e-5,c=this.map.getView(),d=a.frameState.extent,e=(d[0]+d[2])/2,g=(d[1]+d[3])/2,h=c.getProjection().getExtent(),i=h[0],j=h[1],k=h[2],l=h[3],m=e,n=g,o=!1;if(h&&(e>k&&Math.abs(k-e)>b?(m=k,o=!0):i>e&&Math.abs(i-e)>b&&(m=i,o=!0),g>l&&Math.abs(l-g)>b?(n=l,o=!0):j>g&&Math.abs(j-g)>b&&(n=j,o=!0),o)){this.map.un("moveend",this.onExtentChanged,this),c.setCenter([m,n]);var p=this;setTimeout(function(){p.map.on("moveend",p.onExtentChanged,p)},500)}f.prototype.uber.onExtentChanged.call(this,d[0],d[3],d[2],d[1])},f.prototype.onMouseClick=function(a){var b=a.originalEvent.button||0,c=!1,d=!1,e=a.pixel[0],g=a.pixel[1],h=a.coordinate[0],i=a.coordinate[1];f.prototype.uber.onMouseClick.call(this,b,c,e,g,h,i,d)},f.prototype.onDblclick=function(a){{var b=a.originalEvent.button||0,c=!1,d=!1,e=a.pixel[0],g=a.pixel[1],h=a.coordinate[0],i=a.coordinate[1];a.pixel,a.coordinate}f.prototype.uber.onDblclick.call(this,b,c,e,g,h,i,d)},f.prototype.onResize=function(a){var b=this.getViewSize(),c=a.oldValue;f.prototype.uber.onResize.call(this,b,c)},f.prototype.onResolutionChanged=function(a){var b=a.oldValue,c=this.map.getView(),d=c.getResolution(),e=c.getZoom();f.prototype.uber.onResolutionChanged.call(this,d,b,e)},f.prototype.export=function(a){this.map.once("postcompose",function(b){for(var c=b.context.canvas,d=navigator.userAgent.match(/(?:MSIE |Trident\/.*; rv:)(\d+)/),e=d?parseInt(d[1]):!1,f=c.toDataURL(),g=f.replace(/^data:image\/png;base64,/,""),h=atob(g),i=new ArrayBuffer(h.length),j=new Uint8Array(i),k=0;k<h.length;k++)j[k]=h.charCodeAt(k);var l=new Blob([j],{type:"image/png"});if(e){if(navigator.msSaveBlob)return navigator.msSaveBlob(l,a+".png")}else{var m=document.createElement("a"),n=window.URL.createObjectURL(l);"download"in m?m.setAttribute("download",a):m.setAttribute("target","_blank"),m.href=n;var o=document.createEvent("MouseEvents");o.initEvent("click",!0,!0),m.dispatchEvent(o)}}),this.map.renderSync()},f.prototype.exportPDF=function(a){this.map.once("postcompose",function(b){var c=b.context.canvas,d=c.toDataURL(),e=new jsPDF("l","mm",[c.width,c.height]);e.addImage(d,"png",0,0,c.width,c.height,void 0,"fast"),e.save(a+".pdf")}),this.map.renderSync()},f.prototype.stopDragPan=function(){this.draggpanFlag?this.map.removeInteraction(this.dragPan):null,this.draggpanFlag=!1},f.prototype.resumeDragPan=function(){this.removeInteractionsFlag||(this.draggpanFlag?null:this.map.addInteraction(this.dragPan),this.draggpanFlag=!0,this.setCursor("pointer"))},f.prototype.stopDbClick=function(){this.dbClickFlag?this.map.removeInteraction(this.doubleClickZoom):null,this.dbClickFlag=!1},f.prototype.resumeDbClick=function(){if(!this.removeInteractionsFlag){var a=this;setTimeout(function(){a.dbClickFlag?null:a.map.addInteraction(a.doubleClickZoom),a.dbClickFlag=!0},300)}},f.prototype.stopMouseWheelZoom=function(){this.mouseWheelZoomFlag?this.map.removeInteraction(this.mouseWheelZoom):null,this.mouseWheelZoomFlag=!1},f.prototype.resumeMouseWheelZoom=function(){this.removeInteractionsFlag||(this.mouseWheelZoomFlag?null:this.map.addInteraction(this.mouseWheelZoom),this.mouseWheelZoomFlag=!0)},f.prototype.removeInteractions=function(){var a=this;this.interactions.forEach(function(b){a.map.removeInteraction(b)}),this.dbClickFlag=!1,this.draggpanFlag=!1,this.removeInteractionsFlag=!0},f.prototype.resumeInteractions=function(){var a=this;setTimeout(function(){a.interactions.forEach(function(b){a.map.addInteraction(b)})},300),this.dbClickFlag=!0,this.draggpanFlag=!0,this.removeInteractionsFlag=!1},f.prototype.fullExtent=function(){var a=this.map.getView();a.setCenter(this._fullExtent.center),a.setZoom(this._fullExtent.level)},f.prototype.zoomOut=function(){var a=this.map.getView();a.setZoom(a.getZoom()-1)},f.prototype.zoomIn=function(){var a=this.map.getView();a.setZoom(a.getZoom()+1)},f.prototype.zoomTo=function(a){var b=this.map.getView();b.setZoom(a)},f.prototype.setCursor=function(a){var b=a||"pointer",c=this.map.getViewport();c.style.cursor=b},f.prototype.removeLayer=function(a){a.clear(),f.prototype.uber.removeLayer.call(this,a),this.map.removeLayer(a.getLayer())},f.prototype.setCenter=function(a){var b=this.map.getView();b.setCenter([a.x,a.y])},f.prototype.getCenter=function(){var a=this.map.getView();return a.getCenter()},f.prototype.pan=function(a,b,c){var d=this.map.getView(),e=this.map.getSize(),f=a.envelope();d.fit([f.minx,f.miny,f.maxx,f.maxy],e,{padding:b||[10,10,10,10],constrainResolution:void 0==c?!0:c})},f.prototype.getPixelFromCoordinate=function(a){return this.map.getPixelFromCoordinate(a)},f.prototype.getCoordinateFromPixel=function(a){return this.map.getCoordinateFromPixel(a)},f}(b,Zc,ol,u),_c=function(a){function b(a,b){var c=(a[2]-a[0])/2*(b-1),d=(a[3]-a[1])/2*(b-1);a[0]-=c,a[2]+=c,a[1]-=d,a[3]+=d}var c=.75,d=.1,e=function(b){var c=b?b:{};this.collapsed_=void 0!==c.collapsed?c.collapsed:!1,this.collapsible_=void 0!==c.collapsible?c.collapsible:!0,this.collapsible_||(this.collapsed_=!1);var d=c.className?c.className:"ol-overviewmap",f=c.tipLabel?c.tipLabel:"Overview map",g=jQuery('<div class="ol-overviewmap-map overviewMapBG"></div>').get(0);this.ovmap_=new a.Map({controls:new a.Collection,interactions:new a.Collection,target:g});var h=this.ovmap_;c.layers&&c.layers.forEach(function(a){h.addLayer(a)},this);var i=jQuery('<div class="ol-overviewmap-box"></div>');this.boxOverlay_=new a.Overlay({position:[0,0],positioning:"bottom-left",element:i.get(0)}),this.ovmap_.addOverlay(this.boxOverlay_);var j,k=d+" ol-unselectable ol-control"+(this.collapsed_&&this.collapsible_?" ol-collapsed":"")+(this.collapsible_?"":" ol-uncollapsible");if(void 0!==c.collapseLabel||void 0!==c.label){{c.collapseLabel?c.collapseLabel:"«"}this.collapseLabel_=jQuery("<span>»</span>").get(0);{c.label?c.label:"»"}this.label_=jQuery("<span>«</span>").get(0);var l=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,m=jQuery('<button type="button" title="{0}"></button>'.replace("{0}",f)).append(l);m.on("click",this.handleClick_.bind(this)),m.on("mouseout",function(){this.blur()}),m.on("focusout",function(){this.blur()}),j=jQuery('<div class="{0}"></div>'.replace("{0}",k)).append(g).append(m).get(0)}else j=jQuery('<div class="{0}"></div>'.replace("{0}",k)).append(g).get(0);var n=c.render?c.render:e.render;this.dragging=null,i.on("mousedown",this.onStartDrag.bind(this)),jQuery(document.body).on("mousemove",this.onDrag.bind(this)),jQuery(document.body).on("mouseup",this.onEndDrag.bind(this)),a.control.Control.call(this,{element:j,render:n,target:c.target})};return a.inherits(e,a.control.Control),e.prototype.setMap=function(b){var c=this.getMap();if(b!==c){var d=b.getView(),e=d.getProjection(),f=new a.View({projection:e});this.ovmap_.setView(f),a.control.Control.prototype.setMap.call(this,b),b&&0===this.ovmap_.getLayers().getLength()&&this.ovmap_.setLayerGroup(b.getLayerGroup()),this.ovmap_.updateSize(),this.resetExtent_()}},e.prototype.handleRotationChanged_=function(){this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())},e.render=function(){this.validateExtent_(),this.updateBox_()},e.prototype.validateExtent_=function(){var b=this.getMap(),e=this.ovmap_,f=b.getSize(),g=b.getView(),h=g.calculateExtent(f),i=e.getSize(),j=e.getView(),k=j.calculateExtent(i),l=e.getPixelFromCoordinate(a.extent.getTopLeft(h));if(l){var m=e.getPixelFromCoordinate(a.extent.getBottomRight(h)),n={width:Math.abs(l[0]-m[0]),height:Math.abs(l[1]-m[1])},o=i[0],p=i[1];n.width<o*d||n.height<p*d||n.width>o*c||n.height>p*c?this.resetExtent_():a.extent.containsExtent(k,h)||this.recenter_()}},e.prototype.resetExtent_=function(){if(0!==c&&0!==d){var a=this.getMap(),e=this.ovmap_,f=a.getSize(),g=a.getView(),h=g.calculateExtent(f),i=e.getSize(),j=e.getView(),k=Math.log(c/d)/Math.LN2,l=1/(Math.pow(2,k/2)*d);b(h,l),j.fit(h,i)}},e.prototype.recenter_=function(){var a=this.getMap(),b=this.ovmap_,c=a.getView(),d=b.getView();d.setCenter(c.getCenter())},e.prototype.updateBox_=function(){var b=this.getMap(),c=this.ovmap_,d=b.getSize(),e=b.getView(),f=c.getView(),g=(c.getSize(),e.getRotation()),h=this.boxOverlay_,i=this.boxOverlay_.getElement(),j=e.calculateExtent(d),k=f.getResolution(),l=a.extent.getBottomLeft(j),m=a.extent.getTopRight(j),n=this.calculateCoordinateRotate_(g,l);if(h.setPosition(n),i){var o=Math.abs((l[0]-m[0])/k)+"px",p=Math.abs((m[1]-l[1])/k)+"px";i.style.width=o,i.style.height=p}},e.prototype.calculateCoordinateRotate_=function(b,c){var d,e=this.getMap(),f=e.getView(),g=f.getCenter();return g&&(d=[c[0]-g[0],c[1]-g[1]],a.coordinate.rotate(d,b),a.coordinate.add(d,g)),d},e.prototype.handleClick_=function(a){a.preventDefault(),this.collapsed_=!this.collapsed_,jQuery(this.element).toggleClass("ol-collapsed"),this.collapsed_?this.collapseLabel_.parentNode.replaceChild(this.label_,this.collapseLabel_):this.label_.parentNode.replaceChild(this.collapseLabel_,this.label_),!this.collapsed_&&this.needFirstRenderUpdate_&&(this.needFirstRenderUpdate_=!1,this.ovmap_.updateSize(),this.ovmap_.once("postrender",function(){this.render()}.bind(this)))},e.prototype.onStartDrag=function(a){var b=jQuery(a.target);this.dragging={el:b,evPos:{top:a.pageY,left:a.pageX},elPos:b.offset()}},e.prototype.onDrag=function(a){if(this.dragging){var b=this.dragging.el.offset(),c={top:b.top+(a.pageY-this.dragging.evPos.top),left:b.left+(a.pageX-this.dragging.evPos.left)};this.dragging.evPos={top:a.pageY,left:a.pageX},this.dragging.el.offset(c)}},e.prototype.onEndDrag=function(){if(this.dragging){var a=this.getMap(),b=this.dragging.el.position(),c=[this.dragging.el.width(),this.dragging.el.height()],d=a.getSize(),e=a.getView().getResolution(),f=b.left*Math.abs(d[0]/c[0]),g=b.top*Math.abs(d[1]/c[1]),h=[0+f,d[1]+g],i=[d[0]+f,0+g],j=a.getCoordinateFromPixel(h),k=a.getCoordinateFromPixel(i),l=[j[0],j[1],k[0],k[1]];a.getView().fit(l,a.getSize()),a.getView().setResolution(e),this.dragging.el.offset(this.dragging.elPos),this.dragging=null}},e}(ol),ad=function(){function a(){var a={};return a.click=[],a.mousemove=[],a.mousedown=[],a.mouseup=[],a.dblclick=[],a.extentchanged=[],a.resize=[],a.resolutionchanged=[],a.tick=[],a}var b=function(){this.tool=null,this.layers=[],this.cursor=null,this.events=a()};return b.prototype.init=function(){},b.prototype.addLayer=function(a){this.layers.push(a)},b.prototype.getExtent=function(){},b.prototype.removeLayer=function(a){var b=this.layers.indexOf(a);b>0&&this.layers.splice(b,1)},b.prototype.setCursor=function(){},b.prototype.getViewSize=function(){},b.prototype.getLayerCount=function(){return this.layers.length},b.prototype.getLayer=function(a){return this.layers[a]},b.prototype.getLayers=function(){return this.layers},b.prototype.getZoomLevel=function(){},b.prototype.getResolution=function(){},b.prototype.setResolution=function(){},b.prototype.getOrigin=function(){},b.prototype.findLayer=function(a){for(var b=0;b<this.layers.length;++b){var c=this.layers[b];if(c.name==a||c.id==a)return c}return null},b.prototype.on=function(a,b){if(a in this.events){var c=this.events[a];c.push(b)}},b.prototype.un=function(a,b){if(a in this.events)for(var c=this.events[a],d=0,e=c.length;e>d;++d){var f=c[d];f===b&&(c.splice(d,1),d--,e--)}},b.prototype.getScale=function(){},b.prototype.toHtml=function(){},b.prototype.fullExtent=function(){},b.prototype.zoomOut=function(){},b.prototype.zoomIn=function(){},b.prototype.zoomTo=function(){},b.prototype.pan=function(){},b.prototype.setCenter=function(){},b.prototype.getPixelFromCoordinate=function(){},b.prototype.getCoordinateFromPixel=function(){},b.prototype.getCenter=function(){},b.prototype.export=function(){},b.prototype.exportPDF=function(){},b.prototype.stopDragPan=function(){},b.prototype.resumeDragPan=function(){},b.prototype.stopDbClick=function(){},b.prototype.resumeDbClick=function(){},b.prototype.currentTool=function(a){this.tool!=a&&(null!=this.tool&&this.tool.deactivate(),this.tool=a,null!=this.tool&&(this.cursor=this.tool.cursor))},b.prototype.onMouseClick=function(a,b,c,d,e,f,g){!this.tool||this.tool.onMouseClick(a,b,c,d,e,f,g);for(var h=0;h<this.events.click.length;++h){var i=this.events.click[h];i(a,b,c,d,e,f,g)}},b.prototype.onMouseOver=function(a){null!=this.tool&&this.tool.onMouseOver(a)},b.prototype.onMouseDown=function(a,b,c,d,e,f,g){!this.tool||this.tool.onMouseDown(a,b,c,d,e,f,g);for(var h=0;h<this.events.mousedown.length;++h){var i=this.events.mousedown[h];i(a,b,c,d,e,f,g)}},b.prototype.onMouseUp=function(a,b,c,d,e,f,g){!this.tool||this.tool.onMouseUp(a,b,c,d,e,f,g);for(var h=0;h<this.events.mouseup.length;++h){var i=this.events.mouseup[h];i(a,b,c,d,e,f,g)}},b.prototype.onMouseMove=function(a,b,c,d,e,f,g){!this.tool||this.tool.onMouseMove(a,b,c,d,e,f,g);for(var h=0;h<this.events.mousemove.length;++h){var i=this.events.mousemove[h];i(a,b,c,d,e,f,g)}},b.prototype.onExtentChanged=function(a,b,c,d){for(var e=0;e<this.events.extentchanged.length;++e){var f=this.events.extentchanged[e];f(a,b,c,d)}},b.prototype.onTick=function(a){for(var b=0;b<this.events.tick.length;++b){var c=this.events.tick[b];c(a)}},b.prototype.onDblclick=function(a,b,c,d){for(var e=0;e<this.events.dblclick.length;++e){var f=this.events.dblclick[e];f(a,b,c,d)}},b.prototype.onResolutionChanged=function(a,b,c){for(var d=0;d<this.events.resolutionchanged.length;++d){var e=this.events.resolutionchanged[d];e(a,b,c)}},b.prototype.onResize=function(a,b){for(var c=0;c<this.events.resize.length;++c){var d=this.events.resize[c];d(a,b)}},b}(),bd=function(a,b,c,d){function e(a){var b=a.projection?a.projection:"EPSG:3857",d=a.extent;if(!d)return b;var e=new c.proj.Projection({code:a.projection,extent:a.extent});return e}var f=null,g=function(a){var d=a||{};b.call(this,a),this.interactions=new c.Collection,this.dragPan=new c.interaction.DragPan({kinetic:new c.Kinetic(-.005,.05,100)}),this.mouseWheelZoom=new c.interaction.MouseWheelZoom,this.doubleClickZoom=new c.interaction.DoubleClickZoom,this.pinchZoom=new c.interaction.PinchZoom,this.pinchRotate=new c.interaction.PinchRotate,this.keyboardPan=new c.interaction.KeyboardPan,this.interactions.push(this.dragPan),this.interactions.push(this.mouseWheelZoom),this.interactions.push(this.doubleClickZoom),this.interactions.push(this.pinchZoom),this.interactions.push(this.pinchRotate),this.interactions.push(this.keyboardPan);var f=d.defaultExtent||{},g=f.projection||"EPSG:3857";this.spatialReference=parseInt(g.split(":")[1]),this.fullExtent=d.fullExtent,this.tool=null,this.map=new c.Map({view:new c.View({maxZoom:f.maxZoom||15,minZoom:f.minZoom||2,center:f.center||[0,0],zoom:f.level||6,projection:e(f)}),overlays:[],interactions:this.interactions})};return a.extend2(g,b),g.prototype.init=function(a){this.map.setTarget(a.targetId),f=a.targetId,this.map.updateSize();var b=this.map;b.getControls().forEach(function(a){b.removeControl(a)}),this.bindEvents(),this.bindKeyEvent()},g.prototype.bindKeyEvent=function(){var a=this.map.getViewport(),b=this;$(a).keydown(function(a){!b.tool||b.tool.onKeyDown(a.keyCode,a.shiftKey)}).keyup(function(a){!b.tool||b.tool.onKeyUp(a.keyCode,a.shiftKey)})},g.prototype.bindEvents=function(){this.map.on("click",this.onClick,this),this.map.on("pointermove",this.onMouseMove,this),this.map.on("pointerdown",this.onMouseDown,this),this.map.on("pointerup",this.onMouseUp,this),this.map.on("dblclick",this.onDblclick,this),this.map.on("moveend",this.onExtentChanged,this),this.map.on("change:size",this.onResize,this),this.map.on("postcompose",this.onTick,this),this.map.getView().on("change:resolution",this.onResolutionChanged,this)},g.prototype.getZoomLevel=function(){var a=this.map.getView();return a.getZoom()},g.prototype.getExtent=function(){var a=this.map.getSize(),b=this.map.getView(),c=b.calculateExtent(a),e=new d({minx:c[0],miny:c[1],maxx:c[2],maxy:c[3],spatialReference:this.spatialReference});return e},g.prototype.pan=function(a,b){var c=this.map.getView(),d=this.map.getSize(),e=a.envelope();c.fit([e.minx,e.miny,e.maxx,e.maxy],d,{padding:b||[10,10,10,10]})},g.prototype.zoomOut=function(){var a=this.map.getView();a.setZoom(a.getZoom()-1)},g.prototype.zoomIn=function(){var a=this.map.getView();a.setZoom(a.getZoom()+1)},g.prototype.zoomTo=function(a){var b=this.map.getView();b.setZoom(a)},g.prototype.setCenter=function(a){var b=this.map.getView(),d=new c.animation.pan({duration:100,source:b.getCenter()});this.map.beforeRender(d),b.setCenter([a.x,a.y])
},g.prototype.getCenter=function(){var a=this.map.getView();return a.getCenter()},g.prototype.getResolution=function(){var a=this.map.getView();return a.getResolution()},g.prototype.setResolution=function(a){var b=this.map.getView();b.setResolution(a)},g.prototype.getOrigin=function(){var a=this.map.getView(),b=a.getProjection(),d=b.getExtent();return c.extent.getTopLeft(d)},g.prototype.getViewSize=function(){return this.map.getSize()},g.prototype.fullExtent=function(){var a=this.map.getView();a.setCenter(this.fullExtent.center),a.setZoom(this.fullExtent.level)},g.prototype.getPixelFromCoordinate=function(a){return this.map.getPixelFromCoordinate(a)},g.prototype.getCoordinateFromPixel=function(a){return this.map.getCoordinateFromPixel(a)},g.prototype.addLayer=function(a){null!=a&&(g.prototype.uber.addLayer.call(this,a),this.map.addLayer(a.getLayer()))},g.prototype.removeLayer=function(a){a.clear(),g.prototype.uber.removeLayer.call(this,a),this.map.removeLayer(a.getLayer())},g.prototype.onResolutionChanged=function(a){var b=a.oldValue,c=this.map.getView(),d=c.getResolution(),e=c.getZoom();g.prototype.uber.onResolutionChanged.call(this,d,b,e)},g.prototype.onTick=function(a){var b=a.frameState,c=b.time;this.uber.onTick.call(this,c)},g.prototype.stopDragPan=function(){this.draggpanFlag?this.map.removeInteraction(this.dragPan):null,this.draggpanFlag=!1},g.prototype.resumeDragPan=function(){this.removeInteractionsFlag||(this.draggpanFlag?null:this.map.addInteraction(this.dragPan),this.draggpanFlag=!0,this.setCursor("pointer"))},g.prototype.stopDbClick=function(){this.dbClickFlag?this.map.removeInteraction(this.doubleClickZoom):null,this.dbClickFlag=!1},g.prototype.resumeDbClick=function(){if(!this.removeInteractionsFlag){var a=this;setTimeout(function(){a.dbClickFlag?null:a.map.addInteraction(a.doubleClickZoom),a.dbClickFlag=!0},300)}},g.prototype.onExtentChanged=function(a){var b=1e-5,c=this.map.getView(),d=a.frameState.extent,e=(d[0]+d[2])/2,f=(d[1]+d[3])/2,h=c.getProjection().getExtent(),i=h[0],j=h[1],k=h[2],l=h[3],m=e,n=f,o=!1;if(h&&(e>k&&Math.abs(k-e)>b?(m=k,o=!0):i>e&&Math.abs(i-e)>b&&(m=i,o=!0),f>l&&Math.abs(l-f)>b?(n=l,o=!0):j>f&&Math.abs(j-f)>b&&(n=j,o=!0),o)){this.map.un("moveend",this.onExtentChanged,this),c.setCenter([m,n]);var p=this;setTimeout(function(){p.map.on("moveend",p.onExtentChanged,p)},500)}g.prototype.uber.onExtentChanged.call(this,d[0],d[3],d[2],d[1])},g.prototype.onClick=function(a){var b=a.originalEvent.button||0,c=!1,d=!1,e=a.pixel[0],f=a.pixel[1],h=a.coordinate[0],i=a.coordinate[1];g.prototype.uber.onMouseClick.call(this,b,c,e,f,h,i,d)},g.prototype.onMouseDown=function(a){var b=this.map.getViewport();$(b).attr("tabindex",1);var c=a.originalEvent.button||0,d=!1,e=!1,f=a.pixel[0],h=a.pixel[1],i=a.coordinate[0],j=a.coordinate[1];g.prototype.uber.onMouseDown.call(this,c,d,f,h,i,j,e)},g.prototype.onMouseUp=function(a){var b=a.originalEvent.button||0,c=!1,d=!1,e=a.pixel[0],f=a.pixel[1],h=a.coordinate[0],i=a.coordinate[1];g.prototype.uber.onMouseUp.call(this,b,c,e,f,h,i,d)},g.prototype.onMouseMove=function(a){var b=a.originalEvent.button||0,c=!1,d=!1,e=a.pixel[0],f=a.pixel[1],h=a.coordinate[0],i=a.coordinate[1];g.prototype.uber.onMouseMove.call(this,b,c,e,f,h,i,d)},g.prototype.onDblclick=function(a){var b=a.pixel,c=a.coordinate;null!=this.tool&&this.tool.onDblclick(a.originalEvent.button),g.prototype.uber.onDblclick.call(this,b[0],b[1],c[0],c[1])},g.prototype.setCursor=function(a){var b=a||"pointer",c=this.map.getViewport();c.style.cursor=b},g.prototype.onResize=function(a){var b=this.getViewSize(),c=a.oldValue;g.prototype.uber.onResize.call(this,b,c)},g.prototype.getScale=function(){var a=this.map.getView().getResolution();return parseInt(72*a*39.3701)},g.prototype.toHtml=function(a){var b=document.getElementById(f);html2canvas(b,{allowTaint:!0,taintTest:!1,useCORS:!0,onrendered:function(b){var c=document.createElement("div");c.appendChild(b),a(c)}})},g.prototype.export=function(a,b){var c=document.getElementById(f);html2canvas(c,{allowTaint:!0,taintTest:!1,onrendered:function(c){for(var d=navigator.userAgent.match(/(?:MSIE |Trident\/.*; rv:)(\d+)/),e=d?parseInt(d[1]):!1,f=c.toDataURL(),g=f.replace(/^data:image\/png;base64,/,""),h=atob(g),i=new ArrayBuffer(h.length),j=new Uint8Array(i),k=0;k<h.length;k++)j[k]=h.charCodeAt(k);var l=new Blob([j],{type:"image/png"});if(e){if(navigator.msSaveBlob)return navigator.msSaveBlob(l,a+".png")}else{var m=document.createElement("a"),n=window.URL.createObjectURL(l);"download"in m?m.setAttribute("download",a):m.setAttribute("target","_blank"),m.href=n;var o=document.createEvent("MouseEvents");o.initEvent("click",!0,!0),m.dispatchEvent(o),b()}}})},g.prototype.exportPDF=function(a){var b=document.getElementById(f);html2canvas(b,{allowTaint:!0,taintTest:!1,onrendered:function(b){var c=b.toDataURL(),d=new jsPDF("l","mm",[b.width,b.height]);d.addImage(c,"png",0,0,b.width,b.height,void 0,"fast"),d.save(a+".pdf")}})},g}(b,ad,ol,u),cd=function(){var a=function(){this.legends=[]};return a.prototype.show=function(a){!a||this.lookup(a.id)||this.legends.push(a)},a.prototype.clear=function(){this.legends=[]},a.prototype.remove=function(a){for(var b=0,c=this.legends.length;c>b;++b){var d=this.legends[b];if(d.id===a)return void this.legends.splice(b,1)}},a.prototype.lookup=function(a){for(var b=0,c=this.legends.length;c>b;++b){var d=this.legends[b];if(d.id===a)return d}return null},a}(),dd=function(){var a=function(a){var b=a||{};this.map=b.map,this.toolTipWare=b.toolTipWare};return a.prototype.location=function(a,b,c,d){null!=a&&this.map.setCenter(a),-1!=c&&this.map.zoomTo(c),!b||this.toolTipWare.add(b,d)},a}(),ed=function(){var a=function(){};return a.prototype.area=function(){},a.prototype.length=function(){},a.prototype.position=function(){},a}(),fd=function(){var a=function(){};return a.prototype.transform=function(){},a}(),gd=function(a){var b=function(b){this.anchor=b.anchor,this.content=b.content,this.id=b.id||a.newGuid(),this.layerId=b.layerId,this.onClose=b.onClose,this.offset=b.offset,this.title=b.title||"",this.autoPan=b.autoPan||!1,this.className=b.className};return b}(d),hd=function(){var a=function(){};return a.prototype.clear=function(){},a.prototype.remove=function(){},a.prototype.show=function(){},a.prototype.add=function(){},a.prototype.update=function(){},a}(),id=function(a,b,c,d){var e=Math.PI/180,f={calcPolygon:function(a){for(var b=0,c=a.getGeometryCount(),d=0;c>d;++d)b+=f.calcRing(a.getGeometry(d));return Math.abs(b)},calcEnvelope:function(a){var b=Math.abs(a.maxx-a.minx),c=Math.abs(a.maxy-a.miny);return b*c},calcCircle:function(a){return Math.PI*Math.pow(a.radius,2)},calcEllipse:function(a){return Math.PI*a.axisX*a.axisY},calcSquare:function(a){return Math.pow(a.side,2)},calcRing:function(a){for(var b,c,d=0,e=a.getPointCount(),f=0,g=e-1;g>f;++f)b=a.getPoint(f),c=a.getPoint(f+1),d+=b.x*c.y-c.x*b.y;return.5*d},calcMultiPolygon:function(a){for(var b=0,c=0,d=a.getGeometryCount();d>c;++c)b+=f.calcPolygon(a.getGeometry(c));return b}},g={calcGeometry:function(a,b){for(var c=b.transform(a,d.EPSG4326),e=0,f=c.getGeometryCount(),h=0;f>h;++h)e+=g.calcPath(c.getGeometry(h));return e},calcEnvelope:function(a){var b=Math.abs(a.maxx-a.minx),c=Math.abs(a.maxy-a.miny);return 2*(b+c)},calcCircle:function(a){return Math.PI*a.radius*2},calcEllipse:function(a){var b=[axisX=a.axisX,a.axisY],c=Math.max(b[0],b[1]),d=Math.min(b[0],b[1]);return 2*Math.PI*d+4*(c-d)},calcSquare:function(a){return 4*a.side},calcPath:function(a){for(var b,c,d=6378.137,f=0,g=a.getPointCount(),h=0,i=g-1;i>h;++h){b=a.getPoint(h),c=a.getPoint(h+1);var j=b.y*e,k=c.y*e,l=j-k,m=(b.x-c.x)*e;f+=2*Math.asin(Math.sqrt(Math.pow(Math.sin(l/2),2)+Math.cos(j)*Math.cos(k)*Math.pow(Math.sin(m/2),2)))}return f=f*d*1e3},calcMultiPolygon:function(a,b){for(var c=0,d=0,e=a.getGeometryCount();e>d;++d)c+=g.calcGeometry(a.getGeometry(d),b);return c}},h=function(a){b.call(this,a);var c=a||{};this.projectService=c.projectService};return a.extend2(h,b),h.prototype.area=function(a){var b=this.projectService.transform(a,d.EPSG3857),e=a.getGeometryType();switch(e){case c.Polyline:case c.Point:return 0;case c.Polygon:return f.calcPolygon(b);case c.MultiPolygon:return f.calcMultiPolygon(b);case c.Circle:return f.calcCircle(b);case c.Ellipse:return f.calcEllipse(b);case c.Envelope:return f.calcEnvelope(b);case c.Square:return f.calcSquare(b);default:return 0}},h.prototype.length=function(a){var b=this.projectService.transform(a,d.EPSG3857),e=a.getGeometryType();switch(e){case c.Polyline:case c.Polygon:return g.calcGeometry(b,this.projectService);case c.MultiPolygon:return g.calcMultiPolygon(b,this.projectService);case c.Point:return 0;case c.Circle:return g.calcCircle(b);case c.Ellipse:return g.calcEllipse(b);case c.Envelope:return g.calcEnvelope(b);case c.Square:return g.calcSquare(b);default:return 0}},h.prototype.position=function(a){return a},h}(b,ed,s,q),jd=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){{var p=function(a){b.call(this,a)};!function(){o.defs("EPSG:2436","+title=Beijing_1954+proj=tmerc+lat_0=0+lon_0=117+k=1+x_0=500000+y_0=0+ellps=krass+towgs84=15.8,-154.4,-82.3,0,0,0,0+units=m +no_defs"),o.defs("EPSG:4509","+title=CGCS2000+proj=tmerc +lat_0=0 +lon_0=117 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs"),o.defs("EPSG:4490","+title=CGCS2000+proj=longlat +ellps=GRS80 +no_defs"),c.proj.addProjection(new c.proj.Projection({code:"EPSG:2436",units:"m",extent:[-20037508.342789244,-20037508.342789244,20037508.342789244,20037508.342789244]})),c.proj.addProjection(new c.proj.Projection({code:"EPSG:4509",units:"m",extent:[-20037508.342789244,-20037508.342789244,20037508.342789244,20037508.342789244]})),c.proj.addProjection(new c.proj.Projection({code:"EPSG:4490",units:"degress",extent:[-73.4475936889648,3.48082399368286,-59.7340393066406,12.535626411438]}))}()}a.extend2(p,b);var q="EPSG:",r=function(a,b){return function(c){var d=new o.Point(c[0],c[1]),e=o.transform(a,b,d);return[e.x,e.y]}};return p.prototype.transform=function(a,b){if(a){var c=a.getSpatialReference();if(d==b)return a;var d=new o.Proj(q+c),e=new o.Proj(q+b),f=r(d,e),g=a.getGeometryType();switch(g){case n.Polyline:return this.projPolyline(a,b,f);case n.Polygon:return this.projPolygon(a,b,f);case n.MultiPolygon:return this.projMultiPolygon(a,b,f);case n.Point:return this.projPoint(a,b,f);case n.Circle:return this.projCircle(a,b,f);case n.Ellipse:return this.projEllipse(a,b,f);case n.Envelope:return this.projEnvelope(a,b,f);case n.Square:return this.projSquare(a,b,f);default:return a}}},p.prototype.projPolyline=function(a,b,c){var d,g,h=new f;h.setSpatialReference(b);for(var i=a.getGeometryCount(),j=0;i>j;++j){g=a.getGeometry(j).points,d=new e;for(var k=0,l=g.length;l>k;k++)d.addPoint(this.projPoint(g[k],b,c));h.addGeometry(d)}return h},p.prototype.projPolygon=function(a,b,c){var d=a.getGeometryCount(),e=new h;e.setSpatialReference(b);for(var f=0;d>f;++f){points=a.getGeometry(f).points,C=new g;for(var i=0,j=points.length;j>i;i++)C.addPoint(this.projPoint(points[i],b,c));e.addGeometry(C)}return e},p.prototype.projMultiPolygon=function(a,b,c){var d=new i;d.setSpatialReference(b);for(var e=a.getGeometryCount(),f=0;e>f;++f){var g=a.getGeometry(f);d.addGeometry(this.projPolygon(g,b,c))}return d},p.prototype.projPoint=function(a,b,c){var e=c([a.x,a.y]);return new d({x:e[0],y:e[1],spatialReference:b})},p.prototype.projCircle=function(a,b,c){var e=a.center,f=a.radius,g=new d({x:e.x+f,y:e.y,spatialReference:a.getSpatialReference()}),h=this.projPoint(e,b,c),i=this.projPoint(g,b,c),j=i.x-h.x;return new k({center:h,radius:j,spatialReference:b})},p.prototype.projEllipse=function(a,b,c){var e=a.center,f=a.axisX,g=a.axisY,h=new d({x:e.x+f,y:e.y,spatialReference:a.getSpatialReference()}),i=new d({x:e.x,y:e.y-g,spatialReference:a.getSpatialReference()}),k=this.projPoint(e,b,c),l=this.projPoint(h,b,c),m=this.projPoint(i,b,c),n=l.x-k.x,o=k.y-m.y;return new j({center:k,axisX:n,axisY:o,spatialReference:b})},p.prototype.projEnvelope=function(a,b,c){var e=new d({x:a.maxx,y:a.maxy,spatialReference:a.getSpatialReference()}),f=new d({x:a.minx,y:a.miny,spatialReference:a.getSpatialReference()}),g=this.projPoint(e,b,c),h=this.projPoint(f,b,c);return new l({minx:h.x,miny:h.y,maxx:g.x,maxy:g.y,spatialReference:b})},p.prototype.projSquare=function(a,b,c){var e=a.center,f=new d({x:e.x+.5*a.side,y:e.y,spatialReference:a.getSpatialReference()}),g=this.projPoint(e,b,c),h=this.projPoint(f,b,c);return new m({center:g,side:2*(h.x-g.x),spatialReference:b})},p}(b,fd,ol,v,B,E,C,F,G,I,H,u,J,s,proj4),kd=function(a,b,c){var d=function(a){b.call(this,a),this.container={},this.elements=[],this.IdContainer={},this.excluseLayerIds=a.excluseLayerIds,this.map=a.map.map,this.lastTip=null;var c=this;this.createContainer=function(b){function d(){for(var a=0,b=c.elements.length;b>a;++a)c.elements[a].style.zIndex=1;f.style.zIndex=2}function e(){f.style.display="none",f.blur(),c.remove(b.id),!b.onClose||(b.onClose(),b.onClose=null),g.removeEventListener("click",e),f.removeEventListener("click",d)}var f=document.createElement("div");if(f.className=b.className||"ol-popup",f.style.display="block",f.style.zIndex=2,d(),b.title){var g=document.createElement("button");g.addEventListener("click",e,!1),g.className="close right1";var h=document.createElement("img");h.src=a.baseUrl+"resource/images/close1.png",g.appendChild(h);var i=document.createElement("div");i.innerText=b.title,i.style="width: 80%;float: left;";var j=document.createElement("div");j.className="div-header1",j.appendChild(i),j.appendChild(g),f.appendChild(j);var k=document.createElement("div");k.className="popup-content",k.innerHTML=b.content,f.appendChild(k)}else{f.className=b.className;var l=document.createElement("div");l.className="popup-content",l.innerHTML=b.content,f.appendChild(l)}return f.addEventListener("click",d,!0),this.elements.push(f),f}};return a.extend2(d,b),d.prototype.removeOverlay=function(a){var b=a.getElement();if(b){var c=this.elements.indexOf(b);this.elements.splice(c,1)}},d.prototype.clear=function(){for(var a in this.container){var b=this.container[a];if(b instanceof Array){for(var c=b.length,d=0;c>d;++d){var e=b[d];this.map.removeOverlay(e)}b.splice(0,c)}}for(var f in this.IdContainer){var e=this.IdContainer[f];!e||this.map.removeOverlay(e),delete this.IdContainer[f]}this.elements.splice(0,this.elements.length)},d.prototype.remove=function(a){var b=null,c=this;if(a in this.container){var d=this.container[a];d.forEach(function(a){!a||(c.map.removeOverlay(a),c.removeOverlay(a))}),d.splice(0,d.length)}a in this.IdContainer&&(b=this.IdContainer[a],!b||(this.map.removeOverlay(b),this.removeOverlay(b)),delete this.IdContainer[a])},d.prototype.add=function(a,b){var d=this.createContainer(a);b&&(!!this.lastTip&&-1==this.excluseLayerIds.indexOf(this.lastTip.layerId)&&(this.remove(this.lastTip.layerId),this.remove(this.lastTip.id)),this.lastTip=null);var e=new c.Overlay({element:d,autoPan:a.autoPan,autoPanAnimation:{duration:250},offset:a.offset||[0,0]});return this.map.addOverlay(e),e.setPosition([a.anchor.x,a.anchor.y]),a.layerId in this.container||(this.container[a.layerId]=[]),this.container[a.layerId].push(e),this.IdContainer[a.id]=e,this.lastTip=a,d},d.prototype.update=function(a){this.IdContainer[a.id].setPosition([a.anchor.x,a.anchor.y])},d.prototype.show=function(a,b){var c="block";if(c=b?"block":"none",a in this.container){var d=this.container[a];d.forEach(function(a){if(a){var b=a.getElement();b.style.display=c}})}if(a in this.IdContainer){var e=this.IdContainer[a];if(e){var f=e.getElement();f.style.display=c}}},d}(b,hd,ol),ld=function(){var a=function(){};return a.prototype.add=function(){},a.prototype.update=function(){},a.prototype.remove=function(){},a.prototype.getCount=function(){},a.prototype.get=function(){},a.prototype.clear=function(){},a}(),md=function(a,b,c){function d(a){return new c.Overlay({id:a.id,position:[a.position.x,a.position.y],positioning:a.positioning,element:a.element,stopEvent:a.stopEvent,autoPan:a.autoPan,autoPanAnimation:a.autoPanAnimation,autoPanMargin:a.autoPanMargin,offset:a.offset})}var e=function(a){b.call(this,a),this.map=a.map.map,this.overlays=[]};return a.extend2(e,b),e.prototype.add=function(a){var b=d(a);this.map.addOverlay(b),this.overlays.push(a)},e.prototype.update=function(a){var b=this.map.getOverlayById(a.id);b.setProperties({element:a.element,offset:a.offset,position:[a.position.x,a.position.y],positioning:a.positioning},!1)},e.prototype.remove=function(a){for(var b=0;b<this.overlays.length;b++)if(this.overlays[b].id==a){var c=this.map.getOverlayById(a);this.map.removeOverlay(c),this.overlays.splice(b,1)}},e.prototype.getCount=function(){return this.overlays.length},e.prototype.get=function(a){return this.overlays[a]},e.prototype.clear=function(){for(var a=0;a<this.overlays.length;a++){var b=this.map.getOverlayById(this.get(a).id);this.map.removeOverlay(b)}this.overlays.length=0},e}(b,ld,ol),nd=function(a){var b=function(b){this.position=b.position,this.id=b.id||a.newGuid(),this.element=b.element,this.offset=b.offset||[0,0],this.positioning=b.positioning||"top-left",this.stopEvent=void 0==b.stopEvent?!0:b.stopEvent,this.autoPan=b.autoPan||!1,this.autoPanAnimation=b.autoPanAnimation||{duration:250},this.autoPanMargin=b.autoPanMargin||20};return b}(d),od=function(){var a=function(){};return a.prototype.enable=function(){},a.prototype.disable=function(){},a}(),pd=function(){var a=function(){};return a.prototype.play=function(){},a.prototype.pause=function(){},a.prototype.resume=function(){},a.prototype.stop=function(){},a.prototype.on=function(){},a.prototype.un=function(){},a}(),qd=function(){var a=function(){this.clips=[]};return a.prototype.add=function(a){this.clips.push(a)},a.prototype.remove=function(a){var b=this.find(a);if(null!==b){var c=this.clips.indexOf(b);this.clips.splice(c,1)}},a.prototype.find=function(a){for(var b=0;b<this.clips.length;b++){var c=this.clips[b];if(c.id===a)return c}return null},a.prototype.removeFinished=function(){var a=[];this.clips.forEach(function(b){b.animation.canDelete||a.push(b)}),this.clips=a},a.prototype.forEach=function(a){this.clips.forEach(function(b){a(b)})},a}(),rd=function(){var a=function(){};return a.prototype.newAnimation=function(){},a.prototype.remove=function(){},a}(),sd=function(){var a=function(){};return a.prototype.start=function(){},a.prototype.pause=function(){},a.prototype.resume=function(){},a.prototype.stop=function(){},a.prototype._step=function(){},a.prototype.state=function(){},a}(),td=function(){var a={RUNNING:1,PAUSED:2,FINISHED:4};return a}(),ud=function(a,b,c,d){var e=function(a){var e=a||{};b.call(this,e),this.animation=e.animation,this.done=e.done,this.id=d.newGuid(),this._state=c.FINISHED};return a.extend2(e,b),e.prototype.start=function(){if(this._state==c.FINISHED){this._state=c.RUNNING;var a=this;this.animation.start(function(){a._done()})}},e.prototype.reStart=function(){if(this._state==c.RUNNING){this._state=c.RUNNING;var a=this;this.animation.reStart(function(){a._done()})}},e.prototype._done=function(){this.stopCallback()},e.prototype.pause=function(){this._state==c.RUNNING&&(this._state=c.PAUSED,this.animation.pause())},e.prototype.resume=function(){this._state==c.PAUSED&&(this._state=c.RUNNING,this.animation.resume())},e.prototype.stopCallback=function(){this._state!=c.FINISHED&&(this._state=c.FINISHED,this.done(this.id))},e.prototype.stop=function(){this._state!=c.FINISHED&&(this._state=c.FINISHED,this.animation.loop=!1,this.animation.stop())},e.prototype.state=function(){return this._state},e.prototype._step=function(a){this._state==c.RUNNING&&this.animation._step(a)},e}(b,sd,td,d),vd=function(){var a=function(){};return a.prototype.start=function(){},a.prototype.pause=function(){},a.prototype.resume=function(){},a.prototype.stop=function(){},a.prototype._step=function(){},a}(),wd=function(a,b){var c=function(a){var c=a||{};b.call(this,c),this.layer=c.layer,this.running=!1,this.pasued=!1,this.gap=c.gap||0,this.count=c.count||0,this.loop=c.loop,this.done=null,this.canDelete=!1};return a.extend2(c,b),c.prototype.start=function(a){this.running||(this.running=!0,this.index=0,this.gapCount=0,this.done=a,this.doStart())},c.prototype.reStart=function(a){this.running&&(this.index=0,this.gapCount=0,this.done=a)},c.prototype.pause=function(){this.running&&!this.pasued&&(this.pasued=!0)},c.prototype.resume=function(){this.pasued&&(this.pasued=!1)},c.prototype.stop=function(){this.running&&(0==this.loop?(this.running=!1,this.doStop(),this.canDelete=!0,this.done()):this.reStart(this.done))},c.prototype._step=function(a){this.running&&!this.pasued&&(this.gapCount+=a,this.gapCount>=this.gap&&(this.gapCount=0,this.index>this.count?this.stop():this.doUpdate(this.index++,this.count)))},c.prototype.doStart=function(){},c.prototype.doUpdate=function(){},c.prototype.doStop=function(){},c}(b,vd),xd=function(){var a={normal:function(a){return a},easeIn:function(a){return a*a*a},easeOut:function(a){return 1-a*a*a},inAndOut:function(a){return a*a*(3-2*a)}};return a}(),yd=function(a,b,c,d){var e=function(a){var c=a||{};b.call(this,c),this.symbol=c.symbol,this.point=c.point,this.effect=c.effect||"normal",this.count=c.count,this._type=c.type};return a.extend2(e,b),e.prototype.doStart=function(){this.count*=2,1==this._type&&(this.count*=2,this.gap/=4),this.trackElement=new d({geometry:this.point,symbol:this.symbol}),this.layer.add(this.trackElement)},e.prototype.doUpdate=function(a,b){switch(this._type){case 1:this.updateSMS(a,b);break;case 2:this.updatePMS(a,b)}},e.prototype.updateSMS=function(a){var b=c[this.effect],d=a%4/4,e=b(d);this.symbol.fillColor.a=255*e,this.layer.update(this.trackElement,!0)},e.prototype.updatePMS=function(){var a=this.symbol.opacity;a=255===a?0:255,this.symbol.opacity=a,this.layer.update(this.trackElement,!0)},e.prototype.doStop=function(){null!=this.trackElement&&(this.layer.remove(this.trackElement),delete this.trackElement)},e}(b,wd,xd,fc),zd=function(a,b,c,d){var e=function(a){var c=a||{};b.call(this,c),this.symbol=c.symbol,this.point=c.point,this.life=c.life,this.radius=c.radius,this.size=c.size,this.effect=c.effect||"normal",this._updateFill=c.updateFill};return a.extend2(e,b),e.prototype.doStart=function(){this.count=Math.floor(this.life/this.gap),this.startRadius=this.radius/this.count,this.changeRadius=this.radius-this.startRadius,this.easingFunc=c[this.effect],this.trackElement=new d({geometry:this.point,symbol:this.symbol}),this.layer.add(this.trackElement)},e.prototype.doUpdate=function(a,b){var c=a/b,d=this.easingFunc(c),e=255*(1-d);this.symbol.borderColor.a=e,this.symbol.size=this.startRadius+this.changeRadius*d,this.symbol.with=this.size*d,this._updateFill===!0&&(this.symbol.fillColor.a=e),this.trackElement.symbol=this.symbol,this.layer.update(this.trackElement,!0)},e.prototype.doStop=function(){void 0!==this.trackElement&&(this.layer.remove(this.trackElement),delete this.trackElement,delete this.easingFunc,delete this.startRadius,delete this.changeRadius)},e}(b,wd,xd,fc),Ad=function(a,b,c,d,e){var f=new c({}),g=function(a){var c=a||{};b.call(this,c),this.symbol=c.symbol,this.line=c.line,this.speed=c.speed,this.skip=c.skip||1,this._updateStyle=c.updateStyle};return a.extend2(g,b),g.prototype.doStart=function(){this.init(),this.trackElement=new d({geometry:this.line3857.getPoint(0),symbol:this.symbol}),this.layer.add(this.trackElement)},g.prototype.init=function(){this.inverse=!1,this.srid=this.line.spatialReference,this.normalize(),this.line3857=f.transform(this.line,3857);var a=this.line3857.length();this.count=Math.floor(a/this.skip)+1;var b=a/this.speed*3600;this.gap=b/this.count},g.prototype.normalize=function(){var a=this.line.startPoint(),b=this.line.endPoint();if(a.equals(b)){for(var c=new e,d=this.line.getPointCount(),f=0;d>f;f++)c.addPoint(this.line.getPoint(f));c.area()>0&&(this.inverse=!0)}},g.prototype.doUpdate=function(a,b){var c=this.line3857.getPartPoint(a*this.skip);if(c.spatialReference=3857,this.trackElement.geometry=f.transform(c,this.srid),this._updateStyle){var d=b>a+1?a+1:b,e=this.line3857.getPartPoint(d*this.skip),g=this.angle(c,e);this.trackElement.symbol.rotation=g,this.layer.update(this.trackElement,!0)}this.layer.update(this.trackElement,!1)},g.prototype.angle=function(a,b){var c=b.x-a.x,d=b.y-a.y,e=Math.atan2(d,c);return this.inverse?180*e/Math.PI:180*-e/Math.PI},g.prototype.doStop=function(){void 0!==this.trackElement&&(this.layer.remove(this.trackElement),delete this.trackElement,delete this.line3857,delete this.srid)},g}(b,wd,jd,fc,C),Bd=function(a,b,c,d,e,f,g,h){function i(a,b,c,d,e,g,h){var i=o(d,e,e,1);return q(new f({loop:h,point:a,symbol:i,gap:b,count:c,effect:g,type:1}))}function j(a,b,c,d,e){var g=p(d);return q(new f({loop:e,point:a,symbol:g,gap:b,count:c,type:2}))}function k(a,b,c,d,e,f,h,i){var j=e.copy();j.a=0;var k=o(0,j,e,0);return q(new g({loop:i,point:a,symbol:k,life:b,gap:c,radius:d,size:f,effect:h,updateFill:!1}))}function l(a,b,c,d,e,f,h,i,j){var k=o(0,f,e,0);return q(new g({loop:j,point:a,symbol:k,life:b,gap:c,radius:d,size:h,effect:i,updateFill:!0}))}function m(a,b,c,d,e,f){var g=o(c,b,b,1);return q(new h({loop:f,symbol:g,line:a,speed:d,skip:e,updateStyle:!1}))}function n(a,b,c,d,e){var f=p(b);return q(new h({loop:e,symbol:f,line:a,speed:c,skip:d,updateStyle:!0}))}function o(a,b,d,e){return new c({size:a,fillColor:b,borderColor:null!=d?d:b,"with":null!=e?e:1,style:"circle"})}function p(a){return new d({offsetX:16,offsetY:16,width:32,height:32,rotation:0,opacity:1,source:a})}function q(a){var a=new e({animation:a});return a}var r=function(a){var c=a||{};b.call(this,c)};return a.extend2(r,b),r.prototype.newAnimation=function(a){switch(a.animationType){case 1:return i(a.geometry,a.gap,a.count,a.size,a.color,a.effect,a.loop);case 2:return j(a.geometry,a.gap,a.count,a.img,a.loop);case 3:return k(a.geometry,a.life,a.gap,a.radius,a.color,a.size,a.effect,a.loop);case 4:return l(a.geometry,a.life,a.gap,a.radius,a.color,a.fillColor,a.size,a.effect,a.loop);case 5:return m(a.geometry,a.color,a.size,a.speed,a.skip,a.loop);case 6:return n(a.geometry,a.img,a.speed,a.skip,a.loop)}},r}(b,rd,hb,ib,ud,yd,zd,Ad),Cd=function(a,b,c,d,e){var f,g=function(a){var g=a||{};b.call(this,g),c.call(this.opts),this.running=!1,this.layer=g.layer,this.storage=new d,this.creator=new e,this.events={},this.events.onRunning=[],this.events.onPaused=[],this.events.onFinished=[],f=this};return a.extend2(g,b),a.extend2(g,c),g.prototype.enable=function(){if(!this.running){this.running=!0,this._time=(new Date).getTime();var a=this;this._animationId=requestAnimationFrame(function b(){if(a.running){var c=(new Date).getTime();a.storage.removeFinished(),a._update(c-a._time),a._time=c,a._animationId=requestAnimationFrame(b)}})}},g.prototype.disable=function(){this.running&&(this.running=!1,cancelRequestAnimationFrame(this._animationId),this.storage.forEach(function(a){a.stop()}),this.storage=new d)},g.prototype.play=function(a){var b=this.creator.newAnimation(a);return b?(this._add(b),b.start(),b.id):void 0},g.prototype.pause=function(a){var b=this.storage.find(a);b&&(b.pause(),this.events.onPaused.forEach(function(a){a(b.id)}))},g.prototype.resume=function(a){var b=this.storage.find(a);b&&(b.resume(),this.events.onRunning.forEach(function(a){a(b.id)}))},g.prototype.stop=function(a){var b=this.storage.find(a);b&&(b.stop(),this._done(b.id))},g.prototype._done=function(a){f.events.onFinished.forEach(function(b){b(a)})},g.prototype.on=function(a,b){this.events[a].push(b)},g.prototype.un=function(a,b){for(var c=-1,d=0;d<this.events[a].length;d++){var e=this.events[a][d];if(e===b){c=d;break}}-1!=c&&this.events[a].splice(c,1)},g.prototype._add=function(a){a.animation.layer=this.layer,a.done=this._done,this.storage.add(a)},g.prototype._update=function(a){this.storage.forEach(function(b){b._step(a)})},g}(b,od,pd,qd,Bd),Dd=function(){var a=function(a){var b=a||{};this.geometry=b.geometry,this.loop=b.loop};return a}(),Ed=function(a,b){var c=function(a){var c=a||{};b.call(this,c),this.count=c.count,this.gap=c.gap};return a.extend2(c,b),c}(b,Dd),Fd=function(a,b){var c=function(a){var c=a||{};b.call(this,c),this.color=c.color,this.size=c.size,this.effect=c.effect,this.animationType=1};return a.extend2(c,b),c}(b,Ed),Gd=function(a,b){var c=function(a){var c=a||{};b.call(this,c),this.img=c.img,this.animationType=2};return a.extend2(c,b),c}(b,Ed),Hd=function(a,b){var c=function(a){var c=a||{};b.call(this,c),this.life=c.life,this.gap=c.gap,this.radius=c.radius,this.effect=c.effect};return a.extend2(c,b),c}(b,Dd),Id=function(a,b){var c=function(a){var c=a||{};b.call(this,c),this.color=c.color,this.size=c.size,this.animationType=3};return a.extend2(c,b),c}(b,Hd),Jd=function(a,b){var c=function(a){var c=a||{};b.call(this,c),this.color=c.color,this.size=c.size,this.fillColor=c.fillColor,this.animationType=4};return a.extend2(c,b),c}(b,Hd),Kd=function(a,b){var c=function(a){var c=a||{};b.call(this,c),this.speed=c.speed,this.skip=c.skip};return a.extend2(c,b),c}(b,Dd),Ld=function(a,b){var c=function(a){var c=a||{};b.call(this,c),this.color=c.color,this.size=c.size,this.animationType=5};return a.extend2(c,b),c}(b,Kd),Md=function(a,b){var c=function(a){var c=a||{};b.call(this,c),this.img=c.img,this.animationType=6};return a.extend2(c,b),c}(b,Kd),Nd=function(){var a=function(){};return a.prototype.onCreate=function(){},a.prototype.onClick=function(){},a.prototype.isEnabled=function(){},a.prototype.isChecked=function(){},a}(),Od=function(a,b){var c=function(a){var c=a||{};b.call(this,c)};return a.extend2(c,b),c.prototype.onMouseDown=function(){},c.prototype.onMouseUp=function(){},c.prototype.onMouseMove=function(){},c.prototype.onMouseClick=function(){},c.prototype.onDblclick=function(){},c.prototype.onKeyDown=function(){},c.prototype.onKeyUp=function(){},c.prototype.onClick=function(){},c.prototype.deactivate=function(){},c}(b,Nd),Pd=function(){var a=function(){this.commands={}};return a.prototype.add=function(a){!!a&&!!a.id&&(this.commands[a.id]=a)},a.prototype.getCount=function(){return this.commands.length},a.prototype.getCommand=function(a){return this.commands[a]},a.prototype.getCommands=function(){return this.commands},a.prototype.remove=function(a){this.commands[a]=void 0,this.commands.removeProperty(a)},a.prototype.onCreate=function(a){for(var b in this.commands){var c=this.commands[b];c.onCreate(a)}},a}(),Qd=function(){var a=function(a){var b=a||{};this.manager=b.manager};return a.prototype.activeCommand=function(a,b){var c=this.manager.getCommand(a);!c||c.onClick(b)},a.prototype.notify=function(){var a=this.manager.getCommands();for(var b in a)Ng=a[b],Ng.isChecked(),Ng.isEnabled()},a}(),Rd=function(){var a=function(a){var b=a||{};this.minCpt=b.minCpt||0,this.maxCpt=b.maxCpt||0,this.ctps=[],this._plotElement=null,this._inilization()};return a.prototype._inilization=function(){},a.prototype.getGraphParts=function(){},a.prototype.createGeometries=function(){},a.prototype.getType=function(){return"plotalgorithm"},a}(),Sd=function(a,b){var c,d,e,f,g,h,i,j,k,l,m=[1,1,2,6,24,120,720,5040,40320,362880,3628800,39916800,479001600,6227020800,87178291200,1307674368e3,20922789888e3,355687428096e3,6402373705728e3,0x1b02b9306890000,243290200817664e4],n=(Math.Atan,Math.abs,[]),o=200,p=[],q=[],r=[],s=[],t=[],u=[],v=[],w=[],x=[],y=[],z=[],A=function(){var A=function(b,c,d){return new a({x:b.x+(c.x-b.x)*d,y:b.y+(c.y-b.y)*d})},B=function(b,c){return null!=b&&null!=c?new a({x:(b.x+c.x)/2,y:(b.y+c.y)/2}):null},C=function(a,b,c){var d=0,e=b.y-a.y,f=a.x-b.x,g=(b.x-a.x)*a.y-(b.y-a.y)*a.x;return d=Math.abs(e*c.x+f*c.y+g)/Math.sqrt(e*e+f*f)},D=function(a,b){var c;return c=b.x===a.x?b.y>=a.y?-Math.PI/2:Math.PI/2:Math.atan2(a.y-b.y,b.x-a.x),0>c&&(c+=2*Math.PI),180*c/Math.PI},E=function(a,c,d){var e=new b;e.addPoint(a),e.addPoint(c);for(var f=ab(d,c),g=B(d,c),h=R(d,c),i=h/2,j=f;f+180>j;j++)e.addPoint(bb(g,j,i));return e},F=function(b,c,d,e,f,g){var h=g||90,i=0,j=0,k=D(b,c)+h;k>360&&(k-=360);var l=f?1:-1;
return i=d.x+l*e*Math.cos(k*Math.PI/180),j=d.y-l*e*Math.sin(k*Math.PI/180),new a({x:i,y:j})},G=function(a,b,e){return n=a,c=b,H(),e=p,d},H=function(){I(n,c),d=L(),p=[],xx=[],yy=[];var b=0;O(xx,yy,b);for(var e=0;d>e;e++){p[e]=[],p[e].x=xx[e],p[e].y=yy[e];{new a({x:p[e].x,y:p[e].y})}}},I=function(a,b){null!=q&&(q=null),null!=r&&(r=null),null!=s&&(s=null),null!=t&&(t=null),null!=u&&(u=null),null!=v&&(v=null),null!=w&&(w=null),null!=x&&(x=null);for(var c=0;3>c;c++)null!=z[c]&&(z[c]=null);null!=y&&(y=null),e=b,q=[],r=[],s=[],t=[],u=[],v=[],w=[],x=[],y=[],z=[[],[],[]];for(var c=0;e>c;c++)q[c]=a[c].x,r[c]=a[c].y;J()},J=function(){for(var a,b,c=0;e-2>=c;c++)s[c]=q[c+1]-q[c],t[c]=r[c+1]-r[c];b=parseFloat(Math.sqrt(s[0]*s[0]+t[0]*t[0]));for(var c=0;e-3>=c;c++)a=parseFloat(Math.sqrt(s[c+1]*s[c+1]+t[c+1]*t[c+1])),y[c]=b/a,b=a;y[e-2]=1;for(var c=1;e-2>=c;c++)z[0][c]=1,z[1][c]=2*y[c-1]*(1+y[c-1]),z[2][c]=y[c-1]*y[c-1]*y[c];z[1][0]=2,z[2][0]=y[0],z[0][e-1]=1,z[1][e-1]=2*y[e-2];for(var c=1;e-2>=c;c++)u[c]=3*(s[c-1]+y[c-1]*y[c-1]*s[c]),v[c]=3*(t[c-1]+y[c-1]*y[c-1]*t[c]);u[0]=3*s[0],v[0]=3*t[0],u[e-1]=3*s[e-2],v[e-1]=3*t[e-2],K(u),K(v);for(var c=0;e-2>=c;c++)w[c]=y[c]*u[c+1],x[c]=y[c]*v[c+1]},K=function(a){for(var b=[],c=[],d=0;e-1>=d;d++)b[d]=a[d]/z[1][d],c[d]=b[d];for(var f=0;10>f;f++){b[0]=(a[0]-z[2][0]*c[1])/z[1][0];for(var d=1;e-1>d;d++)b[d]=(a[d]-z[0][d]*c[d-1]-z[2][d]*c[d+1])/z[1][d];b[e-1]=(a[e-1]-z[0][e-1]*c[e-2])/z[1][e-1];for(var d=0;e-1>=d;d++)c[d]=b[d]}for(var d=0;e-1>=d;d++)a[d]=b[d]},L=function(){for(var a=0,b=0;e-1>b;b++)N(s[b],t[b],u[b],v[b],w[b],x[b]),a+=P();return a},M=function(a,b,c,d,e){var m,n,o,p,q,r;0==l&&(l=1),m=a,n=b,c[e]=a,d[e]=b,e++;for(var s=1;l>=s;s++)o=1/parseFloat(l*parseFloat(s)),p=o*o*(3-2*o),q=o*(o-1)*(o-1),r=o*o*(o-1),m=a+f*p+h*q+j*r,n=b+g*p+i*q+k*r,c[e]=m,d[e]=n,e++},N=function(a,b,c,d,e,m){f=a,g=b,h=c,i=d,j=e,k=m,l=parseInt(Math.max(Math.abs(f),Math.abs(g)/1e-5)),l>o&&(l=o)},O=function(a,b,c){for(var d=0;e-1>d;d++)N(s[d],t[d],u[d],v[d],w[d],x[d]),M(q[d],r[d],a,b,c)},P=function(){0==l&&(l=1);for(var a=1,b=1;l>=b;b++)a++;return a},Q=function(a,b,c){var d=b.y-a.y,e=a.x-b.x,f=a.y*(b.x-a.x)-a.x*(b.y-a.y),g=d*c.x+e*c.y+f;return g>0},R=function(a,b){return Math.sqrt(Math.pow(a.x-b.x,2)+Math.pow(a.y-b.y,2))},S=function(a,b){if(Math.abs(a.x-b.x)<Math.pow(10,-12))return 0;if(a.y===b.y)return 0;var c=Math.atan2(a.x-b.x,a.y-b.y);return 0>c&&(c+=2*Math.PI),c},T=function(a,b,c,d,e,f,g){var h=R(a,b),i=c/h;e.x=a.x*(1-i)+b.x*i,e.y=a.y*(1-i)+b.y*i;var j=S(b,a),k=g?1:-1;f.x=e.x-k*d*Math.cos(j),f.y=e.y+k*d*Math.sin(j)},U=function(a,b,c,d,e,f,g){var h=b-e*a;f=2*(c+e*d-e*h)/(e*e+1)-c,g=2*(e*c+e*e*d+h)/(e*e+1)-d},V=function(a){for(var b=0,c=0,d=a.length-1;d>c;c++)b+=R(a[c],a[c+1]);return b},W=function(a){return X(a)},X=function(a){if(a.length<=1)return 0;for(var b=0,c=0;c<a.length-1;c++)b+=R(a[c],a[c+1]);return b},Y=function(b,c,d,e){var f,g,h=0,i=b.length,j=c*d,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0;for(pti=[],pti0=[],f=1;i>f;f++)if(v=R(b[f],b[f-1]),k+=v,k>j){pti=b[f],l=k-v-j,pti0=b[f-1],h=f-1,q=pti0.x,r=pti0.y,s=pti.x,t=pti.y,m=(r-t)/(q-s),n=l/Math.sqrt(1+m*m),o=q+n,p=r+n*m,g=new a({x:o,y:p}),u=l+R(b[f-1],g);break}return e=e?-1:h,[g,e]},Z=function(b,c,d,e){var f,g,h=0,i=b.length,j=c*d,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0;for(pti=[],pti0=[],f=1;i>f;f++)if(v=R(b[f],b[f-1]),k+=v,k>j){pti=b[f],l=k-v-j,pti0=b[f-1],pti.x>pti0.x&&(l=0-l),h=f-1,q=pti0.x,r=pti0.y,s=pti.x,t=pti.y,m=(r-t)/(q-s),n=l/Math.sqrt(1+m*m),o=q+n,p=r+n*m,g=new a({x:o,y:p}),u=l+R(b[f-1],g);break}return e=e?-1:h,[g,e]},$=function(b,c){var d,e,f,g=[],h=[],i=[],j=[],k=[],l=[],m=[],n=[],o=[],p=[[],[],[]],c=c||b.length;for(d=0;c>d;d++)g[d]=b[d].x,h[d]=b[d].y;for(d=0;c-1>d;d++)i[d]=g[d+1]-g[d],j[d]=h[d+1]-h[d];for(e=Math.sqrt(i[0]*i[0]+j[0]*j[0]),d=0;c-2>d;d++)f=Math.sqrt(i[d+1]*i[d+1]+j[d+1]*j[d+1]),o[d]=e/f,e=f;for(o[c-2]=1,d=1;c-1>d;d++)p[0][d]=1,p[1][d]=2*o[d-1]*(1+o[d-1]),p[2][d]=o[d-1]*o[d-1]*o[d];for(p[1][0]=2,p[2][0]=o[0],p[0][c-1]=1,p[1][c-1]=2*o[c-2],d=1;c-1>d;d++)k[d]=3*(i[d-1]+o[d-1]*o[d-1]*i[d]),l[d]=3*(j[d-1]+o[d-1]*o[d-1]*j[d]);for(k[0]=3*i[0],l[0]=3*j[0],k[c-1]=3*i[c-2],l[c-1]=3*j[c-2],K(k,p),K(l,p),d=0;c-1>d;d++)m[d]=o[d]*k[d+1],n[d]=o[d]*l[d+1];for(var q,r,s,t,u,v,w=0,x=[],y=[],d=0;c-1>d;d++){v=parseInt(Math.max(Math.abs(i[d]),Math.abs(j[d]))),q=v>200?200:v+100,x[w]=g[d],y[w]=h[d],w++;for(var z=1;q>=z;z++)r=z/q,s=r*r*(3-2*r),t=r*(r-1)*(r-1),u=r*r*(r-1),x[w]=g[d]+i[d]*s+k[d]*t+m[d]*u,y[w]=h[d]+j[d]*s+l[d]*t+n[d]*u,w++}for(var A=[],d=0;d<x.length;d++)A[d]=new a({x:x[d],y:y[d]});return A},K=function(a,b,c){for(var c=c||a.length,d=[],e=[],f=0;c>f;f++)e[f]=d[f]=a[f]/b[1][f];for(var g=0;10>g;g++){d[0]=(a[0]-b[2][0]*e[1])/b[1][0];for(var f=1;c-1>f;f++)d[f]=(a[f]-b[0][f]*e[f-1]-b[2][f]*e[f+1])/b[1][f];d[c-1]=(a[c-1]-b[0][c-1]*e[c-2])/b[1][c-1];for(var f=0;c>f;f++)e[f]=d[f]}for(var f=0;c>f;f++)a[f]=d[f]},_=function(a){var b=m[a];if(!b){b=1;for(var c=1;a>=c;c++)b*=c;return m[a]=b,b}return b},ab=function(a,b){var c=b.x-a.x,d=b.y-a.y;return 0==c?d>0?90:-90:180*Math.atan2(d,c)/3.141592653589793},bb=function(b,c,d){var e=d*Math.cos(.017453292519943295*c),f=d*Math.sin(.017453292519943295*c);return new a({x:b.x+e,y:b.y+f})},cb=function(b,c,d,e,f,g){for(var h=[],i=0;5>i;i++)h[i]=new a;e/=2,f/=2,g/=2;var j=Math.atan2(c.y-b.y,c.x-b.x),k=Math.cos(e);sin_VentroAngle=Math.sin(e),cos_RearAngle=Math.cos(f),sin_RearAngle=Math.sin(f),cos_direction=Math.cos(j),sin_direction=Math.sin(j),cos_HollowAngle=Math.cos(g),sin_HollowAngle=Math.sin(g),h[3].x=-d*(k*cos_direction-sin_VentroAngle*sin_direction),h[3].y=-d*(sin_VentroAngle*cos_direction+k*sin_direction),h[1].x=-d*(k*cos_direction+sin_VentroAngle*sin_direction),h[1].y=-d*(sin_direction*k-cos_direction*sin_VentroAngle),h[2].x=0,h[2].y=0;var l=d*(sin_RearAngle*k-cos_RearAngle*sin_VentroAngle)/(sin_RearAngle*cos_HollowAngle-cos_RearAngle*sin_HollowAngle);h[4].x=-l*(cos_HollowAngle*cos_direction-sin_HollowAngle*sin_direction),h[4].y=-l*(sin_HollowAngle*cos_direction+cos_HollowAngle*sin_direction),h[0].x=-l*(cos_direction*cos_HollowAngle+sin_direction*sin_HollowAngle),h[0].y=-l*(sin_direction*cos_HollowAngle-cos_direction*sin_HollowAngle);var m=c.x-(h[0].x+h[4].x)/2;dy=c.y-(h[0].y+h[4].y)/2;for(var i=0;5>i;i++)h[i].x+=m,h[i].y+=dy;m=c.x-h[2].x,dy=c.y-h[2].y;for(var i=0;5>i;i++)h[i].x+=m,h[i].y+=dy;return h},db=function(a,b,c,d,e,f){for(var g=a.length,h=0,i=0,j=b;g-1>h;){if(i=R(a[h],a[h+1]),!(j>i))return T(a[h],a[h+1],j,c,d,e,f);j-=i,h++}return!1},eb=function(a,b,c,d,e,f,g){var h=R(a,b);if(null==e)return!1;var i=c/h;e.x=a.x*(1-i)+b.x*i,e.y=a.y*(1-i)+b.y*i;var j=S(b,a);return g?(f.x=e.x-d*Math.cos(j),f.y=e.y+d*Math.sin(j)):(f.x=e.x+d*Math.cos(j),f.y=e.y-d*Math.sin(j)),!0},fb=function(a,b){return _(a)/(_(b)*_(a-b))},gb=function(b){if(b.length<=2)return b;var c,d,e,f,g=b.length-1,h=[],i=.001;for(e=0;1>=e;e+=i){for(c=0,d=0,f=0;g>=f;f++){var j=fb(g,f),k=Math.pow(e,f),l=Math.pow(1-e,g-f);c+=j*k*l*b[f].x,d+=j*k*l*b[f].y}h.push(new a({x:c,y:d}))}return h.push(b[g]),h},hb=function(a,b,c){var d;for(d=0;b+c>=d;d++)c>d?a[d]=0:d>=c&&b>=d?a[d]=d-c+1:d>b&&(a[d]=b-c+2)},ib=function(a,b,c,d,e,f){var g,h;for(f[0]=0,f[1]=0,g=0;b>=g;g++)h=jb(g,c,a,d),f[0]=f[0]+e[g][0]*h,f[1]=f[1]+e[g][1]*h},jb=function(a,b,c,d){var e;return e=1==b?c[a]<=d&&d<c[a+1]?1:0:c[a+b-1]==c[a]&&c[a+b]==c[a+1]?0:c[a+b-1]==c[a]?(c[a+b]-d)/(c[a+b]-c[a+1])*jb(a+1,b-1,c,d):c[a+b]==c[a+1]?(d-c[a])/(c[a+b-1]-c[a])*jb(a,b-1,c,d):(d-c[a])/(c[a+b-1]-c[a])*jb(a,b-1,c,d)+(c[a+b]-d)/(c[a+b]-c[a+1])*jb(a+1,b-1,c,d)},kb=function(a,b,c){return c=$(a,b)},lb=function(a,b,c){var d=mb(b,a)-mb(b,c);return 0>d&&(d+=2*Math.PI),d},mb=function(a,b){var c=0;if(null==a||null==b)return 0;var d=Math.asin(Math.abs(parseFloat(b.y-a.y))/distance(a,b));return b.y>=a.y&&b.x>=a.x?d+Math.PI:b.y>=a.y&&b.x<a.x?2*Math.PI-d:b.y<a.y&&b.x<a.x?d:(b.y<a.y&&b.x>=a.x&&(c=Math.PI-d),c)},nb=function(b,c){if(b.length<=2)return b;var d=[],e=b.length-c-1;d.push(b[0]);for(var f=0;e>=f;f++)for(var g=0;1>=g;g+=.05){for(var h=0,i=0,j=0;c>=j;j++){var k=ob(j,c,g);null!=b[f+j]&&(h+=k*b[f+j].x,i+=k*b[f+j].y)}d.push(new a({x:h,y:i}))}return d.push(b[b.length-1]),d},ob=function(a,b,c){if(2==b)return pb(a,c);for(var d=0,e=_(b),f=0;b-a>=f;f++){var g=f%2==0?1:-1;d+=g*_(b+1,f)*Math.pow(c+b-a-f,b)}return d/e},pb=function(a,b){return 0==a?Math.pow(b-1,2)/2:1==a?(-2*Math.pow(b,2)+2*b+1)/2:2==a?Math.pow(b,2)/2:0},qb=function(a,b,c,d){var e=W(a)*b,f=[],g=sb(a[1],a[0],4.71238898038469,e,"right"),h=sb(a[1],a[0],4.71238898038469,e,"left");if(c){var i=e*d,j=sb(a[1],a[0],0,i,"left");return f.push(g),f.push(j),f.push(h),f}return f.push(g),f.push(h),f},rb=function(a,b,c,d,e,f){for(var g=X(a),h=W(a)*d,i=R(b,c),j=h-i/2,k=0,l=[],m=[],n=1;n<a.length-1;n++){var o=lb(a[n-1],a[n],a[n+1])/2;k+=R(a[n-1],a[n]);var p=(h-k/g*j)/Math.sin(o);l.push(sb(a[n-1],a[n],o,p*e,"right")),m.push(sb(a[n-1],a[n],3.141592653589793-o,p*f,"left"))}for(var q=0;q<m.length;q++)l.push(m[q]);return l},sb=function(b,c,d,e,f){var g=mb(b,c),h=0;h="left"==f?g+d:g-d;var i=e*Math.cos(h),j=e*Math.sin(h);return null==c?null:new a({x:c.x+i,y:c.y+j})},tb=function(a,b,c,d,e){var f=W(a)*b,g=f*c,h=f*e,i=a.length,j=a[i-1],k=R(j,a[i-2]);f=f>k?k:f;var l=f*d,m=sb(a[i-2],j,0,f,"left"),n=sb(a[i-2],j,0,l,"left"),o=sb(j,m,4.71238898038469,g,"right"),p=sb(j,n,4.71238898038469,h,"right"),q=sb(j,m,4.71238898038469,g,"left"),r=sb(j,n,4.71238898038469,h,"left"),s=[];return s.push(p),s.push(o),s.push(j),s.push(q),s.push(r),s},ub=function(a,b,c,d,e,f,g,h,i){for(var j=[],k=0;k<a.length;k++)j.push(a[k]);for(var l=tb(j,e,f,g,h),m=l[0],n=l[4],o=rb(j,m,n,i,1,1),p=qb(j,i,b,c),q=p[0],r=3==p.length?p[1]:null,s=3==p.length?p[2]:p[1],t=o.length,u=[],v=[],k=0;t/2>k;k++)u[k]=o[k];for(var k=t/2;t>k;k++)v[k-t/2]=o[k];u.push(m),v.push(n),u.reverse(),u.push(q),v.reverse(),v.push(s),"useBezierFit"==d?(u=gb(u),v=gb(v)):(u=nb(u,2),v=nb(v,2)),null!=r&&(u.push(r),v.push(r)),u.reverse();for(var k=0;k<l.length;k++)u.push(l[k]);for(var k=0;k<v.length;k++)u.push(v[k]);return u},vb=function(a,b,c,d){return null==a||null==b?!1:(d.x=a.x*(1-c)+b.x*c,d.y=a.y*(1-c)+b.y*c,d)},wb=function(a,b,c){var d=(b.y-a.y)*(c.x-a.x)-(c.y-a.y)*(b.x-a.x);return d>0?"left":0>d?"right":null},xb=function(a,b,c){var d=c.x-a.x,e=c.y-a.y,f=Math.sqrt(d*d+e*e);if(d=b.x-a.x,e=b.y-a.y,0===d&&0===e)return null;var g=Math.sqrt(d*d+e*e);d=b.x-c.x,e=b.y-c.y;var h,i=Math.sqrt(d*d+e*e),j=c.x*a.y+a.x*b.y+b.x*c.y-(b.x*a.y+c.x*b.y+a.x*c.y),k=(g*g+f*f-i*i)/(2*g*f);h=0>j?2*Math.PI-Math.acos(k):Math.acos(k);var l=Math.sin(h);return{sin:l,cos:k}},yb=function(a,b,c){if(3857==c){var d=0,e=a.x-b.x,f=a.y-b.y;d=Math.pow(e*e+f*f,.5)}else{var g=6378.137,d=0,h=a.y*pi,i=b.y*pi,j=h-i,k=(a.x-b.x)*pi;d=2*Math.asin(Math.sqrt(Math.pow(Math.sin(j/2),2)+Math.cos(h)*Math.cos(i)*Math.pow(Math.sin(k/2),2))),d=d*g*1e3}return d},zb=function(a,b,c){return b.y=a.y,b.x=a.x-c,b},Ab=function(a,b){var c=Math.abs(a.x-b.x),d=Math.abs(a.y-b.y);return[c,d]},Bb=function(a,b,c){return b.x=a.x+c,b},Cb=function(a,b,c){return b.y=a.y-c,b},Db=function(a,b,c){var d=R(a,b),e=C(a,b,c);return[d,e]},Eb=function(){},Fb=function(a,b,c){return b.y=a.y-c,b},Gb=function(a,b,c){var d=Math.abs(a.x-b.x),e=360-180/Math.PI*getAngleOfThreePoints(b,a,c);return[d,e]},Hb=function(){},Ib=function(){};return{calculationCircleR:yb,circleRadiusChange:zb,calculationElipseLengthWide:Ab,calculationElipseLength:Bb,calculationElipseWide:Cb,calculationRecLengthWide:Db,calculationRecLength:Eb,calculationRecWide:Fb,calculationSectorRadiusAngle:Gb,calculationSectorRadius:Hb,calculationSectorAngle:Ib,getDistance:C,scalePoint:A,vertex:F,angle:D,optionWay:Q,distance:R,azimuth:S,linePerpenPoints:T,pathLength:V,bzLine:gb,bTypeline:$,gainPt:Y,gainPt1:Z,baseLength:W,wholeDistance:X,midPoint:B,polarAngle360:ab,getPolarPointOfCenterPoint:bb,calInterPoints:kb,computePoint:ib,blend:jb,computeIntervals:hb,getRotateAngle:xb,getMapPoints:E,getAngleOfThreePoints:lb,getAzimuthAngle:mb,getSide:wb,calHollowArraowhead:cb,calPathPerpenPoints:db,calLinePerpenPoints:eb,getCount:P,getCurveLine:O,putCurve:N,getCurve:M,getCurveCount:L,matrixSolve:K,generate:J,setPline:I,calInterPoints:kb,setBline:H,interPoints:G,leftpoint:U,getBSplinePoints:nb,getBSplineFFactor:ob,getQuadricBSplineFactor:pb,getArrowTailPoints:qb,getArrowBodyPoints:rb,getThirdPoint:sb,getArrowHeadPoints:tb,getArrowPlot:ub,calLinePerpenPoint:vb}},B=new A;return B}(v,B),Td=function(a,b,c,d,e,f,g,h){{var i=a.extend2,j=(a.deepCopy,c.scalePoint),k=(c.pathLength,c.vertex);c.angle}distance=c.distance;var l=function(a){this.$type="BeelineArrowAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:2};b.call(this,a),this.p1=null,this.p2=null};return i(l,b),l.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}return 2===e?(this.p1=c[0],this.p2=c[1],this.getGraphParts(1)):void 0},l.prototype.getGraphParts=function(a){var b=distance(this.p1,this.p2),c=b*a,e=j(this.p1,this.p2,.96),i=j(this.p1,this.p2,.94),l=this.p1,m=e,n=k(i,this.p1,i,c/55,!1),o=k(i,this.p1,i,c/55,!0),p=this.p2,q=new f,r=[m,n,p,o,m.copy()];q.points.length>0?q.points=r:q.addPoint(r);var s=new g;s.addGeometry(q);var t=new d;t.addPoint(l),t.addPoint(m);var u=new h;return u.addGeometry(t),[u,s]},l.prototype.getType=function(){return"beelinearrow"},l}(b,Rd,Sd,B,v,C,F,E),Ud=function(a,b,c,d,e,f){var g=b.extend2,h=(b.deepCopy,d.scalePoint),i=(d.pathLength,d.vertex),j=d.distance,k=(d.angle,function(){this.$type="SlightnessArrowAlgorithm,http://www.Gs.com";var b={minCpt:2,maxCpt:2};a.call(this,b),this._inilization()});return g(k,a),k.prototype._inilization=function(){this.p1=null,this.p2=null},k.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),d=c.length;return 1===d?(this.p1=c[0],this.p2=b,this.getGraphParts(1)):2===d?(this.p1=c[0],this.p2=c[1],this.getGraphParts(1)):void 0},k.prototype.getGraphParts=function(a){var b=j(this.p1,this.p2),c=b*a,d=h(this.p1,this.p2,.83),g=h(this.p1,this.p2,.9),k=i(this.p1,this.p2,this.p1,c/8,!0),l=i(this.p1,this.p2,this.p1,c/8,!1),m=i(this.p1,this.p2,d,c/15,!0),n=i(this.p1,this.p2,d,c/15,!1),o=i(this.p1,this.p2,g,c/65,!0),p=i(this.p1,this.p2,g,c/65,!1),q=this.p2,r=[k,o,m,q,n,p,l,k],s=new e;s.points=r;var t=new f;return t.addGeometry(s),[t]},k.prototype.getType=function(){return"slightnessarrowalgorithm"},k}(Rd,b,B,Sd,C,F),Vd=function(a,b,c,d,e,f,g,h){{var i=a.extend2,j=(a.deepCopy,c.scalePoint,c.optionWay,c.pathLength);c.linePerpenPoints,c.bTypeline}vertex=c.vertex,angle=c.angle,bzLine=c.bzLine,gainPt=c.gainPt,distance=c.distance,calInterPoints=c.calInterPoints,calHollowArraowhead=c.calHollowArraowhead,calPathPerpenPoints=c.calPathPerpenPoints;var k=function(a){this.$type="SimpleArrowAlgorithm,http://www.Gs.com";var a={minCpt:3,maxCpt:3};b.call(this,a),this._inilization()};return i(k,b),k.prototype._inilization=function(){this.m_Ctrlpts=[];for(var a=0;3>a;a++)this.m_Ctrlpts[a]=new e;this.length=0},k.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(this.length=e,1===e){var f=new d,g=new h;return f.addPoint(c[0]),f.addPoint(b),g.addGeometry(f),[g]}if(2===e&&null!=b){for(var i=0;2>i;i++)this.m_Ctrlpts[i].x=c[i].x,this.m_Ctrlpts[i].y=c[i].y;this.m_Ctrlpts[2].x=b.x,this.m_Ctrlpts[2].y=b.y}if(3===e)for(var j=0;3>j;j++)this.m_Ctrlpts[j].x=c[j].x,this.m_Ctrlpts[j].y=c[j].y;return this.getGraphParts(1)},k.prototype.getGraphParts=function(){var a=0,b=[],c=new e,d=new e,h=new e,i=new e,k=new e,l=[],m=[],n=[],o=[],p=[];if(o=this.m_Ctrlpts,o[2].x===o[1].x&&o[2].y===o[1].y&&(o=[],o[0]=this.m_Ctrlpts[0],o[1]=this.m_Ctrlpts[2]),null!=o&&(n=calInterPoints(o,o.length,n),a=j(o),b=calHollowArraowhead(n[parseInt(5*n.length/6)],o[o.length-1],a/5,Math.PI/5,Math.PI/2,Math.PI/10),m[0]=b[0],l[0]=b[4],calPathPerpenPoints(o,0,a/5,k,c,!0),calPathPerpenPoints(o,0,a/5,k,d,!1),calPathPerpenPoints(o,4*a/7,a/20,k,h,!0),calPathPerpenPoints(o,4*a/7,a/20,k,i,!1)),m[1]=h,m[2]=c,l[1]=i,l[2]=d,l[0].x===l[1].x&&l[0].y===l[1].y||m[0].x===m[1].x&&m[0].y===m[1].y||l[1].x===l[2].x&&l[1].y===l[2].y||m[1].x===m[2].x&&m[1].y===m[2].y)return null;var q=new f,r=new g;p[0]=[],p[0][0]=c,p[0][1]=h,p[0][2]=h,p[0][3]=m[0],p[1]=[],p[1][0]=l[0],p[1][1]=i,p[1][2]=i,p[1][3]=d;var s=[],t=[],u=null,v=0;s=p[0],t=[],t=bzLine(s),u=t[0],v=t.length;for(var w=0;v>w;w++)q.addPoint(t[w]);v=b.length;for(var w=0;v>w;w++)q.addPoint(b[w]);s=p[1],t=[],t=bzLine(s),v=t.length;for(var w=0;v>w;w++)q.addPoint(t[w]);return q.addPoint(u),r.addGeometry(q),[r]},k.prototype.getType=function(){return"simplearrowalgorithm"},k}(b,Rd,Sd,B,v,C,F,E),Wd=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=a.deepCopy,k=c.scalePoint,l=c.pathLength,m=c.vertex,n=(c.angle,c.bTypeline),o=(c.bzLine,c.gainPt),p=(c.distance,function(a){this.$type="CurveArrowAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:10};b.call(this,a);this.p1=null,this.p2=null});return i(p,b),p.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=n(i),this.getGraphParts(1)},p.prototype.getGraphParts=function(a){var b,c,e,i,n,p,q=[],r=[],s=l(bzPoints),t=s*a*4/210;q=o(bzPoints,s,12.7/13,b)[0],r=o(bzPoints,s,.96555,c)[0];var u=j(bzPoints[bzPoints.length-1]);r=k(q,u,2.5),e=m(u,q,q,t,!0),i=m(u,q,q,t,!1),n=r,p=u;var v=[e,n,i,p,e],w=new f;w.points.length>0?w.points=v:w.addPoint(v);var x=new g;x.addGeometry(w);for(var y=new h,z=new d,A=bzPoints.length,B=0;A-1>=B;B++)z.addPoint(bzPoints[B]);return y.addGeometry(z),[x,y]},p.prototype.getType=function(){return"curvearrowalgorithm"},p}(b,Rd,Sd,B,v,C,F,E),Xd=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint,c.optionWay),k=c.pathLength,l=c.linePerpenPoints,m=c.bTypeline;vertex=c.vertex,angle=c.angle,bzLine=c.bzLine,gainPt=c.gainPt,distance=c.distance;var n=function(a){this.$type="DoubleArrowAlgorithm,http://www.Gs.com";var a={minCpt:3,maxCpt:4};b.call(this,a),this._inilization()};return i(n,b),n.prototype._inilization=function(){this.m_pWay=!1,this.m_CtrlPts=[],this.pts=null,this.ctrlpts=[],this.cpts=[],this.pv=[],this.pv2=[],this.lpnt=[],this.cpnt=[],this.rpnt=[]},n.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),f=c.length;if(1===f){this.m_CtrlPts[0]=c[0],this.m_CtrlPts[1]=b;var g=new d,i=new h;return g.addPoint(this.m_CtrlPts[0]),g.addPoint(this.m_CtrlPts[1]),i.addGeometry(g),[i]}if(2===f){if(this.m_CtrlPts[0]=c[0],this.m_CtrlPts[1]=c[1],c[1].x==b.x&&c[1].y==b.y){var j=new e({x:b.x+1e-12,y:b.y});this.m_CtrlPts[2]=j}else this.m_CtrlPts[2]=b;var k=-1/((this.m_CtrlPts[1].y-this.m_CtrlPts[0].y)/(this.m_CtrlPts[1].x-this.m_CtrlPts[0].x)),l=new e;l.x=(this.m_CtrlPts[0].x+this.m_CtrlPts[1].x)/2,l.y=(this.m_CtrlPts[0].y+this.m_CtrlPts[1].y)/2,pt1=n.leftPoint(l,this.m_CtrlPts[2],k),this.m_CtrlPts[3]=pt1}else if(3===f)null!=b?(this.m_CtrlPts[0]=c[0],this.m_CtrlPts[1]=c[1],this.m_CtrlPts[2]=c[2],this.m_CtrlPts[3]=b):(this.m_CtrlPts[0]=c[0],this.m_CtrlPts[1]=c[1],this.m_CtrlPts[2]=c[2]);else if(4===f)for(var m=0;f>m;m++)this.m_CtrlPts[m]=c[m];return 4===this.m_CtrlPts.length?this.getGraphParts(1):void 0},n.prototype.getGraphParts=function(){for(var a=new e,b=new e,c=new e,d=new e,h=new e,i=new e,o=new e,p=new e,q=new e,r=0;4>=r;r++)this.pv2[r]=new e;var s=new f,t=new g,u=this.m_CtrlPts;this.m_pWay=j(u[0],u[1],u[2]);var v=distance(u[1],u[2]);if(0!==v&&(l(u[1],u[2],v/2,v/4,a,b,this.m_pWay),l(u[1],u[2],v/2,v/10,a,c,this.m_pWay),v=distance(u[1],b),l(u[1],b,v/3,0,d,a,!0),this.ctrlpts[0]=u[1],this.ctrlpts[1]=c,this.ctrlpts[2]=u[2],v=k(this.ctrlpts),this.pts=m(this.ctrlpts),this.pv=n.helloArrowHead(this.pts[parseInt(5*this.pts.length/6)],u[2],v/4.5,Math.PI/5,Math.PI/2,Math.PI/10),v=distance(u[0],u[3]),l(u[0],u[3],v/2,v/4,a,h,!this.m_pWay),l(u[0],u[3],v/2,v/10,a,i,!this.m_pWay),v=distance(u[0],h),l(u[0],h,v/3,0,o,a,!0),this.ctrlpts[0]=u[0],this.ctrlpts[1]=i,this.ctrlpts[2]=u[3],v=k(this.ctrlpts),this.pts=m(this.ctrlpts),this.pv2=n.helloArrowHead(this.pts[parseInt(5*this.pts.length/6)],u[3],v/4.5,Math.PI/5,Math.PI/2,Math.PI/10),this.m_pWay?(l(this.pv2[2],this.pv2[0],distance(u[2],u[1]),0,p,a,!0),l(this.pv[2],this.pv[4],distance(u[2],u[1]),0,q,a,!0)):(l(this.pv2[2],this.pv2[4],8*distance(this.pv2[2],this.pv2[4]),0,p,a,!0),l(this.pv[2],this.pv[0],8*distance(this.pv[2],this.pv[0]),0,q,a,!0)),4===u.length)){this.m_pWay?(this.cpnt[0]=this.pv[4],this.cpnt[1]=q,this.cpnt[2]=p,this.cpnt[3]=this.pv2[0],this.lpnt[0]=this.pv2[4],this.lpnt[1]=h,this.lpnt[2]=o,this.lpnt[3]=u[0],this.rpnt[0]=u[1],this.rpnt[1]=d,this.rpnt[2]=b,this.rpnt[3]=this.pv[0]):(this.cpnt[0]=this.pv2[4],this.cpnt[1]=p,this.cpnt[2]=q,this.cpnt[3]=this.pv[0],this.rpnt[0]=u[0],this.rpnt[1]=o,this.rpnt[2]=h,this.rpnt[3]=this.pv2[0],this.lpnt[0]=this.pv[4],this.lpnt[1]=b,this.lpnt[2]=d,this.lpnt[3]=u[1]);for(var w=this.rpnt,x=bzLine(w),y=x[0],z=x.length,r=0;z>r;r++)s.addPoint(x[r]);s.addPoint(this.m_pWay?this.pv:this.pv2);var A=this.cpnt,B=bzLine(A);s.addPoint(B),s.addPoint(this.m_pWay?this.pv2:this.pv);var C=this.lpnt,D=bzLine(C);return s.addPoint(D),s.addPoint(y),t.addGeometry(s),[t]}},n.leftPoint=function(a,b,c){var d,f,g=a.y-c*a.x;return d=2*(b.x+c*b.y-c*g)/(c*c+1)-b.x,f=2*(c*b.x+c*c*b.y+g)/(c*c+1)-b.y,new e({x:d,y:f})},n.helloArrowHead=function(a,b,c,d,f,g){for(var h=[],i=d/2,j=f/2,k=g/2,l=0;4>=l;l++)h[l]=new e;var m=Math.atan2(b.y-a.y,b.x-a.x),n=Math.cos(i),o=Math.sin(i),p=Math.cos(j),q=Math.sin(j),r=Math.cos(m),s=Math.sin(m),t=Math.cos(k),u=Math.sin(k);h[3].x=-c*(n*r-o*s),h[3].y=-c*(o*r+n*s),h[1].x=-c*(n*r+o*s),h[1].y=-c*(s*n-r*o),h[2].x=0,h[2].y=0;var v=c*(q*p-p*o)/(q*t-p*u);h[4].x=-v*(t*r-u*s),h[4].y=-v*(u*r+t*s),h[0].x=-v*(r*t+s*u),h[0].y=-v*(s*t-r*u);for(var l=(parseInt(b.x-(h[0].x+h[4].x)/2),parseInt(b.y-(h[0].y+h[4].y)/2),0);5>l;l++)h[l].x+=b.x,h[l].y+=b.y;return h},n.prototype.getType=function(){return"doublearrowalgorithm"},n}(b,Rd,Sd,B,v,C,F,E),Yd=function(a,b,c,d,e,f){var g=b.extend2,h=(b.deepCopy,d.scalePoint),i=(d.pathLength,d.vertex),j=d.distance,k=(d.angle,function(){this.$type="ShockWayAlgorithm,http://www.Gs.com";var b={minCpt:2,maxCpt:2};a.call(this,b),this._inilization()});return g(k,a),k.prototype._inilization=function(){this.p1=null,this.p2=null},k.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),d=c.length;return 1===d?(this.p1=c[0],this.p2=b,this.getGraphParts(1)):2===d?(this.p1=c[0],this.p2=c[1],this.getGraphParts(1)):void 0},k.prototype.getGraphParts=function(a){var b=j(this.p1,this.p2),c=b*a,d=h(this.p1,this.p2,.8),g=i(this.p1,this.p2,this.p1,c/3,!0),k=i(this.p1,this.p2,this.p1,c/3,!1),l=i(this.p1,this.p2,d,c/2,!0),m=i(this.p1,this.p2,d,c/2,!1),n=i(this.p1,this.p2,d,c/5,!0),o=i(this.p1,this.p2,d,c/5,!1),p=this.p2,q=new e,r=[g,n,l,p,m,o,k,g];q.points.length>0?q.points=r:q.addPoint(r);var s=new f;return s.addGeometry(q),[s]},k.prototype.getType=function(){return"shockwayalgorithm"},k}(Rd,b,B,Sd,C,F),Zd=function(a,b,c,d,e,f,g,h){var i=b.extend2,j=(b.deepCopy,d.scalePoint,d.pathLength),k=(d.vertex,d.distance,d.bzLine),j=(d.gainPt,d.pathLength),l=d.calInterPoints,m=d.calHollowArraowhead,n=(d.computeIntervals,d.computePoint,d.blend,d.optionWay),o=d.calPathPerpenPoints,p=function(){this.$type="SwallowTailArrowAlgorithm,http://www.Gs.com";var b={minCpt:3,maxCpt:4};a.call(this,b),this._inilization()};return i(p,a),p.prototype._inilization=function(){this.m_CtrlPts=[];for(var a=0;3>a;a++)this.m_CtrlPts[a]=new h;this.controlps=[],this.ArrPts=[],this.lPts=[],this.rPts=[],this.tPts=[]},p.prototype.createGeometries=function(a,b){var d=a.getControlPoints(),e=d.length;if(this.controlps=d,this.cou=e,1===e){var f=d[0],i=b,j=new c,k=new g;return j.addPoint(f),j.addPoint(i),k.addGeometry(j),[k]}return 2===e?(this.m_CtrlPts[0].x=(d[0].x+d[1].x)/2,this.m_CtrlPts[0].y=(d[0].y+d[1].y)/2,null!=b?(this.m_CtrlPts[1].x=(this.m_CtrlPts[0].x+b.x)/2,this.m_CtrlPts[1].y=(this.m_CtrlPts[0].y+b.y)/2,this.m_CtrlPts[2]=b):(this.m_CtrlPts[1].x=(this.m_CtrlPts[0].x+d[1].x)/2,this.m_CtrlPts[1].y=(this.m_CtrlPts[0].y+d[1].y)/2,this.m_CtrlPts[2]=d[1])):3===e&&(null==b?(this.m_CtrlPts[0].x=(d[0].x+d[1].x)/2,this.m_CtrlPts[0].y=(d[0].y+d[1].y)/2,this.m_CtrlPts[2]=d[2],this.m_CtrlPts[1]=new h({x:(this.m_CtrlPts[0].x+this.m_CtrlPts[2].x)/2,y:(this.m_CtrlPts[0].y+this.m_CtrlPts[2].y)/2})):(this.m_CtrlPts[0].x=(d[0].x+d[1].x)/2,this.m_CtrlPts[0].y=(d[0].y+d[1].y)/2,b.x===d[2].x&&b.y===d[2].y?(this.m_CtrlPts[1].x=(this.m_CtrlPts[0].x+b.x)/2,this.m_CtrlPts[1].y=(this.m_CtrlPts[0].y+b.y)/2,this.m_CtrlPts[2]=b):(this.m_CtrlPts[1]=d[2],this.m_CtrlPts[2]=b))),4===e&&(d[3].x===d[2].x&&d[3].y===d[2].y?(this.m_CtrlPts[0].x=(d[0].x+d[1].x)/2,this.m_CtrlPts[0].y=(d[0].y+d[1].y)/2,this.m_CtrlPts[1].x=(this.m_CtrlPts[0].x+d[2].x)/2,this.m_CtrlPts[1].y=(this.m_CtrlPts[0].y+d[2].y)/2,this.m_CtrlPts[2]=d[2]):(this.m_CtrlPts[0].x=(d[0].x+d[1].x)/2,this.m_CtrlPts[0].y=(d[0].y+d[1].y)/2,this.m_CtrlPts[1]=d[2],this.m_CtrlPts[2]=d[3])),this.getGraphParts(1)},p.prototype.getGraphParts=function(){var a=new h,b=new h,c=new h,d=new h,g=new h,i=new h,p=[],q=new h,r=this.m_CtrlPts,s=[],t=this.controlps.length,u=0;(r[1].x==r[2].x||r[1].y==r[2].y)&&(r[2].x=r[1].x+1,r[2].y=r[1].y+1),2===t?(this.ArrPts[0]=r[0],this.ArrPts[1]=r[2],u=j(this.ArrPts),s=l(this.ArrPts,2,s),p=m(s[parseInt(7*s.length/8)],r[2],u/3,Math.PI/5,Math.PI/2,Math.PI/10)):t>2&&(this.ArrPts[0]=r[1],this.ArrPts[1]=r[2],u=j(this.ArrPts),s=l(this.ArrPts,2,s),p=m(s[parseInt(7*s.length/8)],r[2],u/2.3,Math.PI/5,Math.PI/2,Math.PI/10)),u=j(r),s=l(r,3),b=this.controlps[0],a=1===t?new h({x:this.controlps[0].x+50,y:this.controlps[0].y+50}):this.controlps[1],o(r,u/3,u/25,q,c,!0),o(r,2*u/3,u/25,q,d,!0),o(r,u/3,u/25,q,g,!1),o(r,2*u/3,u/25,q,i,!1);var v=n(a,b,p[2]);if(v){this.lPts[0]=a,this.lPts[1]=g,this.lPts[2]=i,this.lPts[3]=p[4],this.rPts[0]=p[0],this.rPts[1]=d,this.rPts[2]=c,this.rPts[3]=b;var w;w=p[0],p[0]=p[4],p[4]=w,w=p[1],p[1]=p[3],p[3]=w}else this.lPts[0]=a,this.lPts[1]=c,this.lPts[2]=d,this.lPts[3]=p[0],this.rPts[0]=p[4],this.rPts[1]=i,this.rPts[2]=g,this.rPts[3]=b;q=s[parseInt(s.length/15)],this.tPts[0]=b,this.tPts[1]=q,this.tPts[2]=a;var x=this.lPts,y=k(x),z=p,A=this.rPts;bezierPoints3=k(A);var B=this.tPts,C=new e;C.addPoint(y),C.addPoint(z),C.addPoint(bezierPoints3),C.addPoint(B);var D=new f;return D.addGeometry(C),[D]},p.prototype.getType=function(){return"swallowtailarrowalgorithm"},p}(Rd,b,B,Sd,C,F,E,v),$d=function(a,b,c,d,e,f,g){{var h=a.extend2,i=(a.deepCopy,c.scalePoint,c.optionWay,c.pathLength,c.linePerpenPoints,c.calLinePerpenPoint);c.bTypeline}vertex=c.vertex,angle=c.angle,bzLine=c.bzLine,gainPt=c.gainPt,distance=c.distance,calInterPoints=c.calInterPoints,calHollowArraowhead=c.calHollowArraowhead,calPathPerpenPoints=c.calPathPerpenPoints,getBSplinePoints=c.getBSplinePoints,getBSplineFFactor=c.getBSplineFFactor,getQuadricBSplineFactor=c.getQuadricBSplineFactor,getArrowTailPoints=c.getArrowTailPoints,getArrowBodyPoints=c.getArrowBodyPoints,getThirdPoint=c.getThirdPoint,getArrowHeadPoints=c.getArrowHeadPoints,getArrowPlot=c.getArrowPlot;var j=function(a){this.$type="MultiArrowAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:9};b.call(this,a),this._inilization()};return h(j,b),j.prototype._inilization=function(){this.m_Ctrlpts=[]},j.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),d=c.length,h=[],j=[],k=[],l=[],m=[],n=[],o=[],p=[],q=[],r=[];this.headHeightFactor=.15,this.headWidthFactor=.4,this.neckHeightFactor=.75,this.neckWidthFactor=.15,this.tailWidthFactor=.1;for(var s=new f,t=0;d>t;t++)this.m_Ctrlpts[t]=c[t];switch(null!=b&&this.m_Ctrlpts[d-1].x==b.x&&this.m_Ctrlpts[d-1].y==b.y&&(d-=1),d){case 1:null!=b?(j[0]=this.m_Ctrlpts[0],j[1]=b):j[0]=this.m_Ctrlpts[0];break;case 2:null!=b?(j[0]=this.m_Ctrlpts[0],j[1]=this.m_Ctrlpts[1],j[2]=b):(j[0]=this.m_Ctrlpts[0],j[1]=this.m_Ctrlpts[1]);break;case 3:null!=b?(j[0]=this.m_Ctrlpts[0],j[1]=this.m_Ctrlpts[1],j[2]=this.m_Ctrlpts[2],j[3]=b):(j[0]=this.m_Ctrlpts[0],j[1]=this.m_Ctrlpts[1],j[2]=this.m_Ctrlpts[2]);break;case 4:null!=b?(j[0]=this.m_Ctrlpts[0],j[1]=this.m_Ctrlpts[1],j[2]=this.m_Ctrlpts[2],k[0]=this.m_Ctrlpts[3],k[1]=b):(j[0]=this.m_Ctrlpts[0],j[1]=this.m_Ctrlpts[1],j[2]=this.m_Ctrlpts[2],k[0]=this.m_Ctrlpts[3]);break;case 5:null!=b?(j[0]=this.m_Ctrlpts[0],j[1]=this.m_Ctrlpts[1],j[2]=this.m_Ctrlpts[2],k[0]=this.m_Ctrlpts[3],k[1]=this.m_Ctrlpts[4],k[2]=b):(j[0]=this.m_Ctrlpts[0],j[1]=this.m_Ctrlpts[1],j[2]=this.m_Ctrlpts[2],k[0]=this.m_Ctrlpts[3],k[1]=this.m_Ctrlpts[4]);break;case 6:null!=b?(j[0]=this.m_Ctrlpts[0],j[1]=this.m_Ctrlpts[1],j[2]=this.m_Ctrlpts[2],k[0]=this.m_Ctrlpts[3],k[1]=this.m_Ctrlpts[4],k[2]=this.m_Ctrlpts[5],k[3]=b):(j[0]=this.m_Ctrlpts[0],j[1]=this.m_Ctrlpts[1],j[2]=this.m_Ctrlpts[2],k[0]=this.m_Ctrlpts[3],k[1]=this.m_Ctrlpts[4],k[2]=this.m_Ctrlpts[5],k[3]=b);break;case 7:j[0]=this.m_Ctrlpts[0],j[1]=this.m_Ctrlpts[1],j[2]=this.m_Ctrlpts[2],k[0]=this.m_Ctrlpts[3],k[1]=this.m_Ctrlpts[4],k[2]=this.m_Ctrlpts[5],l[0]=this.m_Ctrlpts[6],l[1]=b;break;case 8:j[0]=this.m_Ctrlpts[0],j[1]=this.m_Ctrlpts[1],j[2]=this.m_Ctrlpts[2],k[0]=this.m_Ctrlpts[3],k[1]=this.m_Ctrlpts[4],k[2]=this.m_Ctrlpts[5],l[0]=this.m_Ctrlpts[6],l[1]=this.m_Ctrlpts[7];break;case 9:j[0]=this.m_Ctrlpts[0],j[1]=this.m_Ctrlpts[1],j[2]=this.m_Ctrlpts[2],k[0]=this.m_Ctrlpts[3],k[1]=this.m_Ctrlpts[4],k[2]=this.m_Ctrlpts[5],l[0]=this.m_Ctrlpts[6],l[1]=this.m_Ctrlpts[7],l[2]=this.m_Ctrlpts[8]}if(0!=l.length){j=getArrowPlot(j,!1,0,"useBSplieFit",this.headHeightFactor,this.headWidthFactor,this.neckHeightFactor,this.neckWidthFactor,this.tailWidthFactor),num=j.length,num1=(num-5)/2;for(var t=0;num1-1>t;t++)m[t]=j[t];for(var u=num1;num1+5>u;u++)n[u-num1]=j[u];h.push(m),h.push(n),k=getArrowPlot(k,!1,0,"useBSplieFit",this.headHeightFactor,this.headWidthFactor,this.neckHeightFactor,this.neckWidthFactor,this.tailWidthFactor),num=k.length,num1=(num-5)/2;for(var t=num1;num1+5>t;t++)p[t-num1]=k[t];l=getArrowPlot(l,!1,0,"useBSplieFit",this.headHeightFactor,this.headWidthFactor,this.neckHeightFactor,this.neckWidthFactor,this.tailWidthFactor),num=l.length,num1=(num-5)/2;for(var t=num1;num1+5>t;t++)q[t-num1]=l[t];for(var t=num1+6;num>t;t++)r[t-num1-6]=l[t];var v=new e,w=new e,x=new e,y=new e;i(n[2],n[4],4,v),i(p[2],p[0],4,w),i(p[2],p[4],4,x),i(q[2],q[0],4,y),centerLeft=[],centerLeft.push(n[4]),centerLeft.push(v),centerLeft.push(w),centerLeft.push(p[0]),centerLeft=bzLine(centerLeft),h.push(centerLeft),h.push(p),centerRight=[],centerRight.push(p[4]),centerRight.push(x),centerRight.push(y),centerRight.push(q[0]),centerRight=bzLine(centerRight),h.push(centerRight),h.push(q),h.push(r)}else if(0!=k.length){j=getArrowPlot(j,!1,0,"useBSplieFit",this.headHeightFactor,this.headWidthFactor,this.neckHeightFactor,this.neckWidthFactor,this.tailWidthFactor),num=j.length,num1=parseInt((num-5)/2);for(var t=0;num1-1>t;t++)m[t]=j[t];for(var t=num1;num1+5>t;t++)n[t-num1]=j[t];if(h.push(m),h.push(n),2==k.length||3==k.length){k=getArrowPlot(k,!1,0,"useBSplieFit",this.headHeightFactor,this.headWidthFactor,this.neckHeightFactor,this.neckWidthFactor,this.tailWidthFactor),num=k.length,num1=parseInt((num-5)/2);for(var t=num1;num1+5>t;t++)p[t-num1]=k[t];for(var t=num1+6;num>t;t++)o[t-num1-6]=k[t];var v=new e,w=new e;i(n[2],n[4],4,v),i(p[2],p[0],4,w),centerLeft=[],centerLeft.push(n[4]),centerLeft.push(v),centerLeft.push(w),centerLeft.push(p[0]),centerLeft=bzLine(centerLeft),h.push(centerLeft),h.push(p),h.push(o)}else if(4==k.length){for(var z=[],t=0;t<k.length-1;t++)z.push(k[t]);z=getArrowPlot(z,!1,0,"useBSplieFit",this.headHeightFactor,this.headWidthFactor,this.neckHeightFactor,this.neckWidthFactor,this.tailWidthFactor),num=z.length,num1=parseInt((num-5)/2);for(var t=num1;num1+5>t;t++)p[t-num1]=z[t];var v=new e,w=new e;i(n[2],n[4],4,v),i(p[2],p[0],4,w),centerLeft=[],centerLeft.push(n[4]),centerLeft.push(v),centerLeft.push(w),centerLeft.push(p[0]),centerLeft=bzLine(centerLeft),h.push(centerLeft),h.push(p);
var x=new e;i(p[2],p[4],4,x),centerRight=[],centerRight.push(p[4]),centerRight.push(x),centerRight.push(k[3]),centerRight=bzLine(centerRight),h.push(centerRight)}}else if(0!=j.length)if(2==j.length||3==j.length)h=getArrowPlot(j,!1,0,"useBSplieFit",this.headHeightFactor,this.headWidthFactor,this.neckHeightFactor,this.neckWidthFactor,this.tailWidthFactor);else if(4==j.length){for(var A=[],t=0;t<j.length-1;t++)A.push(j[t]);A=getArrowPlot(A,!1,0,"useBSplieFit",this.headHeightFactor,this.headWidthFactor,this.neckHeightFactor,this.neckWidthFactor,this.tailWidthFactor),num=A.length,num1=parseInt((num-5)/2);for(var t=0;num1-1>t;t++)m[t]=A[t];for(var t=num1;num1+5>t;t++)n[t-num1]=A[t];for(var t=0;t<m.length;t++)h.push(m[t]);for(var t=0;t<n.length;t++)h.push(n[t]);var v=new e,w=new e;i(n[2],n[4],4,v),centerLeft=[],centerLeft.push(n[4]),centerLeft.push(v),centerLeft.push(j[3]),centerLeft=bzLine(centerLeft);for(var t=0;t<centerLeft.length;t++)h.push(centerLeft[t])}for(var B=new g,t=0;t<h.length;t++)s.addPoint(h[t]);return B.addGeometry(s),[B]},j.prototype.getType=function(){return"multiarrowalgorithm"},j}(b,Rd,Sd,B,v,C,F,E),_d=function(a,b,c,d,e,f,g,h){{var i=a.extend2;a.deepCopy,c.scalePoint,c.pathLength,c.vertex,c.angle}distance=c.distance;var j=function(a){this.$type="PolylineAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:100};b.call(this,a),this._inilization(),this.p1=null,this.p2=null};return i(j,b),j.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length,f=new d;f.points=[];for(var g=0;e>g;g++)f.addPoint(c[g]);null!=b&&f.addPoint(b);var i=new h;return i.addGeometry(f),[i]},j.prototype.getType=function(){return"polyline"},j}(b,Rd,Sd,B,v,C,F,E),ae=function(a,b,c,d,e,f,g){{var h=a.extend2;a.deepCopy,c.scalePoint,c.pathLength,c.vertex,c.angle}distance=c.distance;var i=function(a){this.$type="CircleAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:2};b.call(this,a),this._inilization(),this.p1=null,this.p2=null};return h(i,b),i.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),d=c.length;1===d?(this.p1=c[0],this.p2=b):(this.p1=c[0],this.p2=c[1]);var h=distance(this.p1,this.p2),i=100,j=2*Math.PI,k=new f;k.points=[];for(var l=0;i>l;l++){var m=j*l/i;k.addPoint(new e({x:this.p1.x+h*Math.sin(m),y:this.p1.y+h*Math.cos(m)}))}k.close();var n=new g;return n.addGeometry(k),[n]},i.prototype.getType=function(){return"circle"},i}(b,Rd,Sd,B,v,C,F),be=function(a,b,c,d,e,f,g){{var h=a.extend2;a.deepCopy,c.scalePoint,c.pathLength,c.vertex,c.angle}distance=c.distance;var i=function(a){this.$type="PolygonAlgorithm,http://www.Gs.com";var a={minCpt:3,maxCpt:100};b.call(this,a),this._inilization(),this.p1=null,this.p2=null};return h(i,b),i.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),d=c.length,e=new f;e.points=[];for(var h=0;d>h;h++)e.addPoint(c[h]);null!=b&&e.addPoint(b),e.close();var i=new g;return i.addGeometry(e),[i]},i.prototype.getType=function(){return"polygon"},i}(b,Rd,Sd,B,v,C,F,E),ce=function(a,b,c,d,e,f,g){var h=a.extend2,i=(a.deepCopy,c.scalePoint,c.pathLength,c.vertex,c.angle,c.distance,c.midPoint);getAngleOfThreePoints=c.getAngleOfThreePoints,getAzimuthAngle=c.getAzimuthAngle,polarAngle360=c.polarAngle360,getPolarPointOfCenterPoint=c.getPolarPointOfCenterPoint;var j=function(a){this.$type="EllipseAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:2};b.call(this,a),this._inilization(),this.p1=null,this.p2=null,this.p3=null};return h(j,b),j.prototype.createGeometries=function(a,b){var c=new g,d=a.getControlPoints(),h=d.length;if(1==h){this.p1=d[0],this.p2=b;var j=i(this.p1,this.p2);high=Math.abs(this.p1.y-j.y),width=Math.abs(this.p1.x-j.x);for(var k=new f,l=0;360>=l;l++)k.addPoint(new e({x:j.x+width*Math.cos(l*Math.PI/180),y:j.y-high*Math.sin(l*Math.PI/180)}))}if(h>=2&&d[h-1]!=d[h-2]){this.p1=d[0],this.p2=d[1],j=i(this.p1,this.p2),high=Math.abs(this.p1.y-j.y),width=Math.abs(this.p1.x-j.x);for(var k=new f,l=0;360>=l;l++)k.addPoint(new e({x:j.x+width*Math.cos(l*Math.PI/180),y:j.y-high*Math.sin(l*Math.PI/180)}))}var c=new g;return c.addGeometry(k),[c]},j.prototype.getType=function(){return"ellipse"},j}(b,Rd,Sd,B,v,C,F,E),de=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint,c.pathLength,c.vertex,c.angle,c.bzLine,c.bTypeline),k=(c.gainPt,c.distance,function(a){this.$type="CurveAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:10};b.call(this,a);this.p1=null,this.p2=null});return i(k,b),k.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],k=0;e-1>k;k++)(c[k].x!==c[k+1].x||c[k].y!==c[k+1].y)&&i.push(c[k]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=j(i),this.getGraphParts(1)},k.prototype.getGraphParts=function(){for(var a=new d,b=new h,c=0;c<=bzPoints.length-1;c++)a.addPoint(bzPoints[c]);return b.addGeometry(a),[b]},k.prototype.getType=function(){return"curvealgorithm"},k}(b,Rd,Sd,B,v,C,F,E),ee=function(a,b,c,d,e,f,g,h){var i=b.extend2,j=(b.deepCopy,d.scalePoint,d.bzLine,d.bTypeline),k=d.distance,l=d.optionWay;linePerpenPoints=d.linePerpenPoints;var m=function(){this.$type="CloseCurveAlgorithm,http://www.Gs.com";var b={minCpt:2,maxCpt:8};a.call(this,b);this._inilization()};return i(m,a),m.prototype._inilization=function(){},m.prototype.createGeometries=function(a,b){var d=a.getControlPoints(),e=d.length;if(1===e){var f=new c,i=new g;return f.addPoint(d[0]),f.addPoint(b),i.addGeometry(f),[i]}for(var m=[],n=0;e-1>n;n++)(d[n].x!==d[n+1].x||d[n].y!==d[n+1].y)&&m.push(d[n]);m.push(d[e-1]),null!=b?b.x===d[e-1].x&&b.y===d[e-1].y?m.push(d[0]):(m.push(b),m.push(d[0])):m.push(d[0]);var o=m.length;if(o>3){var p=l(m[1],m[o-2],m[0]),q=!p,r=new h,s=new h;linePerpenPoints(m[0],m[o-2],.25*k(m[0],m[o-2]),.1*k(m[0],m[o-2]),r,s,q);for(var t=[],n=0;o-1>n;n++)t.push(m[n]);t.push(s),t.push(m[o-1]),bzPoints=j(t,t.length)}else bzPoints=j(m,m.length);return this.getGraphParts(1)},m.prototype.getGraphParts=function(){{var a=new e,b=new f;bzPoints.length}return a.addPoint(bzPoints),b.addGeometry(a),[b]},m.prototype.getType=function(){return"closecurvealgorithm"},m}(Rd,b,B,Sd,C,F,E,v),fe=function(a,b,c,d,e,f){var g=a.extend2,h=(a.deepCopy,c.scalePoint,c.pathLength,c.vertex,c.angle,c.bzLine,c.gainPt,c.distance);polarAngle360=c.polarAngle360,midPoint=c.midPoint,getPolarPointOfCenterPoint=c.getPolarPointOfCenterPoint,getSide=c.getSide,getAngleOfThreePoints=c.getAngleOfThreePoints;var i=function(a){this.$type="CamberAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:3};b.call(this,a),this._inilization()};return g(i,b),i.prototype.createGeometries=function(a,b){var c,g,i,j,k,l,m,n,o,p=a.getControlPoints(),q=p.length,r=null,s=null,t=null,u=new e;if(1==q){var v=new f,w=new d;return w.addPoint(p[0]),w.addPoint(b),v.addGeometry(w),[v]}if(2==q){var x=new f,y=new d;if(r=p[0],s=p[1],t=b,null!=b&&b.x===p[1].x&&b.y===p[1].y)return y.addPoint(p[0]),y.addPoint(b),x.addGeometry(y),[x];if(i=-(s.x-r.x)/(s.y-r.y),j=-(t.x-s.x)/(t.y-s.y),k=(r.x+s.x)/2,l=(s.x+t.x)/2,m=(r.y+s.y)/2,n=(s.y+t.y)/2,u.x=(i*k-j*l+n-m)/(i-j),u.y=i*(u.x-k)+m,c=getAngleOfThreePoints(r,u,s),o=h(u,s),c>0||0>c)if(c=180*c/Math.PI,g=polarAngle360(u,s),"right"==getSide(r,s,t)){y.addPoint(s);for(var z=g;c+g>=z;z++)y.addPoint(getPolarPointOfCenterPoint(u,z,o));y.addPoint(r)}else{y.addPoint(r);for(var z=c+g;g+360>=z;z++)y.addPoint(getPolarPointOfCenterPoint(u,z,o));y.addPoint(s)}}else if(3==q){var x=new f,y=new d;if(p[2].x===p[1].x&&p[2].y===p[1].y)return y.addPoint(p[0]),y.addPoint(p[1]),x.addGeometry(y),[x];if(r=p[0],s=p[1],t=p[2],i=-(s.x-r.x)/(s.y-r.y),j=-(t.x-s.x)/(t.y-s.y),k=(r.x+s.x)/2,l=(s.x+t.x)/2,m=(r.y+s.y)/2,n=(s.y+t.y)/2,u.x=(i*k-j*l+n-m)/(i-j),u.y=i*(u.x-k)+m,c=getAngleOfThreePoints(r,u,s),o=h(u,s),c>0||0>c)if(c=180*c/Math.PI,g=polarAngle360(u,s),"right"==getSide(r,s,t)){y.addPoint(s);for(var z=g;c+g>=z;z++)y.addPoint(getPolarPointOfCenterPoint(u,z,o));y.addPoint(r)}else{y.addPoint(r);for(var z=c+g;g+360>=z;z++)y.addPoint(getPolarPointOfCenterPoint(u,z,o));y.addPoint(s)}}return x.addGeometry(y),[x]},i.prototype.getType=function(){return"camberalgorithm"},i}(b,Rd,Sd,B,v,E),ge=function(a,b,c){{var d=a.extend2;a.deepCopy,c.scalePoint,c.pathLength,c.vertex,c.angle}distance=c.distance;var e=function(a){this.$type="PointAlgorithm,http://www.Gs.com";var a={minCpt:1,maxCpt:1};b.call(this,a),this._inilization(),this.p1=null};return d(e,b),e.prototype.createGeometries=function(a){var b=a.getControlPoints(),c=b[0];return[c]},e.prototype.getType=function(){return"pointalgorithm"},e}(b,Rd,Sd,B,v,C,F),he=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.vertex,c.angle),k=c.optionWay,l=(c.distance,function(a){this.$type="RectangleAlgorithm,http://www.Gs.com";var a={minCpt:3,maxCpt:3};b.call(this,a),this._inilization()});return i(l,b),l.prototype.createGeometries=function(a,b){var c,i,m,n,o,p,q,r=new e,s=new e,t=[],u=new f,v=new g,w=a.getControlPoints(),x=w.length;if(1===x){r=w[0],s=b;var y=new d,z=new h;return y.addPoint(r),y.addPoint(s),z.addGeometry(y),[z]}2===x?(t[0]=w[0],t[1]=w[1],c=k(t[0],t[1],b),c?(i=j(t[0],t[1])+90,0>i&&(i=360+j)):(i=j(t[0],t[1])-90,i>360&&(i=j-360)),m=l.getDistance(t[0],t[1],b),n=t[1].x+m*Math.cos(i*Math.PI/180),o=t[1].y-m*Math.sin(i*Math.PI/180),t[2]=new e({x:n,y:o}),p=t[0].x+m*Math.cos(i*Math.PI/180),q=t[0].y-m*Math.sin(i*Math.PI/180),t[3]=new e({x:p,y:q})):3==x&&(t[0]=w[0],t[1]=w[1],t[2]=w[2],c=k(t[0],t[1],t[2]),c?(i=j(t[0],t[1])+90,0>i&&(i=360+j)):(i=j(t[0],t[1])-90,i>360&&(i=j-360)),m=l.getDistance(t[0],t[1],t[2]),n=t[1].x+m*Math.cos(i*Math.PI/180),o=t[1].y-m*Math.sin(i*Math.PI/180),t[2]=new e({x:n,y:o}),p=t[0].x+m*Math.cos(i*Math.PI/180),q=t[0].y-m*Math.sin(i*Math.PI/180),t[3]=new e({x:p,y:q}));for(var A=t.length,B=0;A>B;B++)u.addPoint(t[B]);return v.addGeometry(u),[v]},l.getDistance=function(a,b,c){var d=0,e=b.y-a.y,f=a.x-b.x,g=(b.x-a.x)*a.y-(b.y-a.y)*a.x;return d=Math.abs(e*c.x+f*c.y+g)/Math.sqrt(e*e+f*f)},l.prototype.getType=function(){return"rectanglealgorithm"},l}(b,Rd,Sd,B,v,C,F,E),ie=function(a,b,c,d,e,f,g){var h=a.extend2,i=(a.deepCopy,c.scalePoint,c.pathLength,c.vertex,c.angle,c.bzLine,c.gainPt,c.distance);polarAngle360=c.polarAngle360,midPoint=c.midPoint,getPolarPointOfCenterPoint=c.getPolarPointOfCenterPoint;var j=function(a){this.$type="ExactPolygonAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:20};b.call(this,a),this._inilization(),this.p1=null,this.p2=null};return h(j,b),j.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),d=c.length,h=new g,j=new f,k=null,l=null;null!=b?(k=c[0],l=b):(k=c[0],l=c[c.length-1]);for(var m=i(k,l),n=c.length,o=2*Math.PI,d=n+2,p=0;d>p;p++){var q=o*p/d;j.addPoint(new e({x:k.x+m*Math.sin(q),y:k.y+m*Math.cos(q)}))}return j.close(),h.addGeometry(j),[h]},j.prototype.getType=function(){return"exactpolygonalgorithm"},j}(b,Rd,Sd,B,v,C,F,E),je=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint,c.pathLength,c.vertex,c.angle,c.bzLine,c.gainPt,c.distance);polarAngle360=c.polarAngle360,midPoint=c.midPoint,getPolarPointOfCenterPoint=c.getPolarPointOfCenterPoint;var k=function(a){this.$type="SectorAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:3};b.call(this,a),this._inilization(),this.p1=null,this.p2=null};return i(k,b),k.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length,i=new g,k=new f,l=null,m=null,n=null;if(1==e){var o=new h,p=new d;return l=c[0],m=b,p.addPoint(l),p.addPoint(m),o.addGeometry(p),[o]}if(2==e){var q;k=new f,l=c[0],m=c[1],n=b;var r=j(l,m);if(k.addPoint(l),k.addPoint(m),angle1=getAngleOfThreePoints(n,l,m),angle1>=0||0>angle1){angle1=180*angle1/Math.PI,q=polarAngle360(l,m);for(var s=q;q+angle1>=s;s++)k.addPoint(getPolarPointOfCenterPoint(l,s,r))}}else{var q;k=new f,l=c[0],m=c[1],n=c[2];var r=j(l,m);if(k.addPoint(l),k.addPoint(m),angle1=getAngleOfThreePoints(n,l,m),angle1>=0||0>angle1){angle1=180*angle1/Math.PI,q=polarAngle360(l,m);for(var s=q;q+angle1>=s;s++)k.addPoint(getPolarPointOfCenterPoint(l,s,r))}}return k.close(),i.addGeometry(k),[i]},k.prototype.getType=function(){return"sectoralgorithm"},k}(b,Rd,Sd,B,v,C,F,E),ke=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint,c.pathLength,c.vertex,c.angle,c.bzLine,c.gainPt,c.distance);polarAngle360=c.polarAngle360,midPoint=c.midPoint,getPolarPointOfCenterPoint=c.getPolarPointOfCenterPoint,getSide=c.getSide,getAngleOfThreePoints=c.getAngleOfThreePoints;var k=function(a){this.$type="ArcAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:3};b.call(this,a),this._inilization()};return i(k,b),k.prototype.createGeometries=function(a,b){var c,i,k,l,m,n,o,p,q,r=a.getControlPoints(),s=r.length,t=new g,u=new f,v=null,w=null,x=null,y=new e;if(1==s){var z=new h,A=new d;return A.addPoint(r[0]),A.addPoint(b),z.addGeometry(A),[z]}if(2==s){if(v=r[0],w=r[1],x=b,u.addPoint(v),u.addPoint(w),k=-(w.x-v.x)/(w.y-v.y),l=-(x.x-w.x)/(x.y-w.y),m=(v.x+w.x)/2,n=(w.x+x.x)/2,o=(v.y+w.y)/2,p=(w.y+x.y)/2,y.x=(k*m-l*n+p-o)/(k-l),y.y=k*(y.x-m)+o,c=getAngleOfThreePoints(v,y,w),q=j(y,w),c>0||0>c)if(c=180*c/Math.PI,i=polarAngle360(y,w),"right"==getSide(v,w,x))for(var B=i;c+i>=B;B++)u.addPoint(getPolarPointOfCenterPoint(y,B,q));else{u.addPoint(v);for(var B=c+i;i+360>=B;B++)u.addPoint(getPolarPointOfCenterPoint(y,B,q));u.addPoint(w)}}else if(3==s&&(v=r[0],w=r[1],x=r[2],u.addPoint(v),u.addPoint(w),k=-(w.x-v.x)/(w.y-v.y),l=-(x.x-w.x)/(x.y-w.y),m=(v.x+w.x)/2,n=(w.x+x.x)/2,o=(v.y+w.y)/2,p=(w.y+x.y)/2,y.x=(k*m-l*n+p-o)/(k-l),y.y=k*(y.x-m)+o,c=getAngleOfThreePoints(v,y,w),q=j(y,w),c>0||0>c))if(c=180*c/Math.PI,i=polarAngle360(y,w),"right"==getSide(v,w,x))for(var B=i;c+i>=B;B++)u.addPoint(getPolarPointOfCenterPoint(y,B,q));else{u.addPoint(v);for(var B=c+i;i+360>=B;B++)u.addPoint(getPolarPointOfCenterPoint(y,B,q));u.addPoint(w)}return t.addGeometry(u),[t]},k.prototype.getType=function(){return"arcalgorithm"},k}(b,Rd,Sd,B,v,C,F,E),le=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=a.deepCopy,k=c.scalePoint,l=c.pathLength,m=c.vertex,n=(c.angle,c.bzLine,c.bTypeline),o=c.gainPt,l=c.pathLength,p=c.distance,q=function(a){this.$type="ProjectAlgorithm,http://www.Gs.com";var a={minCpt:3,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null};return i(q,b),q.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=n(i),this.getGraphParts(1)},q.prototype.getGraphParts=function(a){var b,c,e,i,n,q,r,s,t,u,v,w,x,y,z,A,B=[],C=[],D=l(bzPoints),E=D*a*4/210;b=o(bzPoints,D,1/31,v)[0];var F=p(this.p1,b);B=o(bzPoints,D,12.7/13,w)[0];var G=j(bzPoints[bzPoints.length-1]);C=k(B,G,2.5);for(var H=new h,I=new d,J=bzPoints.length,K=0;J-1>=K;K++)I.addPoint(bzPoints[K]);H.addGeometry(I),r=m(b,this.p1,this.p1,F,!1),t=m(b,this.p1,this.p1,F,!0),s=m(this.p1,r,r,2*F,!0),u=m(this.p1,t,t,2*F,!1);var L=new d;L.addPoint(r),L.addPoint(s),L.addPoint(u),L.addPoint(t),L.addPoint(r),H.addGeometry(L);var M=k(r,t,.2),N=k(r,t,.8);Line8LDown=m(r,M,M,.6*F,!1),e=m(r,M,M,1*F,!1),n=m(r,N,N,.4*F,!1),c=m(r,M,M,1.4*F,!1),i=m(r,N,N,1*F,!1),q=m(r,N,N,1.6*F,!1);var O=new d;O.addPoint(Line8LDown),O.addPoint(c),H.addGeometry(O);var P=new d;P.addPoint(q),P.addPoint(n),H.addGeometry(P);var Q=new d;Q.addPoint(e),Q.addPoint(i),H.addGeometry(Q),x=m(G,B,B,1*E,!0),y=m(G,B,B,1*E,!1),z=C,A=G;var R=[x,z,y,A,x],S=new f;S.points.length>0?S.points=R:S.addPoint(R);var T=new g;return T.addGeometry(S),[T,H]},q.prototype.getType=function(){return"projectproperty"},q}(b,Rd,Sd,B,v,C,F,E),me=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=a.deepCopy,k=c.scalePoint,l=c.pathLength,m=c.vertex,n=(c.angle,c.bzLine,c.bTypeline),o=c.gainPt,p=(c.distance,function(a){this.$type="AirwayAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null});return i(p,b),p.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=n(i),this.getGraphParts(1)},p.prototype.getGraphParts=function(a){var b,c,e,i,n,p,q,r=[],s=[],t=[],u=[],v=[],w=[],x=[],y=[],z=[],A=[],B=[],C=[],D=[],E=[],F=new h,G=l(bzPoints),H=G*a*4/210;r=o(bzPoints,G,5/11,n)[0],u=o(bzPoints,G,5.7/11,p)[0],n=o(bzPoints,G,5/11,n)[1],p=o(bzPoints,G,5.7/11,p)[1],x=k(r,u,1/7),A=k(r,u,2/7),D=k(r,u,4/7),E=k(r,u,6/7),s=m(r,x,r,H,!0),t=m(r,x,r,H,!1),y=m(r,x,x,H,!0),z=m(r,x,x,H,!1);var I=new d;I.addPoint(t),I.addPoint(s),I.addPoint(y),I.addPoint(z),I.addPoint(t),F.addGeometry(I),B=m(x,A,A,2*H,!0),C=m(x,A,A,2*H,!1);var J=new d;J.addPoint(C),J.addPoint(D),J.addPoint(B),F.addGeometry(J);var K=new d;K.addPoint(x),K.addPoint(E),F.addGeometry(K);for(var L=new d,M=0;n>M;M++)L.addPoint(bzPoints[M]);L.addPoint(r),F.addGeometry(L);var N=new d;N.addPoint(u);for(var O=bzPoints.length,P=p;O>P;P++)N.addPoint(bzPoints[P]);F.addGeometry(N),v=o(bzPoints,G,12.7/13,q)[0];var Q=j(bzPoints[O-1]);w=k(v,Q,2.5);var R=new g;b=m(Q,v,v,H,!0),c=m(Q,v,v,H,!1),e=w,i=Q;var S=[b,e,c,i,b],T=new f;return T.points.length>0?T.points=S:T.addPoint(S),R.addGeometry(T),[R,F]},p.prototype.getType=function(){return"airway"},p}(b,Rd,Sd,B,v,C,F,E),ne=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint,c.pathLength,c.vertex,c.angle,c.bzLine,c.gainPt,c.distance),k=function(a){this.$type="CannonAlgorithm,http://www.Gs.com";var a={minCpt:3,maxCpt:3};b.call(this,a),this.p1=null,this.p2=null,this.p3=null};return i(k,b),k.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}2===e?(this.p1=c[0],this.p2=c[1],this.p3=b):3===e&&(this.p1=c[0],this.p2=c[1],this.p3=c[2]),this.cannonLine=new h;var i=new d;return i.addPoint(this.p1),i.addPoint(this.p2),i.addPoint(this.p3),i.addPoint(this.p1),this.cannonLine.addGeometry(i),this.getGraphParts(1)},k.prototype.getGraphParts=function(a){var b,c=new e,f=new e,g=new e,h=new e,i=new e,k=new e,l=new e,m=new e,n=new e;n.x=(this.p1.x+this.p2.x+this.p3.x)/3,n.y=(this.p1.y+this.p2.y+this.p3.y)/3,b=.2*(j(this.p1,this.p2)+j(this.p2,this.p3)+j(this.p3,this.p1))*a,c.x=n.x-.5*b,c.y=n.y,f.x=n.x+.5*b,f.y=n.y;var o=new d;return o.addPoint(c),o.addPoint(f),this.cannonLine.addGeometry(o),g.x=n.x-.25*b,g.y=n.y-.1*b,h.x=n.x+.25*b,h.y=n.y-.1*b,PC2=new d,PC2.addPoint(g),PC2.addPoint(h),this.cannonLine.addGeometry(PC2),i.x=n.x-.25*b,i.y=n.y+.1*b,k.x=n.x+.25*b,k.y=n.y+.1*b,PC3=new d,PC3.addPoint(i),PC3.addPoint(k),this.cannonLine.addGeometry(PC3),l.x=n.x+.5*b,l.y=n.y-.1*b,m.x=n.x+.5*b,m.y=n.y+.1*b,PC4=new d,PC4.addPoint(l),PC4.addPoint(m),this.cannonLine.addGeometry(PC4),[this.cannonLine]},k.prototype.getType=function(){return"cannonproperty"},k}(b,Rd,Sd,B,v,C,F,E),oe=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=a.deepCopy,k=c.scalePoint,l=c.pathLength,m=c.vertex,n=(c.angle,c.bzLine,c.bTypeline),o=c.gainPt,p=c.distance,q=function(a){this.$type="ArsenalAlgorithm,http://www.Gs.com";var a={minCpt:3,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null};return i(q,b),q.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=n(i),this.getGraphParts(1)},q.prototype.getGraphParts=function(a){for(var b,c,e=[],i=[],n=[],q=[],r=[],s=[],t=new d,u=bzPoints.length,v=0;u-1>=v;v++)t.addPoint(bzPoints[v]);var w=new h;w.addGeometry(t);var x=l(bzPoints),y=x*a*4/210;i=o(bzPoints,x,1/31,b)[0],e=j(bzPoints[0]);var z=p(e,i);pline4=o(bzPoints,x,12.7/13,c)[0];var A=j(bzPoints[bzPoints.length-1]);pline6=k(pline4,A,2.5),n=m(i,e,e,z,!1),r=m(i,e,e,z,!0),q=m(e,n,n,2*z,!0),s=m(e,r,r,2*z,!1);var B=new d;B.addPoint(n),B.addPoint(q),B.addPoint(s),B.addPoint(r),B.addPoint(n),w.addGeometry(B);var C=k(n,r,.2),D=k(n,r,.8);L1=m(n,C,C,1.6*z,!1),L2=m(n,D,D,1.3*z,!1),L3=m(n,C,C,1*z,!1),L4=m(n,D,D,.7*z,!1),L5=m(n,C,C,.4*z,!1);var E=new d;E.addPoint(L1),E.addPoint(L2),E.addPoint(L3),E.addPoint(L4),E.addPoint(L5),w.addGeometry(E);var F,G,H,I,J=new g;F=m(A,pline4,pline4,1*y,!0),G=m(A,pline4,pline4,1*y,!1),H=pline6,I=A;var K=new f,L=[F,H,G,I,F];return K.points.length>0?K.points=L:K.addPoint(L),J.addGeometry(K),[J,w]},q.prototype.getType=function(){return"arsenal"},q}(b,Rd,Sd,B,v,C,F,E),qe=function(a,b,c,d,e,f,g,h){{var i=a.extend2,j=a.deepCopy,k=c.scalePoint,l=c.pathLength,m=c.vertex,n=(c.angle,c.bTypeline),o=(c.bzLine,c.gainPt);c.distance}polarAngle360=c.polarAngle360,midPoint=c.midPoint,getPolarPointOfCenterPoint=c.getPolarPointOfCenterPoint;var p=function(a){this.$type="MotorbikeTeamAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null};return i(p,b),p.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=n(i),this.getGraphParts(1)},p.prototype.getGraphParts=function(a){for(var b,c,e,i,n,p=[],q=[],r=[],s=[],t=[],u=[],v=[],w=[],x=[],y=[],z=[],A=new d,B=bzPoints.length,C=0;B-1>=C;C++)A.addPoint(bzPoints[C]);var D=new h;D.addGeometry(A);var E=l(bzPoints),F=E*a*4/210,G=.7*F;p=o(bzPoints,E,.4,b)[0],q=o(bzPoints,E,.404,c)[0],r=o(bzPoints,E,.6,e)[0],s=o(bzPoints,E,.604,i)[0],t=m(p,q,p,.7*F,!0);for(var H=[],I=0;360>=I;I++)H.push(getPolarPointOfCenterPoint(t,I,G));for(var J=new d,K=H.length,C=0;K>C;C++){var L=H[C];J.addPoint(L)}D.addGeometry(J),ptV3Bottom=m(r,s,r,.7*F,!0);for(var M=[],I=0;360>=I;I++)M.push(getPolarPointOfCenterPoint(ptV3Bottom,I,G));for(var N=new d,O=M.length,C=0;O>C;C++){var L=M[C];N.addPoint(L)}D.addGeometry(N),u=o(bzPoints,E,12.7/13,n)[0];var B=bzPoints.length,P=j(bzPoints[B-1]);v=k(u,P,2.5);var Q=new g;w=m(P,u,u,F,!0),x=m(P,u,u,F,!1),y=v,z=P;var R=new f,S=[w,y,x,z,w];return R.points.length>0?R.points=S:R.addPoint(S),Q.addGeometry(R),[Q,D]},p.prototype.getType=function(){return"motorbike"},p}(b,Rd,Sd,B,v,C,F,E),re=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=a.deepCopy,k=c.scalePoint,l=c.pathLength,m=c.vertex,n=(c.angle,c.bzLine,c.bTypeline),o=c.gainPt,p=c.distance;polarAngle360=c.polarAngle360,midPoint=c.midPoint,getPolarPointOfCenterPoint=c.getPolarPointOfCenterPoint;var q=function(a){this.$type="AntiaircraftForcesAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null};return i(q,b),q.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=n(i),this.getGraphParts(1)},q.prototype.getGraphParts=function(a){var b,c,e,i,n,q,r=(bzPoints[0],[]),s=[],t=[],u=[],v=[],w=[],x=[],y=[],z=[],A=[],B=[],C=[],D=[],E=[],F=[],G=[],H=[],I=[],J=[],K=[],L=[],M=new h,N=l(bzPoints),O=N*a*4/210,P=new g;r=o(bzPoints,N,6/13,i)[0],s=o(bzPoints,N,7/13,n)[0],i=o(bzPoints,N,6/13,i)[1],n=o(bzPoints,N,7/13,n)[1];var Q=p(r,s)/10;A=k(r,s,.1),B=k(r,s,.3),C=k(r,s,.4),D=k(r,s,.8),E=k(r,s,.85),F=k(r,s,.93),L=k(r,s,.99),v=m(r,A,A,Q,!0),w=m(r,B,B,Q,!0),x=m(r,C,C,Q,!0),y=m(r,D,D,Q,!0),z=m(r,E,E,.5*Q,!0),G=m(r,A,A,Q,!1),H=m(r,B,B,Q,!1),I=m(r,C,C,Q,!1),J=m(r,D,D,Q,!1),K=m(r,E,E,.5*Q,!1);var R=new d;R.addPoint(A),R.addPoint(F),M.addGeometry(R);var S=new d;S.addPoint(H),S.addPoint(C),S.addPoint(w),M.addGeometry(S);var T=new d;T.addPoint(v),T.addPoint(G),M.addGeometry(T);var U=new d;U.addPoint(I),U.addPoint(J),M.addGeometry(U);var V=new d;V.addPoint(x),V.addPoint(y),M.addGeometry(V);var W=new f,X=[K,F,z,L,K];W.points.length>0?W.points=X:W.addPoint(X);var P=new g;P.addGeometry(W);for(var Y=new d,Z=0;i>Z;Z++)Y.addPoint(bzPoints[Z]);M.addGeometry(Y);var $=new d;$.addPoint(s);for(var _=bzPoints.length,ab=n;_>ab;ab++)$.addPoint(bzPoints[ab]);M.addGeometry($),t=o(bzPoints,N,12.7/13,q)[0];var bb=j(bzPoints[_-1]);u=k(t,bb,2.5);new g;arrow1=m(bb,t,t,O,!0),b=m(bb,t,t,O,!1),c=u,e=bb;var W=new f,X=[arrow1,c,b,e,arrow1];return W.points.length>0?W.points=X:W.addPoint(X),P.addGeometry(W),[P,M]},q.prototype.getType=function(){return"antiaircraftforcespropety"},q}(b,Rd,Sd,B,v,C,F,E),se=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=a.deepCopy,k=c.scalePoint,l=c.pathLength,m=c.vertex,n=(c.angle,c.bzLine,c.bTypeline),o=c.gainPt,p=c.distance,q=function(a){this.$type="ExpertProtectAlgorithm,http://www.Gs.com";var a={minCpt:3,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null};return i(q,b),q.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=n(i),this.getGraphParts(1)},q.prototype.getGraphParts=function(a){for(var b,c,e=[],i=[],n=[],q=[],r=[],s=[],t=[],u=[],v=[],w=[],x=[],u=[],y=[],z=new d,A=bzPoints.length,B=0;A-1>=B;B++)z.addPoint(bzPoints[B]);var C=new h;C.addGeometry(z);var D=l(bzPoints),E=D*a*4/210;i=o(bzPoints,D,1/31,b)[0],e=j(bzPoints[0]);var F=p(e,i);pline4=o(bzPoints,D,12.7/13,c)[0];var G=j(bzPoints[bzPoints.length-1]);pline6=k(pline4,G,2.5),n=m(i,e,e,F,!1),r=m(i,e,e,F,!0),q=m(e,n,n,2*F,!0),s=m(e,r,r,2*F,!1);var H=new d;H.addPoint(n),H.addPoint(q),H.addPoint(s),H.addPoint(r),H.addPoint(n),C.addGeometry(H);var I=k(n,r,.2),J=k(n,r,.8);t=m(n,I,I,.6*F,!1),v=m(n,e,e,.6*F,!1),x=m(n,J,J,.6*F,!1),u=m(n,I,I,1.4*F,!1),w=m(n,e,e,1.4*F,!1),y=m(n,J,J,1.4*F,!1);var K=new d;K.addPoint(t),K.addPoint(u),K.addPoint(y),K.addPoint(x),C.addGeometry(K);var L=new d;L.addPoint(w),L.addPoint(v),C.addGeometry(L);var M,N,O,P,Q=new g;M=m(G,pline4,pline4,1*E,!0),N=m(G,pline4,pline4,1*E,!1),O=pline6,P=G;var R=new f,S=[M,O,N,P,M];return R.points.length>0?R.points=S:R.addPoint(S),Q.addGeometry(R),[Q,C]},q.prototype.getType=function(){return"expert"},q}(b,Rd,Sd,B,v,C,F,E),te=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=a.deepCopy,k=c.scalePoint,l=c.pathLength,m=c.vertex,n=(c.angle,c.bzLine,c.bTypeline),o=c.gainPt,l=c.pathLength,p=c.distance,q=function(a){this.$type="ArmyAlgorithm,http://www.Gs.com";var a={minCpt:3,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null};return i(q,b),q.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=n(i),this.getGraphParts(1)},q.prototype.getGraphParts=function(a){var b,c,e,i,n,q,r,s,t,u,v,w,x,y,z,A,B=[],C=[],D=l(bzPoints),E=D*a*4/210;b=o(bzPoints,D,1/31,v)[0];var F=p(this.p1,b);B=o(bzPoints,D,12.7/13,w)[0];var G=j(bzPoints[bzPoints.length-1]);C=k(B,G,2.5);for(var H=new h,I=new d,J=bzPoints.length,K=0;J-1>=K;K++)I.addPoint(bzPoints[K]);H.addGeometry(I),r=m(b,this.p1,this.p1,F,!1),t=m(b,this.p1,this.p1,F,!0),s=m(this.p1,r,r,2*F,!0),u=m(this.p1,t,t,2*F,!1);var L=new d;L.addPoint(r),L.addPoint(s),L.addPoint(u),L.addPoint(t),L.addPoint(r),H.addGeometry(L);var M=k(r,t,.3),N=k(r,t,.7);Line8LDown=m(r,M,M,.8*F,!1),e=m(r,this.p1,this.p1,.2*F,!1),n=m(r,N,N,1*F,!1),c=m(r,M,M,1.6*F,!1),i=m(r,this.p1,this.p1,.7*F,!1),q=m(r,N,N,1.2*F,!1),this.path3=new d,this.path3.addPoint(Line8LDown),this.path3.addPoint(n),H.addGeometry(this.path3);var O=new d;O.addPoint(c),O.addPoint(q),H.addGeometry(O);var P=new d;P.addPoint(e),P.addPoint(i),H.addGeometry(P),x=m(G,B,B,1*E,!0),y=m(G,B,B,1*E,!1),z=C,A=G;var Q=[x,z,y,A,x],R=new f;R.points.length>0?R.points=Q:R.addPoint(Q);var S=new g;return S.addGeometry(R),[S,H]},q.prototype.getType=function(){return"armyalgorithm"},q}(b,Rd,Sd,B,v,C,F,E),ue=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=a.deepCopy,k=c.scalePoint,l=c.pathLength,m=c.vertex,n=(c.angle,c.bzLine,c.bTypeline),o=c.gainPt,p=c.distance,q=function(a){this.$type="FireProtectAlgorithm,http://www.Gs.com";var a={minCpt:3,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null};return i(q,b),q.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=n(i),this.getGraphParts(1)},q.prototype.getGraphParts=function(a){for(var b,c,e=[],i=[],n=[],q=[],r=[],s=[],t=new d,u=bzPoints.length,v=0;u-1>=v;v++)t.addPoint(bzPoints[v]);var w=new h;w.addGeometry(t);var x=l(bzPoints),y=x*a*4/210;i=o(bzPoints,x,1/31,b)[0],e=j(bzPoints[0]);var z=p(e,i);pline4=o(bzPoints,x,12.7/13,c)[0];var A=j(bzPoints[bzPoints.length-1]);pline6=k(pline4,A,2.5),n=m(i,e,e,z,!1),r=m(i,e,e,z,!0),q=m(e,n,n,2*z,!0),s=m(e,r,r,2*z,!1);var B=new d;B.addPoint(n),B.addPoint(q),B.addPoint(s),B.addPoint(r),B.addPoint(n),w.addGeometry(B);var C=k(n,r,.2),D=k(n,r,.8);L1=m(n,C,C,1.6*z,!1),L2=m(n,C,C,.6*z,!1),L3=m(n,D,D,1*z,!1);var E=new d;E.addPoint(L1),E.addPoint(L2),E.addPoint(L3),E.addPoint(L1),w.addGeometry(E);var F,G,H,I,J=new g;F=m(A,pline4,pline4,1*y,!0),G=m(A,pline4,pline4,1*y,!1),H=pline6,I=A;var K=new f,L=[F,H,G,I,F];return K.points.length>0?K.points=L:K.addPoint(L),J.addGeometry(K),[J,w]},q.prototype.getType=function(){return"fireprotect"},q}(b,Rd,Sd,B,v,C,F,E),ve=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=a.deepCopy,k=c.scalePoint,l=c.pathLength,m=c.vertex,n=(c.angle,c.bzLine,c.bTypeline),o=c.gainPt,p=c.distance,q=function(a){this.$type="MedicalCureAlgorithm,http://www.Gs.com";var a={minCpt:3,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null};return i(q,b),q.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=n(i),this.getGraphParts(1)},q.prototype.getGraphParts=function(a){for(var b,c,e=[],i=[],n=[],q=[],r=[],s=[],t=new d,u=bzPoints.length,v=0;u-1>=v;v++)t.addPoint(bzPoints[v]);var w=new h;w.addGeometry(t);var x=l(bzPoints),y=x*a*4/210;i=o(bzPoints,x,1/31,b)[0],e=j(bzPoints[0]);var z=p(e,i);pline4=o(bzPoints,x,12.7/13,c)[0];var A=j(bzPoints[bzPoints.length-1]);pline6=k(pline4,A,2.5),n=m(i,e,e,z,!1),r=m(i,e,e,z,!0),q=m(e,n,n,2*z,!0),s=m(e,r,r,2*z,!1);var B=new d;B.addPoint(n),B.addPoint(q),B.addPoint(s),B.addPoint(r),B.addPoint(n),w.addGeometry(B),lineMid=m(n,e,e,z,!1),LineLeft=m(e,lineMid,lineMid,.8*z,!1),LineRight=m(e,lineMid,lineMid,.8*z,!0),LineUp=m(LineLeft,lineMid,lineMid,.8*z,!1),LineDown=m(LineLeft,lineMid,lineMid,.8*z,!0);var C=new d;C.addPoint(LineUp),C.addPoint(LineDown),w.addGeometry(C);var D=new d;D.addPoint(LineLeft),D.addPoint(LineRight),w.addGeometry(D);var E,F,G,H,I=new g;E=m(A,pline4,pline4,1*y,!0),F=m(A,pline4,pline4,1*y,!1),G=pline6,H=A;var J=new f,K=[E,G,F,H,E];return J.points.length>0?J.points=K:J.addPoint(K),I.addGeometry(J),[I,w]
},q.prototype.getType=function(){return"medical"},q}(b,Rd,Sd,B,v,C,F,E),we=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=a.deepCopy,k=c.scalePoint,l=c.pathLength,m=c.vertex,n=(c.angle,c.bzLine,c.bTypeline),o=c.gainPt,p=c.distance,q=function(a){this.$type="PowerRepairAlgorithm,http://www.Gs.com";var a={minCpt:3,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null};return i(q,b),q.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=n(i),this.getGraphParts(1)},q.prototype.getGraphParts=function(a){for(var b,c,e=[],i=[],n=[],q=[],r=[],s=[],t=new d,u=bzPoints.length,v=0;u-1>=v;v++)t.addPoint(bzPoints[v]);var w=new h;w.addGeometry(t);var x=l(bzPoints),y=x*a*4/210;i=o(bzPoints,x,1/31,b)[0],e=j(bzPoints[0]);var z=p(e,i);pline4=o(bzPoints,x,12.7/13,c)[0];var A=j(bzPoints[bzPoints.length-1]);pline6=k(pline4,A,2.5),n=m(i,e,e,z,!1),r=m(i,e,e,z,!0),q=m(e,n,n,2*z,!0),s=m(e,r,r,2*z,!1);var B=new d;B.addPoint(n),B.addPoint(q),B.addPoint(s),B.addPoint(r),B.addPoint(n),w.addGeometry(B),lineL=k(n,r,.3),lineR=k(n,r,.7),LineDown=m(n,lineL,lineL,.2*z,!1),LineMidLeft=m(n,lineL,lineL,1*z,!1),LineUp=m(n,lineR,lineR,1.8*z,!1),LineMidRight=m(n,lineR,lineR,1*z,!1);var C=new d;C.addPoint(LineUp),C.addPoint(LineMidLeft),C.addPoint(LineMidRight),C.addPoint(LineDown),w.addGeometry(C);var D,E,F,G,H=new g;D=m(A,pline4,pline4,1*y,!0),E=m(A,pline4,pline4,1*y,!1),F=pline6,G=A;var I=new f,J=[D,F,E,G,D];return I.points.length>0?I.points=J:I.addPoint(J),H.addGeometry(I),[H,w]},q.prototype.getType=function(){return"power"},q}(b,Rd,Sd,B,v,C,F,E),xe=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=a.deepCopy,k=c.scalePoint,l=c.pathLength,m=c.vertex,n=(c.angle,c.bzLine,c.bTypeline),o=c.gainPt,p=c.distance,q=function(a){this.$type="ProChymicAlgorithm,http://www.Gs.com";var a={minCpt:3,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null};return i(q,b),q.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=n(i),this.getGraphParts(1)},q.prototype.getGraphParts=function(a){for(var b,c,e=[],i=[],n=[],q=[],r=[],s=[],t=new d,u=bzPoints.length,v=0;u-1>=v;v++)t.addPoint(bzPoints[v]);var w=new h;w.addGeometry(t);var x=l(bzPoints),y=x*a*4/210;i=o(bzPoints,x,1/31,b)[0],e=j(bzPoints[0]);var z=p(e,i);pline4=o(bzPoints,x,12.7/13,c)[0];var A=j(bzPoints[bzPoints.length-1]);pline6=k(pline4,A,2.5),n=m(i,e,e,z,!1),r=m(i,e,e,z,!0),q=m(e,n,n,2*z,!0),s=m(e,r,r,2*z,!1);var B=new d;B.addPoint(n),B.addPoint(q),B.addPoint(s),B.addPoint(r),B.addPoint(n),w.addGeometry(B),line2=k(n,r,.2),line3=k(n,r,.3),line7=k(n,r,.7),line8=k(n,r,.8),L1=m(n,line2,line2,1.4*z,!1),L2=m(n,line3,line3,1.6*z,!1),L3=m(n,line7,line7,.4*z,!1),L4=m(n,line3,line3,.4*z,!1),L5=m(n,line7,line7,1.6*z,!1),L6=m(n,line8,line8,1.4*z,!1),LM=m(n,e,e,1*z,!1);var C=new d;C.addPoint(L1),C.addPoint(L2),C.addPoint(L3),C.addPoint(LM),C.addPoint(L4),C.addPoint(LM),C.addPoint(L5),C.addPoint(L6),w.addGeometry(C);var D,E,F,G,H=new g;D=m(A,pline4,pline4,1*y,!0),E=m(A,pline4,pline4,1*y,!1),F=pline6,G=A;var I=new f,J=[D,F,E,G,D];return I.points.length>0?I.points=J:I.addPoint(J),H.addGeometry(I),[H,w]},q.prototype.getType=function(){return"prochymicproperty"},q}(b,Rd,Sd,B,v,C,F,E),ye=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=a.deepCopy,k=c.scalePoint,l=c.pathLength,m=c.vertex,n=(c.angle,c.bzLine,c.bTypeline),o=c.gainPt,p=c.distance,q=function(a){this.$type="ProSuccorAlgorithm,http://www.Gs.com";var a={minCpt:3,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null};return i(q,b),q.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=n(i),this.getGraphParts(1)},q.prototype.getGraphParts=function(a){for(var b,c,e=[],i=[],n=[],q=[],r=[],s=[],t=new d,u=bzPoints.length,v=0;u-1>=v;v++)t.addPoint(bzPoints[v]);var w=new h;w.addGeometry(t);var x=l(bzPoints),y=x*a*4/210;i=o(bzPoints,x,1/31,b)[0],e=j(bzPoints[0]);var z=p(e,i);pline4=o(bzPoints,x,12.7/13,c)[0];var A=j(bzPoints[bzPoints.length-1]);pline6=k(pline4,A,2.5),n=m(i,e,e,z,!1),r=m(i,e,e,z,!0),q=m(e,n,n,2*z,!0),s=m(e,r,r,2*z,!1);var B=new d;B.addPoint(n),B.addPoint(q),B.addPoint(s),B.addPoint(r),B.addPoint(n),w.addGeometry(B),line2=k(n,r,.2),line8=k(n,r,.8),L1=m(n,e,e,1.6*z,!1),L2=m(n,line2,line2,1*z,!1),L3=m(n,line8,line8,1*z,!1),L4=m(n,e,e,.4*z,!1);var C=new d;C.addPoint(L1),C.addPoint(L2),C.addPoint(L4),C.addPoint(L3),C.addPoint(L1),w.addGeometry(C);var D,E,F,G,H=new g;D=m(A,pline4,pline4,1*y,!0),E=m(A,pline4,pline4,1*y,!1),F=pline6,G=A;var I=new f,J=[D,F,E,G,D];return I.points.length>0?I.points=J:I.addPoint(J),H.addGeometry(I),[H,w]},q.prototype.getType=function(){return"power"},q}(b,Rd,Sd,B,v,C,F,E),ze=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint),k=c.pathLength,l=c.vertex,m=(c.angle,c.bzLine,c.bTypeline),n=c.gainPt,o=c.distance;polarAngle360=c.polarAngle360,midPoint=c.midPoint,getPolarPointOfCenterPoint=c.getPolarPointOfCenterPoint;var p=function(a){this.$type="AttackOrderAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null};return i(p,b),p.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=m(i),this.getGraphParts(1)},p.prototype.getGraphParts=function(a){for(var b,c,e,i=new d,m=bzPoints.length,p=0;m-1>=p;p++)i.addPoint(bzPoints[p]);var q=new h;q.addGeometry(i);var r=k(bzPoints),s=r*a*4/150;middlePoint=n(bzPoints,r,.5,b)[0],middleLeftPt=n(bzPoints,r,.49,c)[0],middleRightPt=n(bzPoints,r,.51,e)[0],middleTopPt=l(middleLeftPt,middleRightPt,middlePoint,5*s,!1);{var t=o(middlePoint,middleTopPt);middlePoint.x}ny=middlePoint.y;{var u,v,w,x,y=j(middlePoint,middleTopPt,.6);y.x,y.y}u=l(middlePoint,y,y,t/10,!0),v=l(middlePoint,y,y,t/10,!1),w=j(middlePoint,middleTopPt,.75),x=middleTopPt;var z=new f;z.addPoint(u),z.addPoint(w),z.addPoint(v),z.addPoint(x),z.addPoint(u);var A=new g;A.addGeometry(z);var B=new d;return B.addPoint(middlePoint),B.addPoint(w),q.addGeometry(B),[A,q]},p.prototype.getType=function(){return"attackorder"},p}(b,Rd,Sd,B,v,C,F,E),Ae=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint,c.pathLength),k=c.vertex,l=(c.angle,c.bTypeline),m=(c.bzLine,c.gainPt),n=c.distance;polarAngle360=c.polarAngle360,midPoint=c.midPoint,getPolarPointOfCenterPoint=c.getPolarPointOfCenterPoint;var o=function(a){this.$type="AttackTurnDefend3Algorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null};return i(o,b),o.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=l(i),this.getGraphParts(1)},o.prototype.getGraphParts=function(a){var b,c,e,f,g,i,l,o=[],p=[],q=[],r=[],s=[],t=[],u=[],v=[],w=[],x=[],y=[],z=[],A=[],B=[],C=[],D=[],E=[],F=[],G=new h,H=j(bzPoints),I=H*a*4/150,J=4*H*a/300;o=m(bzPoints,H,.4,b)[0],p=m(bzPoints,H,6.5/15,c)[0],b=m(bzPoints,H,.4,b)[1],c=m(bzPoints,H,6.5/15,c)[1],t=k(o,p,o,I,!1),s=k(o,p,o,1.5*I,!0),v=k(o,p,p,I,!1),u=k(o,p,p,1.5*I,!0);var K=new d;K.addPoint(o),K.addPoint(t);var L=polarAngle360(t,v);A=midPoint(t,v);for(var M=n(t,v),N=M/2,O=L+180;O>=L;O--)K.addPoint(getPolarPointOfCenterPoint(A,O,N));K.addPoint(v),K.addPoint(p),K.addPoint(u),K.addPoint(s),K.addPoint(o),G.addGeometry(K),q=m(bzPoints,H,8.5/15,e)[0],r=m(bzPoints,H,.6,f)[0],e=m(bzPoints,H,8.5/15,e)[1],f=m(bzPoints,H,.6,f)[1],x=k(q,r,q,I,!1),w=k(q,r,q,1.5*I,!0),z=k(q,r,r,I,!1),y=k(q,r,r,1.5*I,!0);var P=polarAngle360(x,z),Q=n(x,z);rRec2=Q/2,B=midPoint(x,z);var R=new d;R.addPoint(q),R.addPoint(x);for(var S=P+180;S>=P;S--)R.addPoint(getPolarPointOfCenterPoint(B,S,rRec2));R.addPoint(z),R.addPoint(r),R.addPoint(y),R.addPoint(w),R.addPoint(q),G.addGeometry(R);for(var T=midPoint(o,p),U=midPoint(q,r),V=J,W=new d,X=new d,Y=0;360>=Y;Y++)W.addPoint(getPolarPointOfCenterPoint(T,Y,V)),X.addPoint(getPolarPointOfCenterPoint(U,Y,V));G.addGeometry(W),G.addGeometry(X);var C=m(bzPoints,H,.5,g)[0],D=m(bzPoints,H,.49,i)[0],E=m(bzPoints,H,.51,l)[0],g=m(bzPoints,H,.5,g)[1],i=m(bzPoints,H,.49,i)[1],l=m(bzPoints,H,.51,l)[1];F=k(D,E,C,5*I,!1);var Z=new d;Z.addPoint(C),Z.addPoint(F),G.addGeometry(Z);for(var $=new d,_=0;b>_;_++)$.addPoint(bzPoints[_]);$.addPoint(o),G.addGeometry($);var ab=new d;ab.addPoint(p);for(var Y=c;e>Y;Y++)ab.addPoint(bzPoints[Y]);ab.addPoint(q),G.addGeometry(ab);var bb=new d;bb.addPoint(r);for(var cb=bzPoints.length,db=f;cb>db;db++)bb.addPoint(bzPoints[db]);return G.addGeometry(bb),[G]},o.prototype.getType=function(){return"aturndefend2"},o}(b,Rd,Sd,B,v,C,F,E),Be=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint),k=c.pathLength,l=c.vertex,m=(c.angle,c.bzLine,c.bTypeline),n=c.gainPt,o=c.distance,p=function(a){this.$type="AirMobileAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null};return i(p,b),p.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=m(i),this.getGraphParts(1)},p.prototype.getGraphParts=function(a){var b,c,e,i,m,p=[],q=[],r=[],s=[],t=[],u=[],v=[],w=[],x=[],y=[],z=[],A=[],B=[],C=[],D=[],E=[],F=[],G=[],H=new h,I=k(bzPoints),J=I*a*4/210;p=n(bzPoints,I,6/13,b)[0],q=n(bzPoints,I,7/13,c)[0],r=n(bzPoints,I,6.05/13,e)[0],t=n(bzPoints,I,6.95/13,i)[0],b=n(bzPoints,I,6/13,b)[1],c=n(bzPoints,I,7/13,c)[1],e=n(bzPoints,I,6.05/13,e)[1],i=n(bzPoints,I,6.95/13,i)[1];var K=o(r,t);w=j(r,t,.2),s=l(r,t,r,.2*K,!0),x=l(w,t,w,.2*K,!0),y=l(w,t,w,.2*K,!1),pcmiddle1=new d,pcmiddle1.addPoint(w),pcmiddle1.addPoint(y),pcmiddle1.addPoint(r),pcmiddle1.addPoint(w),pcmiddle1.addPoint(s),pcmiddle1.addPoint(w),pcmiddle1.addPoint(x),H.addGeometry(pcmiddle1),z=j(r,t,.4),C=j(r,t,.75),A=l(z,t,z,.3*K,!0),B=l(z,t,z,.3*K,!1),pcmiddle2=new d,pcmiddle2.addPoint(B),pcmiddle2.addPoint(C),pcmiddle2.addPoint(A),H.addGeometry(pcmiddle2),pcmiddleline=new d,pcmiddleline.addPoint(r),pcmiddleline.addPoint(t),H.addGeometry(pcmiddleline),pcPline1=new d;for(var L=0;b>L;L++)pcPline1.addPoint(bzPoints[L]);pcPline1.addPoint(p),H.addGeometry(pcPline1),pcPline2=new d,pcPline2.addPoint(q);for(var M=bzPoints.length,N=c;M>N;N++)pcPline2.addPoint(bzPoints[N]);H.addGeometry(pcPline2),u=n(bzPoints,I,12.7/13,m)[0];var O=bzPoints[M-1];v=j(u,O,2.5);var P=new g;D=l(O,u,u,J,!0),E=l(O,u,u,J,!1),F=v,G=O;var Q=[D,F,E,G,D],R=new f;return R.points.length>0?R.points=Q:R.addPoint(Q),P.addGeometry(R),[P,H]},p.prototype.getType=function(){return"airmobile"},p}(b,Rd,Sd,B,v,C,F,E),Ce=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint,c.pathLength),k=(c.vertex,c.angle,c.bzLine,c.bTypeline),l=c.calPathPerpenPoints,m=c.calLinePerpenPoints,n=c.gainPt,o=c.distance,p=function(a){this.$type="AbatisAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:30};b.call(this,a)};return i(p,b),p.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){var f=new d,g=new h;return f.addPoint(c[0]),f.addPoint(b),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=k(i),this.getGraphParts(1)},p.prototype.getGraphParts=function(){var a=0,b=j(bzPoints),c=parseInt(b/14e4),f=new h,g=[],i=[];i[0]=bzPoints[0];for(var p=1;c+1>p;p++){var q=p/c,r=null;r=1==q?bzPoints[bzPoints.length-1]:0==q?bzPoints[0]:n(bzPoints,b,q,a)[0],i[p]=new e,i[p].x=r.x,i[p].y=r.y}i[c]=bzPoints[bzPoints.length-1];var s=new e,t=new e,u=[],v=j(i),w=i.length;u[0]=bzPoints[0];for(var x=1;w>x;x++)l(i,x/i.length*v,0,s,t,!0),u[x]=new e,u[x].x=t.x,u[x].y=t.y;for(var y=[],z=39e3,A=!1,B=u.length-1,p=0;B>p;p++)A=u[p].x==u[p+1].x?!0:!1,len=o(u[p],u[p+1]),y[4*p]=u[p],m(u[p],u[p+1],.75*len,2*z,t,t,A),y[4*p+1]=new e,y[4*p+1].x=t.x,y[4*p+1].y=t.y,m(u[p],u[p+1],.25*len,2*z,t,t,A),y[4*p+3]=new e,y[4*p+3].x=t.x,y[4*p+3].y=t.y,m(u[p],u[p+1],.5*len,3*z,t,t,A),y[4*p+2]=new e,y[4*p+2].x=t.x,y[4*p+2].y=t.y;for(var C=k(y,y.length),D=C.length-1,E=0;D>E;E++)g[E]=new d,g[E].addPoint([C[E],C[E+1]]),f.addGeometry(g[E]);return[f]},p.prototype.getType=function(){return"abatispropety"},p}(b,Rd,Sd,B,v,C,F,E),De=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint),k=c.pathLength,l=c.bTypeline,m=c.vertex,n=c.angle;distance=c.distance;var o=function(a){this.$type="MusketerByTankAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:3};b.call(this,a),this.p1=null,this.p2=null};return i(o,b),o.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=l(i),this.getGraphParts(1)},o.prototype.getGraphParts=function(a){var b,c,i,l,o,p,q,r=new d,s=new d,t=new d,u=new e,v=new e,w=new e,x=new e,y=new e,z=new e,A=new e,B=new e,C=(new e,new e),B=new e,D=new e,E=new e,F=new e,G=new e,H=(new e,new e,new e,new e,new e,new e,new e),I=new e,J=new e,K=new e,L=new h,M=new d,N=k(bzPoints),O=N*a/50;u=gainPt(bzPoints,N,.4,i)[0],v=gainPt(bzPoints,N,7/15,l)[0],i=gainPt(bzPoints,N,.4,i)[1],l=gainPt(bzPoints,N,7/15,l)[1];var P=(u.x+v.x)/2,Q=(u.y+v.y)/2,R=new e,R=new e({x:P,y:Q}),w=m(u,v,R,O,!1),x=m(u,v,R,O,!0);M.addPoint(u),M.addPoint(w),M.addPoint(v),M.addPoint(x),M.addPoint(u),L.addGeometry(M);var S=n(u,v);b=w.x+O*Math.cos(S*Math.PI/180),c=w.y-O*Math.sin(S*Math.PI/180),H=new e({x:b,y:c}),b=w.x-O*Math.cos(S*Math.PI/180),c=w.y+O*Math.sin(S*Math.PI/180),I=new e({x:b,y:c});var T=new d;T.addPoint(w),T.addPoint(I),T.addPoint(w),T.addPoint(H),L.addGeometry(T),w=gainPt(bzPoints,N,8/15,o)[0],x=gainPt(bzPoints,N,.6,p)[0],o=gainPt(bzPoints,N,8/15,o)[1],p=gainPt(bzPoints,N,.6,p)[1];var U=(w.x+x.x)/2,V=(w.y+x.y)/2,W=new e,W=new e({x:U,y:V}),y=m(w,x,W,O,!1),z=m(w,x,W,O,!0),X=new d;X.addPoint(y),X.addPoint(w),X.addPoint(z),X.addPoint(x),L.addGeometry(X);var S=n(w,x);b=y.x+O*Math.cos(S*Math.PI/180),c=y.y-O*Math.sin(S*Math.PI/180),J=new e({x:b,y:c}),b=y.x-O*Math.cos(S*Math.PI/180),c=y.y+O*Math.sin(S*Math.PI/180),K=new e({x:b,y:c});var Y=new d;Y.addPoint(y),Y.addPoint(J),Y.addPoint(y),Y.addPoint(K),L.addGeometry(Y);for(var Z=0;i>Z;Z++)r.addPoint(bzPoints[Z]);r.addPoint(u),L.addGeometry(r),s.addPoint(v);for(var $=bzPoints.length,_=l;o>_;_++)s.addPoint(bzPoints[_]);L.addGeometry(s),t.addPoint(y);for(var $=bzPoints.length,ab=p;$>ab;ab++)t.addPoint(bzPoints[ab]);L.addGeometry(t);var A=new e,B=new e;A=gainPt(bzPoints,N,12.7/13,q)[0];var C=bzPoints[$-1];B=j(A,C,2.5);var bb=new g;D=m(C,A,A,O,!0),E=m(C,A,A,O,!1),F=B,G=C;var cb=new f,db=[D,F,E,G,D];return cb.points.length>0?cb.points=db:cb.addPoint(db),bb.addGeometry(cb),[bb,L]},o.prototype.getType=function(){return"musketerbytankpropety"},o}(b,Rd,Sd,B,v,C,F,E),Ee=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=a.deepCopy,k=c.scalePoint,l=c.pathLength,m=c.vertex,n=(c.angle,c.bzLine,c.bTypeline),o=c.gainPt,p=(c.distance,function(a){this.$type="ArtilleryAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:3};b.call(this,a);this.p1=[],this.p2=[],this.p3=[]});return i(p,b),p.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=n(i),this.getGraphParts(1)},p.prototype.getGraphParts=function(a){for(var b,c,e,i,n,p,q,r,s,t=[],u=[],v=[],w=[],x=[],y=[],z=[],A=[],B=[],C=[],D=[],E=[],F=[],G=[],H=new h,I=new d,J=bzPoints.length,K=0;J-1>=K;K++)I.addPoint(bzPoints[K]);H.addGeometry(I);var L=l(bzPoints),M=L*a*1/60;t=o(bzPoints,L,.3,n)[0],u=o(bzPoints,L,.4,p)[0],v=o(bzPoints,L,.6,q)[0],w=o(bzPoints,L,.7,r)[0],n=o(bzPoints,L,.3,n)[1],p=o(bzPoints,L,.4,p)[1],q=o(bzPoints,L,.6,q)[1],r=o(bzPoints,L,.7,r)[1],x=m(t,u,t,.7*M,!0),y=m(t,u,t,.7*M,!1),z=m(t,u,u,.7*M,!0),A=m(t,u,u,.5*M,!1),B=m(v,w,v,.7*M,!0),C=m(v,w,v,.5*M,!1),D=m(v,w,w,.7*M,!0),E=m(v,w,w,.7*M,!1);var N=new d;N.addPoint(x),N.addPoint(z),H.addGeometry(N);var O=new d;O.addPoint(B),O.addPoint(D),H.addGeometry(O);var P=new d;P.addPoint(y),P.addPoint(A),H.addGeometry(P);var Q=new d;Q.addPoint(C),Q.addPoint(E),H.addGeometry(Q),F=o(bzPoints,L,12.7/13,s)[0];var R=j(bzPoints[J-1]);G=k(F,R,2.5);var S=new g;b=m(R,F,F,M,!0),c=m(R,F,F,M,!1),e=G,i=R;var T=[b,e,c,i,b],U=new f;return U.points.length>0?U.points=T:U.addPoint(T),S.addGeometry(U),[S,H]},p.prototype.getType=function(){return"artillerypropety"},p}(b,Rd,Sd,B,v,C,F,E),Fe=function(a,b,c,d,e,f,g,h){{var i=a.extend2,j=(a.deepCopy,c.scalePoint,c.pathLength),k=c.vertex,l=(c.angle,c.bTypeline),m=(c.bzLine,c.gainPt);c.distance}polarAngle360=c.polarAngle360,midPoint=c.midPoint,getPolarPointOfCenterPoint=c.getPolarPointOfCenterPoint;var n=function(a){this.$type="AttackTurnDefend1Algorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null};return i(n,b),n.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=l(i),this.getGraphParts(1)},n.prototype.getGraphParts=function(a){for(var b,c,e,f=new d,g=bzPoints.length,i=0;g-1>=i;i++)f.addPoint(bzPoints[i]);var l=new h;l.addGeometry(f);var n=j(bzPoints),o=n*a*4/150;middlePoint=m(bzPoints,n,.5,e)[0],middleLeftPt=m(bzPoints,n,.49,b)[0],middleRightPt=m(bzPoints,n,.51,c)[0],middleTopPt=k(middleLeftPt,middleRightPt,middlePoint,5*o,!1);var p=new d;return p.addPoint(middlePoint),p.addPoint(middleTopPt),l.addGeometry(p),[l]},n.prototype.getType=function(){return"aturndefend"},n}(b,Rd,Sd,B,v,C,F,E),Ge=function(a,b,c,d,e,f,g,h){{var i=a.extend2,j=(a.deepCopy,c.scalePoint,c.pathLength),k=c.vertex,l=(c.angle,c.bTypeline),m=(c.bzLine,c.gainPt);c.distance}polarAngle360=c.polarAngle360,midPoint=c.midPoint,getPolarPointOfCenterPoint=c.getPolarPointOfCenterPoint;var n=function(a){this.$type="AttackTurnDefend2Algorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null};return i(n,b),n.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=l(i),this.getGraphParts(1)},n.prototype.getGraphParts=function(a){var b,c,e,f,g,i,l,n=[],o=[],p=[],q=[],r=[],s=[],t=[],u=[],v=[],w=[],x=[],y=[],z=new h,A=j(bzPoints),B=A*a*4/150;n=m(bzPoints,A,5.8/15,b)[0],o=m(bzPoints,A,6.5/15,c)[0],b=m(bzPoints,A,5.8/15,b)[1],c=m(bzPoints,A,6.5/15,c)[1],centerPoint1=midPoint(n,o),s=k(n,centerPoint1,centerPoint1,1.5*B,!1),r=k(n,centerPoint1,centerPoint1,1.5*B,!0),pCRec1=new d,pCRec1.addPoint(n),pCRec1.addPoint(s),pCRec1.addPoint(o),pCRec1.addPoint(r),pCRec1.addPoint(n),z.addGeometry(pCRec1),p=m(bzPoints,A,8.5/15,f)[0],q=m(bzPoints,A,9.2/15,g)[0],f=m(bzPoints,A,8.5/15,f)[1],g=m(bzPoints,A,9.2/15,g)[1],centerPoint2=midPoint(p,q),u=k(p,centerPoint2,centerPoint2,1.5*B,!1),t=k(p,centerPoint2,centerPoint2,1.5*B,!0),pCRec2=new d,pCRec2.addPoint(p),pCRec2.addPoint(u),pCRec2.addPoint(q),pCRec2.addPoint(t),pCRec2.addPoint(p),z.addGeometry(pCRec2),v=m(bzPoints,A,.5,e)[0],w=m(bzPoints,A,.49,i)[0],x=m(bzPoints,A,.51,l)[0],e=m(bzPoints,A,.5,e)[1],i=m(bzPoints,A,.49,i)[1],l=m(bzPoints,A,.51,l)[1],y=k(w,x,v,5*B,!1),pcArrow=new d,pcArrow.addPoint(v),pcArrow.addPoint(y),z.addGeometry(pcArrow),pcPl1=new d;for(var C=0;b>C;C++)pcPl1.addPoint(bzPoints[C]);pcPl1.addPoint(n),z.addGeometry(pcPl1),pcPl2=new d,pcPl2.addPoint(o);for(var D=c;f>D;D++)pcPl2.addPoint(bzPoints[D]);pcPl2.addPoint(p),z.addGeometry(pcPl2),pcPl3=new d,pcPl3.addPoint(q);for(var E=bzPoints.length,F=g;E>F;F++)pcPl3.addPoint(bzPoints[F]);return z.addGeometry(pcPl3),[z]},n.prototype.getType=function(){return"aturndefend1"},n}(b,Rd,Sd,B,v,C,F,E),He=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint,c.pathLength),k=c.vertex,l=(c.angle,c.bzLine,c.bTypeline),m=c.gainPt,n=c.distance;polarAngle360=c.polarAngle360,midPoint=c.midPoint,getPolarPointOfCenterPoint=c.getPolarPointOfCenterPoint,getMapPoints=c.getMapPoints;var o=function(a){this.$type="RecceSearchAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null};return i(o,b),o.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=l(i),this.getGraphParts(1)},o.prototype.getGraphParts=function(a){var b,c,e,f,g=[],i=[],l=[],o=[],p=[],q=[],s=[],t=[],u=[],v=[],w=[],x=[],y=new h,z=j(bzPoints),A=z*a*4/150;g=m(bzPoints,z,.48,b)[0],i=m(bzPoints,z,.52,c)[0],b=m(bzPoints,z,.48,b)[1],c=m(bzPoints,z,.52,c)[1],q=midPoint(g,i);var B=n(g,i);r=B/2,pCCircle=new d;for(var C=0;360>=C;C++)pCCircle.addPoint(getPolarPointOfCenterPoint(q,C,r));y.addGeometry(pCCircle),s=midPoint(g,q),A=B/2*Math.sqrt(3)/2,u=k(g,i,s,A,!1),w=k(g,i,g,1.8*A,!1),centerLeft=new d,centerLeft.addPoint(u),centerLeft.addPoint(w),y.addGeometry(centerLeft),t=midPoint(i,q),A=B/2*Math.sqrt(3)/2,v=k(g,i,t,A,!1),x=k(g,i,i,1.8*A,!1),centerRight=new d,centerRight.addPoint(v),centerRight.addPoint(x),y.addGeometry(centerRight),l=m(bzPoints,z,.02,e)[0],o=m(bzPoints,z,.98,f)[0],e=m(bzPoints,z,.02,e)[1],f=m(bzPoints,z,.98,f)[1],inflexionPt1=k(this.p1,l,this.p1,A,!1),inflexionPt2=k(this.p1,l,l,A,!1),pcPl1=new d,pcPl1=getMapPoints(inflexionPt2,inflexionPt1,this.p1),y.addGeometry(pcPl1);var D=bzPoints.length;p=bzPoints[D-1],inflexionPt3=k(p,o,p,A,!1),inflexionPt4=k(p,o,o,A,!1),pcPl2=new d,pcPl2=getMapPoints(inflexionPt4,inflexionPt3,p),y.addGeometry(pcPl2),pcPline1=new d;for(var E=0;b>E;E++)pcPline1.addPoint(bzPoints[E]);pcPline1.addPoint(g),y.addGeometry(pcPline1),pcPline2=new d,pcPline2.addPoint(i);for(var C=c;D>C;C++)pcPline2.addPoint(bzPoints[C]);return y.addGeometry(pcPline2),[y]},o.prototype.getType=function(){return"reccesearch"},o}(b,Rd,Sd,B,v,C,F,E),Ie=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint,c.pathLength,c.vertex,c.angle,c.bzLine),k=(c.gainPt,c.distance),l=c.calLinePerpenPoints,m=c.optionWay,n=function(a){this.$type="RendezvousArea1Algorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:3};b.call(this,a)};return i(n,b),n.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),f=c.length,g=new e,i=new e,o=new e,p=new e,q=new e,r=new e,s=new e,t=new e,u=new e,v=0,w=0,x=1e-9,y=0,z=[],A=new e,B=!1;if(1==f){if(z[0]=c[0],null!=b)if(c[0].x==b.x||c[0].y==b.y){var C=new e({x:b.x+x,y:b.y});z[1]=C}else z[1]=b;var D=new e;y=k(z[0],z[1]),l(z[0],z[1],y/2,y/2,A,D,!0),z[2]=D}else if(2==f){for(var E=0;f>E;E++)z[E]=c[E];if(null!=b)if(c[1].x==b.x||c[1].y==b.y){var C=new e({x:b.x+x,y:b.y});z[2]=C}else z[2]=b;else{var D=new e;y=k(z[0],z[1]),l(z[0],z[1],y/2,y/2,A,D,!0),z[2]=D}}else if(3==f)for(var E=0;f>E;E++)z[E]=c[E];var F=k(z[0],z[1])+x,G=k(z[1],z[2])+x,H=k(z[2],z[0])+x;G>F&&G>H?(A=z[0],z[0]=z[1],z[1]=z[2],z[2]=A):H>F&&H>G&&(A=z[1],z[1]=z[0],z[0]=z[2],z[2]=A),B=m(z[0],z[1],z[2]),v=(z[0].y-z[1].y)/(z[0].x-z[1].x+x),w=k(z[1],z[0])+x,z[0].y>z[1].y?0>v?n.calculatePoints(v,z[2],w/3,o,i):n.calculatePoints(v,z[2],w/3,i,o):0>v?n.calculatePoints(v,z[2],w/3,i,o):n.calculatePoints(v,z[2],w/3,o,i),v=(z[1].y-z[2].y)/(z[1].x-z[2].x+x),w=k(z[2],z[1])+x,z[1].y>z[2].y?0>v?n.calculatePoints(v,z[0],w/3,q,p):n.calculatePoints(v,z[0],w/3,p,q):0>v?n.calculatePoints(v,z[0],w/3,p,q):n.calculatePoints(v,z[0],w/3,q,p),v=(z[2].y-z[0].y)/(z[2].x-z[0].x+x),w=k(z[2],z[0])+x,z[2].y>z[0].y?0>v?n.calculatePoints(v,z[1],w/3,g,u):n.calculatePoints(v,z[1],w/3,u,g):0>v?n.calculatePoints(v,z[1],w/3,u,g):n.calculatePoints(v,z[1],w/3,g,u),s.x=(z[0].x+z[1].x)/2,s.y=(z[0].y+z[1].y)/2,v=(z[0].y-z[1].y)/(z[0].x-z[1].x+x),w=k(z[1],z[0])+x,z[0].y>z[1].y?0>v?n.calculatePoints(v,s,w/6,r,t):n.calculatePoints(v,s,w/6,t,r):0>v?n.calculatePoints(v,s,w/6,t,r):n.calculatePoints(v,s,w/6,r,t);var I=new Array;I[0]=z[0],I[1]=q,I[2]=r,I[3]=s;var J=new Array;J[0]=s,J[1]=t,J[2]=u,J[3]=z[1];var K=new Array;K[0]=z[1],K[1]=g,K[2]=i,K[3]=z[2];var L=new Array;L[0]=z[2],L[1]=o,L[2]=p,L[3]=z[0];for(var M=new d,N=new h,O=j(I),P=O.length,E=0;P>E;E++)M.addPoint(O[E]);O=j(J);for(var P=O.length,E=0;P>E;E++)M.addPoint(O[E]);O=j(K);for(var P=O.length,E=0;P>E;E++)M.addPoint(O[E]);O=j(L);for(var P=O.length,E=0;P>E;E++)M.addPoint(O[E]);return N.addGeometry(M),[N]},n.calculatePoints=function(a,b,c,d,e){var f=b.x,g=b.y,h=g-a*f,i=a*a+1,j=2*a*(h-g)-2*f,k=(h-g)*(h-g)+f*f-c*c;d.x=(-j-Math.sqrt(j*j-4*i*k))/(2*i),e.x=(-j+Math.sqrt(j*j-4*i*k))/(2*i),d.y=a*d.x+h,e.y=a*e.x+h},n.prototype.getType=function(){return"rendezvousarea1propety"},n}(b,Rd,Sd,B,v,C,F,E),Je=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint,c.pathLength),k=c.vertex,l=(c.angle,c.bzLine),m=c.gainPt,n=c.distance,o=c.calLinePerpenPoints,p=c.optionWay,q=function(a){this.$type="RendezvousArea2Algorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:3};b.call(this,a)};return i(q,b),q.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),f=c.length,i=new e,j=new e,k=new e,m=new e,r=new e,s=new e,t=new e,u=new e,v=new e,w=0,x=0,y=0,z=1e-9,A=[],B=new e,C=!1;if(1==f){if(A[0]=c[0],null!=b)if(c[0].x==b.x||c[0].y==b.y){var D=new e({x:b.x+z,y:b.y});A[1]=D}else A[1]=b;var E=new e;y=n(A[0],A[1]),o(A[0],A[1],y/2,y/2,B,E,!0),A[2]=E}else if(2==f){for(var F=0;f>F;F++)A[F]=c[F];if(null!=b)if(c[1].x==b.x||c[1].y==b.y){var D=new e({x:b.x+z,y:b.y});A[2]=D}else A[2]=b;else{var E=new e;y=n(A[0],A[1]),o(A[0],A[1],y/2,y/2,B,E,!0),A[2]=E}}else if(3==f)for(var F=0;f>F;F++)A[F]=c[F];var G=n(A[0],A[1])+z,H=n(A[1],A[2])+z,I=n(A[2],A[0])+z;H>G&&H>I?(B=A[0],A[0]=A[1],A[1]=A[2],A[2]=B):I>G&&I>H&&(B=A[1],A[1]=A[0],A[0]=A[2],A[2]=B),C=p(A[0],A[1],A[2]),w=(A[0].y-A[1].y)/(A[0].x-A[1].x+z),x=n(A[1],A[0])+z,A[0].y>A[1].y?0>w?q.calculatePoints(w,A[2],x/3,k,j):q.calculatePoints(w,A[2],x/3,j,k):0>w?q.calculatePoints(w,A[2],x/3,j,k):q.calculatePoints(w,A[2],x/3,k,j),w=(A[1].y-A[2].y)/(A[1].x-A[2].x+z),x=n(A[2],A[1])+z,A[1].y>A[2].y?0>w?q.calculatePoints(w,A[0],x/3,r,m):q.calculatePoints(w,A[0],x/3,m,r):0>w?q.calculatePoints(w,A[0],x/3,m,r):q.calculatePoints(w,A[0],x/3,r,m),w=(A[2].y-A[0].y)/(A[2].x-A[0].x+z),x=n(A[2],A[0])+z,A[2].y>A[0].y?0>w?q.calculatePoints(w,A[1],x/3,i,v):q.calculatePoints(w,A[1],x/3,v,i):0>w?q.calculatePoints(w,A[1],x/3,v,i):q.calculatePoints(w,A[1],x/3,i,v),t.x=(A[0].x+A[1].x)/2,t.y=(A[0].y+A[1].y)/2,w=(A[0].y-A[1].y)/(A[0].x-A[1].x+z),x=n(A[1],A[0])+z,A[0].y>A[1].y?0>w?q.calculatePoints(w,t,x/6,s,u):q.calculatePoints(w,t,x/6,u,s):0>w?q.calculatePoints(w,t,x/6,u,s):q.calculatePoints(w,t,x/6,s,u);var J=new Array;J[0]=A[0],J[1]=r,J[2]=s,J[3]=t;var K=new Array;K[0]=t,K[1]=u,K[2]=v,K[3]=A[1];var L=new Array;L[0]=A[1],L[1]=i,L[2]=j,L[3]=A[2];var M=new Array;M[0]=A[2],M[1]=k,M[2]=m,M[3]=A[0];var N=new d,O=new h,P=l(J),Q=P.length;this.bzPoints=[];for(var F=0;Q>F;F++)N.addPoint(P[F]),this.bzPoints.push(P[F]);P=l(K);for(var Q=P.length,F=0;Q>F;F++)N.addPoint(P[F]),this.bzPoints.push(P[F]);P=l(L);for(var Q=P.length,F=0;Q>F;F++)N.addPoint(P[F]),this.bzPoints.push(P[F]);P=l(M);for(var Q=P.length,F=0;Q>F;F++)N.addPoint(P[F]),this.bzPoints.push(P[F]);O.addGeometry(N);var R=new g;return R=this.getGraphParts(1),[O,R]},q.prototype.getGraphParts=function(){var a,b,c,d=4*j(this.bzPoints)/3;pl1=m(this.bzPoints,d,.11,a)[0],pr1=m(this.bzPoints,d,.13,b)[0],midp1=m(this.bzPoints,d,.12,c)[0],distance1=n(pl1,pr1),pt1=k(pl1,pr1,midp1,distance1,!1),arrow1=new f,arrow1.addPoint(pl1),arrow1.addPoint(pt1),arrow1.addPoint(pr1),arrow1.addPoint(pl1),pl2=m(this.bzPoints,d,.34,a)[0],pr2=m(this.bzPoints,d,.36,b)[0],midp2=m(this.bzPoints,d,.35,c)[0],distance2=n(pl2,pr2),pt2=k(pl2,pr2,midp2,distance2,!1),arrow2=new f,arrow2.addPoint(pl2),arrow2.addPoint(pt2),arrow2.addPoint(pr2),arrow2.addPoint(pl2),pl3=m(this.bzPoints,d,.7,a)[0],pr3=m(this.bzPoints,d,.72,b)[0],midp3=m(this.bzPoints,d,.71,c)[0],distance3=n(pl3,pr3),pt3=k(pl3,pr3,midp3,distance3,!1),arrow3=new f,arrow3.addPoint(pl3),arrow3.addPoint(pt3),arrow3.addPoint(pr3),arrow3.addPoint(pl3),pl4=m(this.bzPoints,d,.49,a)[0],pr4=m(this.bzPoints,d,.51,b)[0],midp4=m(this.bzPoints,d,.5,c)[0],distance4=n(pl4,pr4),pt4=k(pl4,pr4,midp4,distance4,!1),arrow4=new f,arrow4.addPoint(pl4),arrow4.addPoint(pt4),arrow4.addPoint(pr4),arrow4.addPoint(pl4);var e=new g;return e.addGeometry(arrow1),e.addGeometry(arrow2),e.addGeometry(arrow3),e.addGeometry(arrow4),e},q.calculatePoints=function(a,b,c,d,e){var f=b.x,g=b.y,h=g-a*f,i=a*a+1,j=2*a*(h-g)-2*f,k=(h-g)*(h-g)+f*f-c*c;d.x=(-j-Math.sqrt(j*j-4*i*k))/(2*i),e.x=(-j+Math.sqrt(j*j-4*i*k))/(2*i),d.y=a*d.x+h,e.y=a*e.x+h},q.prototype.getType=function(){return"rendezvousarea2propety"},q}(b,Rd,Sd,B,v,C,F,E),Ke=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint,c.pathLength),k=c.vertex,l=(c.angle,c.bzLine),m=c.gainPt,n=c.distance,o=c.calLinePerpenPoints,p=c.optionWay,q=function(a){this.$type="RendezvousArea3Algorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:3};b.call(this,a)};return i(q,b),q.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),f=c.length,g=new e,i=new e,j=new e,k=new e,m=new e,r=new e,s=new e,t=new e,u=new e,v=0,w=0,x=0,y=1e-9,z=[],A=new e,B=!1;if(1==f){if(z[0]=c[0],null!=b)if(c[0].x==b.x||c[0].y==b.y){var C=new e({x:b.x+y,y:b.y});z[1]=C}else z[1]=b;var D=new e;x=n(z[0],z[1]),o(z[0],z[1],x/2,x/2,A,D,!0),z[2]=D}else if(2==f){for(var E=0;f>E;E++)z[E]=c[E];if(null!=b)if(c[1].x==b.x||c[1].y==b.y){var C=new e({x:b.x+y,y:b.y});z[2]=C}else z[2]=b;else{var D=new e;x=n(z[0],z[1]),o(z[0],z[1],x/2,x/2,A,D,!0),z[2]=D}}else if(3==f)for(var E=0;f>E;E++)z[E]=c[E];var F=n(z[0],z[1])+y,G=n(z[1],z[2])+y,H=n(z[2],z[0])+y;G>F&&G>H?(A=z[0],z[0]=z[1],z[1]=z[2],z[2]=A):H>F&&H>G&&(A=z[1],z[1]=z[0],z[0]=z[2],z[2]=A),B=p(z[0],z[1],z[2]),v=(z[0].y-z[1].y)/(z[0].x-z[1].x+y),w=n(z[1],z[0])+y,z[0].y>z[1].y?0>v?q.calculatePoints(v,z[2],w/3,j,i):q.calculatePoints(v,z[2],w/3,i,j):0>v?q.calculatePoints(v,z[2],w/3,i,j):q.calculatePoints(v,z[2],w/3,j,i),v=(z[1].y-z[2].y)/(z[1].x-z[2].x+y),w=n(z[2],z[1])+y,z[1].y>z[2].y?0>v?q.calculatePoints(v,z[0],w/3,m,k):q.calculatePoints(v,z[0],w/3,k,m):0>v?q.calculatePoints(v,z[0],w/3,k,m):q.calculatePoints(v,z[0],w/3,m,k),v=(z[2].y-z[0].y)/(z[2].x-z[0].x+y),w=n(z[2],z[0])+y,z[2].y>z[0].y?0>v?q.calculatePoints(v,z[1],w/3,g,u):q.calculatePoints(v,z[1],w/3,u,g):0>v?q.calculatePoints(v,z[1],w/3,u,g):q.calculatePoints(v,z[1],w/3,g,u),s.x=(z[0].x+z[1].x)/2,s.y=(z[0].y+z[1].y)/2,v=(z[0].y-z[1].y)/(z[0].x-z[1].x+y),w=n(z[1],z[0])+y,z[0].y>z[1].y?0>v?q.calculatePoints(v,s,w/6,r,t):q.calculatePoints(v,s,w/6,t,r):0>v?q.calculatePoints(v,s,w/6,t,r):q.calculatePoints(v,s,w/6,r,t);
var I=new Array;I[0]=z[0],I[1]=m,I[2]=r,I[3]=s;var J=new Array;J[0]=s,J[1]=t,J[2]=u,J[3]=z[1];var K=new Array;K[0]=z[1],K[1]=g,K[2]=i,K[3]=z[2];var L=new Array;L[0]=z[2],L[1]=j,L[2]=k,L[3]=z[0];var M=new d;this.drawLine=new h;var N=l(I),O=N.length;this.bzPoints=[];for(var E=0;O>E;E++)M.addPoint(N[E]),this.bzPoints.push(N[E]);N=l(J);for(var O=N.length,E=0;O>E;E++)M.addPoint(N[E]),this.bzPoints.push(N[E]);N=l(K);for(var O=N.length,E=0;O>E;E++)M.addPoint(N[E]),this.bzPoints.push(N[E]);N=l(L);for(var O=N.length,E=0;O>E;E++)M.addPoint(N[E]),this.bzPoints.push(N[E]);return this.drawLine.addGeometry(M),this.getGraphParts(1),[this.drawLine]},q.prototype.getGraphParts=function(){var a,b,c,e=4*j(this.bzPoints)/3;return pl1=m(this.bzPoints,e,.11,a)[0],pr1=m(this.bzPoints,e,.13,b)[0],midp1=m(this.bzPoints,e,.12,c)[0],distance1=n(pl1,pr1),pt1=k(pl1,pr1,midp1,distance1,!1),arrow1=new d,arrow1.addPoint(pl1),arrow1.addPoint(pt1),arrow1.addPoint(pr1),arrow1.addPoint(pl1),pl2=m(this.bzPoints,e,.34,a)[0],pr2=m(this.bzPoints,e,.36,b)[0],midp2=m(this.bzPoints,e,.35,c)[0],distance2=n(pl2,pr2),pt2=k(pl2,pr2,midp2,distance2,!1),arrow2=new d,arrow2.addPoint(pl2),arrow2.addPoint(pt2),arrow2.addPoint(pr2),arrow2.addPoint(pl2),pl3=m(this.bzPoints,e,.7,a)[0],pr3=m(this.bzPoints,e,.72,b)[0],midp3=m(this.bzPoints,e,.71,c)[0],distance3=n(pl3,pr3),pt3=k(pl3,pr3,midp3,distance3,!1),arrow3=new d,arrow3.addPoint(pl3),arrow3.addPoint(pt3),arrow3.addPoint(pr3),arrow3.addPoint(pl3),pl4=m(this.bzPoints,e,.49,a)[0],pr4=m(this.bzPoints,e,.51,b)[0],midp4=m(this.bzPoints,e,.5,c)[0],distance4=n(pl4,pr4),pt4=k(pl4,pr4,midp4,distance4,!1),arrow4=new d,arrow4.addPoint(pl4),arrow4.addPoint(pt4),arrow4.addPoint(pr4),arrow4.addPoint(pl4),this.drawLine.addGeometry(arrow1),this.drawLine.addGeometry(arrow2),this.drawLine.addGeometry(arrow3),this.drawLine.addGeometry(arrow4),this.drawLine},q.calculatePoints=function(a,b,c,d,e){var f=b.x,g=b.y,h=g-a*f,i=a*a+1,j=2*a*(h-g)-2*f,k=(h-g)*(h-g)+f*f-c*c;d.x=(-j-Math.sqrt(j*j-4*i*k))/(2*i),e.x=(-j+Math.sqrt(j*j-4*i*k))/(2*i),d.y=a*d.x+h,e.y=a*e.x+h},q.prototype.getType=function(){return"rendezvousarea3propety"},q}(b,Rd,Sd,B,v,C,F,E),Le=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint,c.pathLength),k=c.vertex,l=(c.angle,c.bzLine),m=c.gainPt,n=c.distance,o=c.calLinePerpenPoints,p=c.optionWay,q=function(a){this.$type="RendezvousArea4Algorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:3};b.call(this,a)};return i(q,b),q.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),f=c.length,i=new e,j=new e,k=new e,m=new e,r=new e,s=new e,t=new e,u=new e,v=new e,w=0,x=0,y=0,z=[],A=new e,B=!1,C=1e-9;if(1==f){if(z[0]=c[0],null!=b)if(c[0].x==b.x||c[0].y==b.y){var D=new e({x:b.x+C,y:b.y});z[1]=D}else z[1]=b;var E=new e;y=n(z[0],z[1]),o(z[0],z[1],y/2,y/2,A,E,!0),z[2]=E}else if(2==f){for(var F=0;f>F;F++)z[F]=c[F];if(null!=b)if(c[1].x==b.x||c[1].y==b.y){var D=new e({x:b.x+C,y:b.y});z[2]=D}else z[2]=b;else{var E=new e;y=n(z[0],z[1]),o(z[0],z[1],y/2,y/2,A,E,!0),z[2]=E}}else if(3==f)for(var F=0;f>F;F++)z[F]=c[F];var G=n(z[0],z[1])+C,H=n(z[1],z[2])+C,I=n(z[2],z[0])+C;H>G&&H>I?(A=z[0],z[0]=z[1],z[1]=z[2],z[2]=A):I>G&&I>H&&(A=z[1],z[1]=z[0],z[0]=z[2],z[2]=A),B=p(z[0],z[1],z[2]),w=(z[0].y-z[1].y)/(z[0].x-z[1].x+C),x=n(z[1],z[0])+C,z[0].y>z[1].y?0>w?q.calculatePoints(w,z[2],x/3,k,j):q.calculatePoints(w,z[2],x/3,j,k):0>w?q.calculatePoints(w,z[2],x/3,j,k):q.calculatePoints(w,z[2],x/3,k,j),w=(z[1].y-z[2].y)/(z[1].x-z[2].x+C),x=n(z[2],z[1])+C,z[1].y>z[2].y?0>w?q.calculatePoints(w,z[0],x/3,r,m):q.calculatePoints(w,z[0],x/3,m,r):0>w?q.calculatePoints(w,z[0],x/3,m,r):q.calculatePoints(w,z[0],x/3,r,m),w=(z[2].y-z[0].y)/(z[2].x-z[0].x+C),x=n(z[2],z[0])+C,z[2].y>z[0].y?0>w?q.calculatePoints(w,z[1],x/3,i,v):q.calculatePoints(w,z[1],x/3,v,i):0>w?q.calculatePoints(w,z[1],x/3,v,i):q.calculatePoints(w,z[1],x/3,i,v),t.x=(z[0].x+z[1].x)/2,t.y=(z[0].y+z[1].y)/2,w=(z[0].y-z[1].y)/(z[0].x-z[1].x+C),x=n(z[1],z[0])+C,z[0].y>z[1].y?0>w?q.calculatePoints(w,t,x/6,s,u):q.calculatePoints(w,t,x/6,u,s):0>w?q.calculatePoints(w,t,x/6,u,s):q.calculatePoints(w,t,x/6,s,u);var J=new Array;J[0]=z[0],J[1]=r,J[2]=s,J[3]=t;var K=new Array;K[0]=t,K[1]=u,K[2]=v,K[3]=z[1];var L=new Array;L[0]=z[1],L[1]=i,L[2]=j,L[3]=z[2];var M=new Array;M[0]=z[2],M[1]=k,M[2]=m,M[3]=z[0];var N=new d,O=new h,P=l(J),Q=P.length;this.bzPoints=[];for(var F=0;Q>F;F++)N.addPoint(P[F]),this.bzPoints.push(P[F]);P=l(K);for(var Q=P.length,F=0;Q>F;F++)N.addPoint(P[F]),this.bzPoints.push(P[F]);P=l(L);for(var Q=P.length,F=0;Q>F;F++)N.addPoint(P[F]),this.bzPoints.push(P[F]);P=l(M);for(var Q=P.length,F=0;Q>F;F++)N.addPoint(P[F]),this.bzPoints.push(P[F]);O.addGeometry(N);var R=new g;return R=this.getGraphParts(1),[O,R]},q.prototype.getGraphParts=function(){var a,b,c,d=4*j(this.bzPoints)/3;pl1=m(this.bzPoints,d,.11,a)[0],pr1=m(this.bzPoints,d,.13,b)[0],midp1=m(this.bzPoints,d,.12,c)[0],distance1=n(pl1,pr1),pt1=k(pl1,pr1,midp1,distance1,!0),arrow1=new f,arrow1.addPoint(pl1),arrow1.addPoint(pt1),arrow1.addPoint(pr1),arrow1.addPoint(pl1),pl2=m(this.bzPoints,d,.34,a)[0],pr2=m(this.bzPoints,d,.36,b)[0],midp2=m(this.bzPoints,d,.35,c)[0],distance2=n(pl2,pr2),pt2=k(pl2,pr2,midp2,distance2,!0),arrow2=new f,arrow2.addPoint(pl2),arrow2.addPoint(pt2),arrow2.addPoint(pr2),arrow2.addPoint(pl2),pl3=m(this.bzPoints,d,.7,a)[0],pr3=m(this.bzPoints,d,.72,b)[0],midp3=m(this.bzPoints,d,.71,c)[0],distance3=n(pl3,pr3),pt3=k(pl3,pr3,midp3,distance3,!0),arrow3=new f,arrow3.addPoint(pl3),arrow3.addPoint(pt3),arrow3.addPoint(pr3),arrow3.addPoint(pl3),pl4=m(this.bzPoints,d,.49,a)[0],pr4=m(this.bzPoints,d,.51,b)[0],midp4=m(this.bzPoints,d,.5,c)[0],distance4=n(pl4,pr4),pt4=k(pl4,pr4,midp4,distance4,!0),arrow4=new f,arrow4.addPoint(pl4),arrow4.addPoint(pt4),arrow4.addPoint(pr4),arrow4.addPoint(pl4);var e=new g;return e.addGeometry(arrow1),e.addGeometry(arrow2),e.addGeometry(arrow3),e.addGeometry(arrow4),e},q.calculatePoints=function(a,b,c,d,e){var f=b.x,g=b.y,h=g-a*f,i=a*a+1,j=2*a*(h-g)-2*f,k=(h-g)*(h-g)+f*f-c*c;d.x=(-j-Math.sqrt(j*j-4*i*k))/(2*i),e.x=(-j+Math.sqrt(j*j-4*i*k))/(2*i),d.y=a*d.x+h,e.y=a*e.x+h},q.prototype.getType=function(){return"rendezvousarea4propety"},q}(b,Rd,Sd,B,v,C,F,E),Me=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint,c.pathLength,c.vertex),k=c.angle,l=(c.bzLine,c.gainPt,c.distance);polarAngle360=c.polarAngle360,midPoint=c.midPoint,getPolarPointOfCenterPoint=c.getPolarPointOfCenterPoint,azimuth=c.azimuth;var m=function(a){this.$type="OriginalBirthAlgorithm,http://www.Gs.com";var a={minCpt:1,maxCpt:2};b.call(this,a);this.p1=null,this.p2=null};return i(m,b),m.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1==e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}return 2==e?(this.p1=c[0],this.p2=c[1],this.getGraphParts(1)):void 0},m.prototype.getGraphParts=function(){r1=l(this.p1,this.p2)/8;var a=100,b=2*Math.PI,c=new d;c.points=[];for(var f=0;a>f;f++){var g=b*f/a;c.addPoint(new e({x:this.p1.x+r1*Math.sin(g),y:this.p1.y+r1*Math.cos(g)}))}c.addPoint(new e({x:this.p1.x,y:this.p1.y+r1}));var i=new h;i.addGeometry(c);var k=new d;k.addPoint(this.p1),k.addPoint(this.p2),i.addGeometry(k);var n=j(this.p1,this.p2,this.p1,r1,!1),o=j(this.p1,this.p2,this.p1,r1,!0),p=new e,q=new e;pt=m.getArcCrunode(this.p1,this.p2),p=pt[0],q=pt[1];for(var r=l(this.p1,this.p2),s=new d,g=30,t=polarAngle360(this.p1,q),f=t;g+t>=f;f++)s.addPoint(getPolarPointOfCenterPoint(this.p1,f,r));i.addGeometry(s);var u=new d;u.addPoint(n),u.addPoint(p),i.addGeometry(u);var v=new d;v.addPoint(o),v.addPoint(q),i.addGeometry(v);var w=new d;return w.addPoint(n),w.addPoint(o),i.addGeometry(w),[i]},m.getArcCrunode=function(a,b){var c=k(a,b);90==c?c=270:270==c&&(c=90);var d=l(a,b),f=[];f[0]=new e,f[1]=new e;var g=c-15;0>g&&(g=c+360-15),f[0].x=a.x+d*Math.cos(g*Math.PI/180),f[0].y=a.y-d*Math.sin(g*Math.PI/180);var h=c+15;return h>360&&(h-=360),f[1].x=a.x+d*Math.cos(h*Math.PI/180),f[1].y=a.y-d*Math.sin(h*Math.PI/180),f},m.prototype.getType=function(){return"originalbirthpropety"},m}(b,Rd,Sd,B,v,C,F,E),Ne=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=a.deepCopy,k=c.scalePoint,l=c.pathLength,m=c.vertex,n=c.angle,o=(c.bzLine,c.bTypeline),p=c.gainPt,q=c.distance,r=function(a){this.$type="SeaMobileAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:10};b.call(this,a);this.p1=null,this.p2=null};return i(r,b),r.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=o(i),this.getGraphParts(1)},r.prototype.getGraphParts=function(a){var b=new h,c=new d,i=new d,o=new d,r=new d,s=new e,t=new e,u=new e,v=new e,w=new e,x=new e,y=new e;distance1=l(bzPoints);var z,A,B,C=distance1*a/30;s=p(bzPoints,distance1,3/7,z)[0],t=p(bzPoints,distance1,4/7,A)[0],z=p(bzPoints,distance1,3/7,z)[1],A=p(bzPoints,distance1,4/7,A)[1],u=m(s,t,s,C,!1),v=m(s,t,s,C,!0),w=m(s,t,t,C,!0);var D=n(s,t);90==D?D=270:270==D&&(D=90);var E=q(s,t),F=new e;F.x=s.x+.8*E*Math.cos(D*Math.PI/180),F.y=s.y-.8*E*Math.sin(D*Math.PI/180),x=m(s,t,F,C,!1),i.addPoint(u),i.addPoint(v),i.addPoint(w),i.addPoint(t),i.addPoint(x),i.addPoint(u),b.addGeometry(i),tempx1=s.x+.2*E*Math.cos(D*Math.PI/180),tempy1=s.y-.2*E*Math.sin(D*Math.PI/180);var G=new e,G=new e({x:tempx1,y:tempy1});y=m(s,t,G,.15*E,!1),tempx2=s.x+.5*E*Math.cos(D*Math.PI/180),tempy2=s.y-.5*E*Math.sin(D*Math.PI/180);var H=new e,H=new e({x:tempx2,y:tempy2});p10=m(s,t,H,.15*E,!1),p11=m(s,t,H,.15*E,!0),tempx3=s.x+.8*E*Math.cos(D*Math.PI/180),tempy3=s.y-.8*E*Math.sin(D*Math.PI/180);var I=new e,I=new e({x:tempx3,y:tempy3});p12=m(s,t,I,.15*E,!0);var J=new e;J=k(p10,p12,.6),r.addPoint(y),r.addPoint(p11),r.addPoint(p10),r.addPoint(J),b.addGeometry(r),distance3=q(J,p12),p13=m(J,p12,J,distance3/3,!0),p14=m(J,p12,J,distance3/3,!1);var K=[p13,p12,p14,p13],L=new f;L.points.length>0?L.points=K:L.addPoint(K);var M=new g;M.addGeometry(L);for(var N=0;z>N;N++)c.addPoint(bzPoints[N]);c.addPoint(s),b.addGeometry(c),o.addPoint(t);for(var O=bzPoints.length,P=A;O>P;P++)o.addPoint(bzPoints[P]);b.addGeometry(o),am1=p(bzPoints,distance1,12.7/13,B)[0];var Q=j(bzPoints[O-1]),R=new e;R=k(am1,Q,2.5),arrow1=m(am1,Q,am1,C/2,!0),arrow2=m(am1,Q,am1,C/2,!1);var K=[arrow1,R,arrow2,Q,arrow1],S=new f;return S.points.length>0?S.points=K:S.addPoint(K),M.addGeometry(S),[M,b]},r.prototype.getType=function(){return"seamobilepropety"},r}(b,Rd,Sd,B,v,C,F,E),Oe=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint,c.pathLength),k=(c.vertex,c.angle,c.bzLine,c.bTypeline),l=c.gainPt,m=c.distance,n=function(a){this.$type="StakeAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:10};b.call(this,a);this.p1=null,this.p2=null};return i(n,b),n.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=k(i),this.getGraphParts(1)},n.prototype.getGraphParts=function(a){for(var b,c=j(bzPoints),f=c*a/120,g=parseInt(c/f),i=new e({x:bzPoints[0].x,y:bzPoints[0].y}),k=new e,n=new e,o=new e,p=new h,q=(new h,[]),r=1;g+1>r;r++){var s=r/g,t=null;t=1==s?bzPoints[bzPoints.length-1]:0==s?bzPoints[0]:l(bzPoints,c,s,b)[0],linePerpenPoints(i,t,m(i,t),.66*f,k,n,!0),linePerpenPoints(i,t,m(i,t),.66*f,k,o,!1),q[parseInt(r)]=new d,q[parseInt(r)].addPoint(new e({x:n.x,y:n.y})),q[parseInt(r)].addPoint(new e({x:o.x,y:o.y})),p.addGeometry(q[parseInt(r)]),i.x=t.x,i.y=t.y}return[p]},n.prototype.getType=function(){return"stakepropety"},n}(b,Rd,Sd,B,v,C,F,E),Pe=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint,c.pathLength),k=c.vertex,l=(c.angle,c.bzLine,c.bTypeline),m=c.gainPt,n=(c.distance,function(a){this.$type="UnderProp2Algorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null});return i(n,b),n.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=l(i),this.getGraphParts(1)},n.prototype.getGraphParts=function(a){var b,c,e,f,g=new h,i=j(bzPoints),l=i*a*4/60,n=.04;p1=m(bzPoints,i,n,b)[0],p2=m(bzPoints,i,1.25*n,c)[0],p3=k(p1,p2,p1,l/3,!1),p4=k(p1,p2,p2,l/3,!1);var o=new d;o.addPoint(p1),o.addPoint(p3);var p=new d;p.addPoint(p2),p.addPoint(p4),g.addGeometry(o),g.addGeometry(p),p1=m(bzPoints,i,1-n,e)[0],p2=m(bzPoints,i,1-1.25*n,f)[0],p3=k(p1,p2,p1,l/3,!0),p4=k(p1,p2,p2,l/3,!0);var q=new d;q.addPoint(p1),q.addPoint(p3);var r=new d;r.addPoint(p2),r.addPoint(p4),g.addGeometry(q),g.addGeometry(r);for(var s=new d,t=bzPoints.length,u=0;t-1>=u;u++)s.addPoint(bzPoints[u]);return g.addGeometry(s),[g]},n.prototype.getType=function(){return"underprop2propety"},n}(b,Rd,Sd,B,v,C,F,E),Qe=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint,c.pathLength),k=c.vertex,l=(c.angle,c.bzLine,c.bTypeline),m=c.gainPt,n=function(a){this.$type="UnderProp3Algorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null};return i(n,b),n.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=l(i),this.getGraphParts(1)},n.prototype.getGraphParts=function(a){var b,c,e,f,g=new h,i=j(bzPoints),l=i*a*4/60,n=.04;p1=m(bzPoints,i,n,b)[0],p2=m(bzPoints,i,1.25*n,c)[0],p3=k(p1,p2,p1,l/3,!1),p4=k(p1,p2,p2,l/3,!1);var o=new d;o.addPoint(p1),o.addPoint(p3);var p=new d;p.addPoint(p2),p.addPoint(p4),g.addGeometry(o),g.addGeometry(p),p1=m(bzPoints,i,1-n,e)[0],p2=m(bzPoints,i,1-1.25*n,f)[0],p3=k(p1,p2,p1,l/3,!0),p4=k(p1,p2,p2,l/3,!0);var q=new d;q.addPoint(p1),q.addPoint(p3);var r=new d;r.addPoint(p2),r.addPoint(p4),g.addGeometry(q),g.addGeometry(r),p1=m(bzPoints,i,.5-n/6,e)[0],p2=m(bzPoints,i,.5+n/6,f)[0],p3=k(p1,p2,p1,l/3,!1),p4=k(p1,p2,p2,l/3,!1);var s=new d;s.addPoint(p1),s.addPoint(p3);var t=new d;t.addPoint(p2),t.addPoint(p4),g.addGeometry(s),g.addGeometry(t);for(var u=new d,v=bzPoints.length,w=0;v-1>=w;w++)u.addPoint(bzPoints[w]);return g.addGeometry(u),[g]},n.prototype.getType=function(){return"underprop3propety"},n}(b,Rd,Sd,B,v,C,F,E),Re=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint,c.pathLength),k=c.vertex,l=c.bTypeline,m=(c.angle,c.bzLine,c.gainPt),n=(c.distance,function(a){this.$type="ImportantPlaceAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null});return i(n,b),n.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=l(i),this.getGraphParts(1)},n.prototype.getGraphParts=function(a){var b,c,e,i,l=new h,n=new g,o=j(bzPoints),p=o*a/60,q=1/60;p1=m(bzPoints,o,0,b)[0],p2=m(bzPoints,o,q,c)[0],p3=k(p1,p2,p1,p,!1),p4=k(p1,p2,p2,p,!1);var r=new f,s=[p1,p3,p4,p2,p1];r.addPoint(s),n.addGeometry(r),p1=bzPoints[bzPoints.length-1],p2=m(bzPoints,o,1-q,i)[0],p3=k(p1,p2,p1,p,!0),p4=k(p1,p2,p2,p,!0);var t=new f,s=[p1,p3,p4,p2,p1];t.addPoint(s),n.addGeometry(t),p1=m(bzPoints,o,.5-q/2,e)[0],p2=m(bzPoints,o,.5+q/2,i)[0],p3=k(p1,p2,p1,p,!1),p4=k(p1,p2,p2,p,!1);var u=new f,s=[p1,p3,p4,p2,p1];u.addPoint(s),n.addGeometry(u);for(var v=new d,w=bzPoints.length,x=0;w-1>=x;x++)v.addPoint(bzPoints[x]);return l.addGeometry(v),[n,l]},n.prototype.getType=function(){return"importantplacepropety"},n}(b,Rd,Sd,B,v,C,F,E),Se=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint,c.pathLength),k=c.vertex,l=c.angle,m=(c.bzLine,c.bTypeline),n=c.gainPt,o=c.distance,q=function(a){this.$type="CurrentTaskLineAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:10};b.call(this,a);this.p1=null,this.p2=null};return i(q,b),q.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=m(i),this.getGraphParts(1)},q.prototype.getGraphParts=function(a){var b=new h,c=new d,f=new d,g=new d,i=new d,m=new d,q=new d,r=new e,s=new e;distance1=j(bzPoints);var t,u,v,w,x=distance1/160,y=distance1*a/100;4>y&&(y=4);var z=distance1*a/80;2>z&&(y=2),p=n(bzPoints,distance1,0,t)[0],r=n(bzPoints,distance1,6/13,t)[0],s=n(bzPoints,distance1,7/13,u)[0],dx=p.x,dy=p.y;for(var A=40,B=new e,C=new e,D=1/A;6/13>=D;D+=1/A){tempx1=dx,tempy1=dy,B.x=tempx1,B.y=tempy1,C=n(bzPoints,distance1,D,v)[0],tempx=C.x,tempy=C.y,angle0=l(B,C),tempx1+=x*a*Math.cos(angle0*Math.PI/180),tempy1-=x*a*Math.sin(angle0*Math.PI/180),ps1=new e({x:tempx1,y:tempy1}),C=new e({x:tempx,y:tempy});var E=new d;E.addPoint(ps1),E.addPoint(C),b.addGeometry(E),dx=C.x,dy=C.y}dx=s.x,dy=s.y;for(var D=7/13+1/A;1>D;D+=1/A){tempx1=dx,tempy1=dy,B.x=tempx1,B.y=tempy1,C=n(bzPoints,distance1,D,w)[0],tempx=C.x,tempy=C.y,angle0=l(B,C),tempx1+=x*a*Math.cos(angle0*Math.PI/180),tempy1-=x*a*Math.sin(angle0*Math.PI/180),ps1=new e({x:tempx1,y:tempy1}),C=new e({x:tempx,y:tempy});var E=new d;E.addPoint(ps1),E.addPoint(C),b.addGeometry(E),dx=C.x,dy=C.y}angle0=l(r,s),disttance2=o(r,s),y=disttance2/14;var F=new e;F.x=r.x+disttance2/7*Math.cos(angle0*Math.PI/180),F.y=r.y-disttance2/7*Math.sin(angle0*Math.PI/180),p5=k(r,s,F,y,!1),p6=k(r,s,F,y,!0);var G=new e;return G.x=r.x+2*disttance2/7*Math.cos(angle0*Math.PI/180),G.y=r.y-2*disttance2/7*Math.sin(angle0*Math.PI/180),p7=k(r,s,G,y,!1),p8=k(r,s,G,y,!0),c.addPoint(p5),c.addPoint(p8),b.addGeometry(c),f.addPoint(p6),f.addPoint(p7),b.addGeometry(f),F.x=r.x+3*disttance2/7*Math.cos(angle0*Math.PI/180),F.y=r.y-3*disttance2/7*Math.sin(angle0*Math.PI/180),p9=k(r,s,F,y,!1),p10=k(r,s,F,y,!0),G.x=r.x+4*disttance2/7*Math.cos(angle0*Math.PI/180),G.y=r.y-4*disttance2/7*Math.sin(angle0*Math.PI/180),p11=k(r,s,G,y,!1),p12=k(r,s,G,y,!0),g.addPoint(p9),g.addPoint(p12),b.addGeometry(g),i.addPoint(p10),i.addPoint(p11),b.addGeometry(i),F.x=r.x+5*disttance2/7*Math.cos(angle0*Math.PI/180),F.y=r.y-5*disttance2/7*Math.sin(angle0*Math.PI/180),p13=k(r,s,F,y,!1),p14=k(r,s,F,y,!0),G.x=r.x+6*disttance2/7*Math.cos(angle0*Math.PI/180),G.y=r.y-6*disttance2/7*Math.sin(angle0*Math.PI/180),p15=k(r,s,G,y,!1),p16=k(r,s,G,y,!0),m.addPoint(p13),m.addPoint(p16),b.addGeometry(m),q.addPoint(p14),q.addPoint(p15),b.addGeometry(q),[b]},q.prototype.getType=function(){return"currenttasklinepropety"},q}(b,Rd,Sd,B,v,C,F,E),Te=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint,c.pathLength),k=c.vertex,l=c.bTypeline,m=c.angle,n=(c.bzLine,c.gainPt),o=c.distance,p=function(a){this.$type="LatterTaskLineAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:10};b.call(this,a);this.p1=null,this.p2=null};return i(p,b),p.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=l(i),this.getGraphParts(1)},p.prototype.getGraphParts=function(a){var b=new h,c=new d,f=new d,g=new d,i=new d,l=new d,p=new d,q=new e,r=new e;distance1=j(bzPoints);var s,t,u,v,w=distance1/160,x=distance1*a/100;q=n(bzPoints,distance1,6/13,s)[0],r=n(bzPoints,distance1,7/13,t)[0];var y=40,z=new e,A=new e;dx=this.p1.x,dy=this.p1.y;for(var B=1/y;6/13>=B;B+=1/y){tempx1=dx,tempy1=dy,z.x=tempx1,z.y=tempy1,A=n(bzPoints,distance1,B,u)[0],tempx=A.x,tempy=A.y,angle0=m(z,A),tempx1+=w*a*Math.cos(angle0*Math.PI/180),tempy1-=w*a*Math.sin(angle0*Math.PI/180),ps1=new e({x:tempx1,y:tempy1}),A=new e({x:tempx,y:tempy}),pst=k(ps1,A,ps1,x/4,!0),psd=k(ps1,A,ps1,x/4,!1),pet=k(ps1,A,A,x/4,!0),ped=k(ps1,A,A,x/4,!1);var C=new d;C.addPoint(pst),C.addPoint(pet),b.addGeometry(C);var D=new d;D.addPoint(psd),D.addPoint(ped),b.addGeometry(D),dx=A.x,dy=A.y}dx=r.x,dy=r.y;for(var B=7/13+1/y;1>B;B+=1/y){tempx1=dx,tempy1=dy,z.x=tempx1,z.y=tempy1,A=n(bzPoints,distance1,B,v)[0],tempx=A.x,tempy=A.y,angle0=m(z,A),tempx1+=w*a*Math.cos(angle0*Math.PI/180),tempy1-=w*a*Math.sin(angle0*Math.PI/180),ps1=new e({x:tempx1,y:tempy1}),A=new e({x:tempx,y:tempy}),pst=k(ps1,A,ps1,x/4,!0),psd=k(ps1,A,ps1,x/4,!1),pet=k(ps1,A,A,x/4,!0),ped=k(ps1,A,A,x/4,!1);var C=new d;C.addPoint(pst),C.addPoint(pet),b.addGeometry(C);var D=new d;D.addPoint(psd),D.addPoint(ped),b.addGeometry(D),dx=A.x,dy=A.y}angle0=m(q,r),disttance2=o(q,r),x=disttance2/14;var E=new e;E.x=q.x+disttance2/7*Math.cos(angle0*Math.PI/180),E.y=q.y-disttance2/7*Math.sin(angle0*Math.PI/180),p5=k(q,r,E,x,!1),p6=k(q,r,E,x,!0);var F=new e;return F.x=q.x+2*disttance2/7*Math.cos(angle0*Math.PI/180),F.y=q.y-2*disttance2/7*Math.sin(angle0*Math.PI/180),p7=k(q,r,F,x,!1),p8=k(q,r,F,x,!0),c.addPoint(p5),c.addPoint(p8),b.addGeometry(c),f.addPoint(p6),f.addPoint(p7),b.addGeometry(f),E.x=q.x+3*disttance2/7*Math.cos(angle0*Math.PI/180),E.y=q.y-3*disttance2/7*Math.sin(angle0*Math.PI/180),p9=k(q,r,E,x,!1),p10=k(q,r,E,x,!0),F.x=q.x+4*disttance2/7*Math.cos(angle0*Math.PI/180),F.y=q.y-4*disttance2/7*Math.sin(angle0*Math.PI/180),p11=k(q,r,F,x,!1),p12=k(q,r,F,x,!0),g.addPoint(p9),g.addPoint(p12),b.addGeometry(g),i.addPoint(p10),i.addPoint(p11),b.addGeometry(i),E.x=q.x+5*disttance2/7*Math.cos(angle0*Math.PI/180),E.y=q.y-5*disttance2/7*Math.sin(angle0*Math.PI/180),p13=k(q,r,E,x,!1),p14=k(q,r,E,x,!0),F.x=q.x+6*disttance2/7*Math.cos(angle0*Math.PI/180),F.y=q.y-6*disttance2/7*Math.sin(angle0*Math.PI/180),p15=k(q,r,F,x,!1),p16=k(q,r,F,x,!0),l.addPoint(p13),l.addPoint(p16),b.addGeometry(l),p.addPoint(p14),p.addPoint(p15),b.addGeometry(p),[b]},p.prototype.getType=function(){return"lattertasklinepropety"},p}(b,Rd,Sd,B,v,C,F,E),Ue=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint),k=c.pathLength,l=c.vertex,m=(c.angle,c.bzLine,c.bTypeline),n=c.gainPt,o=c.distance;polarAngle360=c.polarAngle360,midPoint=c.midPoint,getPolarPointOfCenterPoint=c.getPolarPointOfCenterPoint,getMapPoints=c.getMapPoints;var p=function(a){this.$type="TankAttackAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null};return i(p,b),p.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=m(i),this.getGraphParts(1)},p.prototype.getGraphParts=function(a){var b,c,e,i,m,p,q,r=[],s=[],t=[],u=[],v=[],w=[],x=[],y=[],z=[],A=[],B=[],C=[],D=new h,E=k(bzPoints),F=E*a*4/150;r=n(bzPoints,E,5.8/15,b)[0],s=n(bzPoints,E,6.5/15,c)[0],b=n(bzPoints,E,5.8/15,b)[1],c=n(bzPoints,E,6.5/15,c)[1],centerPoint1=midPoint(r,s),w=l(r,centerPoint1,centerPoint1,1.5*F,!1),v=l(r,centerPoint1,centerPoint1,1.5*F,!0),pCRec1=new d,pCRec1.addPoint(r),pCRec1.addPoint(w),pCRec1.addPoint(s),pCRec1.addPoint(v),pCRec1.addPoint(r),D.addGeometry(pCRec1),t=n(bzPoints,E,8.5/15,e)[0],u=n(bzPoints,E,9.2/15,i)[0],e=n(bzPoints,E,8.5/15,e)[1],i=n(bzPoints,E,9.2/15,i)[1],centerPoint2=midPoint(t,u),y=l(t,centerPoint2,centerPoint2,1.5*F,!1),x=l(t,centerPoint2,centerPoint2,1.5*F,!0),pCRec2=new d,pCRec2.addPoint(t),pCRec2.addPoint(y),pCRec2.addPoint(u),pCRec2.addPoint(x),pCRec2.addPoint(t),D.addGeometry(pCRec2),z=n(bzPoints,E,.5,m)[0],A=n(bzPoints,E,.49,p)[0],B=n(bzPoints,E,.51,q)[0],m=n(bzPoints,E,.5,m)[1],p=n(bzPoints,E,.49,p)[1],q=n(bzPoints,E,.51,q)[1],C=l(A,B,z,5*F,!1),pcPl1=new d;for(var G=0;b>G;G++)pcPl1.addPoint(bzPoints[G]);pcPl1.addPoint(r),D.addGeometry(pcPl1),pcPl2=new d,pcPl2.addPoint(s);for(var H=c;e>H;H++)pcPl2.addPoint(bzPoints[H]);pcPl2.addPoint(t),D.addGeometry(pcPl2),pcPl3=new d,pcPl3.addPoint(u);for(var I=bzPoints.length,J=i;I>J;J++)pcPl3.addPoint(bzPoints[J]);D.addGeometry(pcPl3);var K=o(z,C),L=(z.x,z.y,j(z,C,.6)),M=(L.x,L.y,l(z,L,L,K/10,!0)),N=l(z,L,L,K/10,!1),O=j(z,C,.75),P=C,Q=new d;Q.addPoint(z),Q.addPoint(O),D.addGeometry(Q);var R=new f,S=[M,O,N,P,M];R.points.length>0?R.points=S:R.addPoint(S);var T=new g;return T.addGeometry(R),[T,D]},p.prototype.getType=function(){return"tankattack"},p}(b,Rd,Sd,B,v,C,F,E),Ve=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint,c.pathLength),k=c.bTypeline,l=c.vertex,m=(c.angle,c.bzLine,c.gainPt),n=c.distance;polarAngle360=c.polarAngle360,midPoint=c.midPoint,getPolarPointOfCenterPoint=c.getPolarPointOfCenterPoint,getMapPoints=c.getMapPoints;var o=function(a){this.$type="MusketryAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null};return i(o,b),o.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=k(i),this.getGraphParts(1)},o.prototype.getGraphParts=function(a){var b,c,e,f,g,i,k,o=[],p=[],q=[],s=[],t=[],u=[],v=[],w=[],x=[],y=[],z=[],A=[],B=[],C=[],D=[],E=[],F=[],G=[],H=new h,I=j(bzPoints),J=I*a*4/150,K=4*I*a/300;o=m(bzPoints,I,.4,b)[0],p=m(bzPoints,I,6.5/15,c)[0],b=m(bzPoints,I,.4,b)[1],c=m(bzPoints,I,6.5/15,c)[1],u=l(o,p,o,J,!1),t=l(o,p,o,1.5*J,!0),w=l(o,p,p,J,!1),v=l(o,p,p,1.5*J,!0),pCRec1=new d,pCRec1.addPoint(o),pCRec1.addPoint(u);var L=polarAngle360(u,w);B=midPoint(u,w);var M=n(u,w);rRec1=M/2;for(var N=L+180;N>=L;N--)pCRec1.addPoint(getPolarPointOfCenterPoint(B,N,rRec1));pCRec1.addPoint(w),pCRec1.addPoint(p),pCRec1.addPoint(v),pCRec1.addPoint(t),pCRec1.addPoint(o),H.addGeometry(pCRec1),q=m(bzPoints,I,8.5/15,e)[0],s=m(bzPoints,I,.6,f)[0],e=m(bzPoints,I,8.5/15,e)[1],f=m(bzPoints,I,.6,f)[1],y=l(q,s,q,J,!1),x=l(q,s,q,1.5*J,!0),A=l(q,s,s,J,!1),z=l(q,s,s,1.5*J,!0);var O=polarAngle360(y,A),P=n(y,A);rRec2=P/2,C=midPoint(y,A),pCRec2=new d,pCRec2.addPoint(q),pCRec2.addPoint(y);for(var Q=O+180;Q>=O;Q--)pCRec2.addPoint(getPolarPointOfCenterPoint(C,Q,rRec2));pCRec2.addPoint(A),pCRec2.addPoint(s),pCRec2.addPoint(z),pCRec2.addPoint(x),pCRec2.addPoint(q),H.addGeometry(pCRec2),centerPoint1=midPoint(o,p),centerPoint2=midPoint(q,s),r=K,pCCircle1=new d,pCCircle2=new d;for(var R=0;360>=R;R++)pCCircle1.addPoint(getPolarPointOfCenterPoint(centerPoint1,R,r)),pCCircle2.addPoint(getPolarPointOfCenterPoint(centerPoint2,R,r));H.addGeometry(pCCircle1),H.addGeometry(pCCircle2),D=m(bzPoints,I,.5,g)[0],E=m(bzPoints,I,.49,i)[0],F=m(bzPoints,I,.51,k)[0],g=m(bzPoints,I,.5,g)[1],i=m(bzPoints,I,.49,i)[1],k=m(bzPoints,I,.51,k)[1],G=l(E,F,D,5*J,!1),pcArrow=new d,pcArrow.addPoint(D),pcArrow.addPoint(G),H.addGeometry(pcArrow),pcPl1=new d;for(var S=0;b>S;S++)pcPl1.addPoint(bzPoints[S]);pcPl1.addPoint(o),H.addGeometry(pcPl1),pcPl2=new d,pcPl2.addPoint(p);for(var R=c;e>R;R++)pcPl2.addPoint(bzPoints[R]);pcPl2.addPoint(q),H.addGeometry(pcPl2),pcPl3=new d,pcPl3.addPoint(s);for(var T=(bzPoints.length,f);T<bzPoints.length;T++)pcPl3.addPoint(bzPoints[T]);return H.addGeometry(pcPl3),[H]},o.prototype.getType=function(){return"musketry3"},o}(b,Rd,Sd,B,v,C,F,E),We=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint),k=c.pathLength,l=c.vertex,m=c.angle,n=(c.bzLine,c.bTypeline),o=c.gainPt,p=c.distance,q=function(a){this.$type="NavalShipsAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:10};b.call(this,a);this.p1=null,this.p2=null};return i(q,b),q.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){var f=new d,g=new h;return f.addPoint(c[0]),f.addPoint(b),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=n(i),this.getGraphParts(1)},q.prototype.getGraphParts=function(a){{var b,c,i=new h,n=new d,q=new d,r=new d,s=new e,t=new e,u=new e,v=new e,w=new e,x=new e,y=k(bzPoints),z=y*a/70;parseInt(y/1e4)}v=o(bzPoints,y,1/13,b)[0],b=o(bzPoints,y,1/13,b)[1],x.x=v.x,x.y=v.y;var A=p(v,bzPoints[0]),B=m(bzPoints[0],v)*Math.PI/180,C=A*Math.cos(B),D=A*Math.sin(B);s=l(bzPoints[0],v,bzPoints[0],z,!1),t=l(bzPoints[0],v,bzPoints[0],z,!0),x.x=bzPoints[0].x+.8*C,x.y=bzPoints[0].y-.8*D,u=l(bzPoints[0],v,x,z,!1),w=l(bzPoints[0],v,x,z,!0),n.addPoint([u,s,t,w]),x.x=bzPoints[0].x+.7*C,x.y=bzPoints[0].y-.7*D,s=l(bzPoints[0],v,x,1.5*z,!1),t=l(bzPoints[0],v,x,1.5*z,!0),q.addPoint([s,v,t]),i.addGeometry(n),i.addGeometry(q);var E=new g,F=new e,G=new e;F=o(bzPoints,y,12.7/13,c)[0];var H=bzPoints[bzPoints.length-1];G=j(F,H,2.5),arrow1=l(H,F,F,z,!0),arrow2=l(H,F,F,z,!1),arrow3=G,arrow4=H;var I=new f,J=[arrow1,arrow3,arrow2,arrow4,arrow1];I.points.length>0?I.points=J:I.addPoint(J),E.addGeometry(I),r.addPoint(v);for(var K=bzPoints.length,L=b;K>L;L++)r.addPoint(bzPoints[L]);return i.addGeometry(r),[E,i]},q.prototype.getType=function(){return"navalshipspropety"},q}(b,Rd,Sd,B,v,C,F,E),Xe=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint,c.pathLength),k=c.bTypeline,l=c.vertex,m=(c.angle,c.bzLine,c.gainPt),n=c.distance;polarAngle360=c.polarAngle360,midPoint=c.midPoint,getPolarPointOfCenterPoint=c.getPolarPointOfCenterPoint,getMapPoints=c.getMapPoints;var o=function(a){this.$type="PatrollerAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null};return i(o,b),o.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=k(i),this.getGraphParts(1)},o.prototype.getGraphParts=function(a){var b,c,e,f,g=[],i=[],k=[],o=[],p=[],q=[],s=[],t=[],u=[],v=[],w=new h,x=j(bzPoints),y=x*a*4/150;g=m(bzPoints,x,.48,b)[0],i=m(bzPoints,x,.52,c)[0],b=m(bzPoints,x,.48,b)[1],c=m(bzPoints,x,.52,c)[1],q=midPoint(g,i);var z=n(g,i);r=z/2,pCCircle=new d;for(var A=0;360>=A;A++)pCCircle.addPoint(getPolarPointOfCenterPoint(q,A,r));w.addGeometry(pCCircle),s=midPoint(g,q),y=z/2*Math.sqrt(3)/2,u=l(g,i,s,y,!1),centerLeft=new d,centerLeft.addPoint(u),centerLeft.addPoint(q),w.addGeometry(centerLeft),t=midPoint(i,q),y=z/2*Math.sqrt(3)/2,v=l(g,i,t,y,!1),centerRight=new d,centerRight.addPoint(q),centerRight.addPoint(v),w.addGeometry(centerRight),k=m(bzPoints,x,.02,e)[0],o=m(bzPoints,x,.98,f)[0],e=m(bzPoints,x,.02,e)[1],f=m(bzPoints,x,.98,f)[1],inflexionPt1=l(this.p1,k,this.p1,y,!1),inflexionPt2=l(this.p1,k,k,y,!1),pcPl1=new d,pcPl1=getMapPoints(inflexionPt2,inflexionPt1,this.p1),w.addGeometry(pcPl1);var B=bzPoints.length;p=bzPoints[B-1],inflexionPt3=l(p,o,p,y,!1),inflexionPt4=l(p,o,o,y,!1),pcPl2=new d,pcPl2=getMapPoints(inflexionPt4,inflexionPt3,p),w.addGeometry(pcPl2),pcPline1=new d;
for(var C=0;b>C;C++)pcPline1.addPoint(bzPoints[C]);pcPline1.addPoint(g),w.addGeometry(pcPline1),pcPline2=new d,pcPline2.addPoint(i);for(var B=bzPoints.length,A=c;B>A;A++)pcPline2.addPoint(bzPoints[A]);return w.addGeometry(pcPline2),[w]},o.prototype.getType=function(){return"patrollerpropety"},o}(b,Rd,Sd,B,v,C,F,E),Ye=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint),k=(c.pathLength,c.vertex),l=c.angle,m=(c.bzLine,c.gainPt,c.distance),n=c.optionWay,o=function(a){this.$type="ArtilleryManenCampmentAlgorithm,http://www.Gs.com";var a={minCpt:3,maxCpt:3};b.call(this,a),this.p1=null,this.p2=null,this.p3=null};return i(o,b),o.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}return 2===e?(this.p1=c[0],this.p2=c[1],this.p3=b):3===e&&(this.p1=c[0],this.p2=c[1],this.p3=c[2]),this.getGraphParts(1)},o.prototype.getGraphParts=function(a){this.artillerymanencampmentpropertyLine=new h;var b=new d;b.addPoint(this.p1),b.addPoint(this.p2),b.addPoint(this.p3),b.addPoint(this.p1),this.artillerymanencampmentpropertyLine.addGeometry(b),m1=new e,m2=new e,m3=new e,m4=new e,m5=new e,m6=new e,arrow1=new e,arrow2=new e,arrow3=new e,arrow4=new e;var c,i=new e;i.x=(this.p1.x+this.p2.x+this.p3.x)/3,i.y=(this.p1.y+this.p2.y+this.p3.y)/3;var c=.2*(m(this.p1,this.p2)+m(this.p2,this.p3)+m(this.p3,this.p1))*a;m1.x=i.x,m1.y=i.y-.4*c,m2.x=i.x,m2.y=i.y+.4*c;var o=new d;o.addPoint(m1),o.addPoint(m2),this.artillerymanencampmentpropertyLine.addGeometry(o),m3.x=i.x-.1*c,m3.y=i.y-.1*c,m4.x=i.x-.1*c,m4.y=i.y+.2*c;var p=new d;p.addPoint(m3),p.addPoint(m4),this.artillerymanencampmentpropertyLine.addGeometry(p),m5.x=i.x+.1*c,m5.y=i.y-.1*c,m6.x=i.x+.1*c,m6.y=i.y+.2*c;var q=new d;q.addPoint(m5),q.addPoint(m6),this.artillerymanencampmentpropertyLine.addGeometry(q),arrow1.x=i.x+.1*c,arrow1.y=i.y+.3*c,arrow2.x=i.x,arrow2.y=i.y+.6*c,arrow3.x=i.x-.1*c,arrow3.y=i.y+.3*c,arrow4.x=i.x,arrow4.y=i.y+.4*c;var s=new f;s.addPoint(arrow1),s.addPoint(arrow2),s.addPoint(arrow3),s.addPoint(arrow4),s.addPoint(arrow1);var t=new g;t.addGeometry(s),m_pWay=n(this.p1,this.p2,this.p3);var u=new e,v=new e,w=new e;u=j(this.p1,this.p2,1.5),v=j(this.p1,this.p2,.5),distance12=m(this.p1,this.p2),w=k(this.p1,this.p2,v,distance12/4,!m_pWay);var x=new e,y=new e,z=new e;x=j(this.p2,this.p3,1.5),y=j(this.p2,this.p3,.5),distance23=m(this.p2,this.p3),z=k(this.p2,this.p3,y,distance23/4,!m_pWay);var A=new e,B=new e,C=new e;A=j(this.p3,this.p1,1.5),B=j(this.p3,this.p1,.5),distance31=m(this.p3,this.p1),C=k(this.p3,this.p1,B,distance31/4,!m_pWay);var D=new d,E=new e;if(m1=-(z.x-w.x)/(z.y-w.y),m2=-(u.x-z.x)/(u.y-z.y),mx1=(w.x+z.x)/2,mx2=(z.x+u.x)/2,my1=(w.y+z.y)/2,my2=(z.y+u.y)/2,E.x=(m1*mx1-m2*mx2+my2-my1)/(m1-m2),E.y=m1*(E.x-mx1)+my1,l=getAngleOfThreePoints(w,E,z),r=m(E,z),l>0||0>l)if(l=180*l/Math.PI,angle1=polarAngle360(E,z),"right"==getSide(w,z,u)){D.addPoint(z);for(var F=angle1;l+angle1>=F;F++)D.addPoint(getPolarPointOfCenterPoint(E,F,r));D.addPoint(w)}else{D.addPoint(w);for(var F=l+angle1;angle1+360>=F;F++)D.addPoint(getPolarPointOfCenterPoint(E,F,r));D.addPoint(z)}this.artillerymanencampmentpropertyLine.addGeometry(D);var G=new d,H=new e;if(m1=-(C.x-z.x)/(C.y-z.y),m2=-(x.x-C.x)/(x.y-C.y),mx1=(z.x+C.x)/2,mx2=(C.x+x.x)/2,my1=(z.y+C.y)/2,my2=(C.y+x.y)/2,H.x=(m1*mx1-m2*mx2+my2-my1)/(m1-m2),H.y=m1*(H.x-mx1)+my1,l=getAngleOfThreePoints(z,H,C),r=m(H,C),l>0||0>l)if(l=180*l/Math.PI,angle1=polarAngle360(H,C),"right"==getSide(z,C,x)){G.addPoint(C);for(var F=angle1;l+angle1>=F;F++)G.addPoint(getPolarPointOfCenterPoint(H,F,r));G.addPoint(z)}else{G.addPoint(z);for(var F=l+angle1;angle1+360>=F;F++)G.addPoint(getPolarPointOfCenterPoint(H,F,r));G.addPoint(C)}this.artillerymanencampmentpropertyLine.addGeometry(G);var I=new d,J=new e;if(m1=-(w.x-C.x)/(w.y-C.y),m2=-(A.x-w.x)/(A.y-w.y),mx1=(C.x+w.x)/2,mx2=(w.x+A.x)/2,my1=(C.y+w.y)/2,my2=(w.y+A.y)/2,J.x=(m1*mx1-m2*mx2+my2-my1)/(m1-m2),J.y=m1*(J.x-mx1)+my1,l=getAngleOfThreePoints(C,J,w),r=m(J,w),l>0||0>l)if(l=180*l/Math.PI,angle1=polarAngle360(J,w),"right"==getSide(C,w,A)){I.addPoint(w);for(var F=angle1;l+angle1>=F;F++)I.addPoint(getPolarPointOfCenterPoint(J,F,r));I.addPoint(C)}else{I.addPoint(C);for(var F=l+angle1;angle1+360>=F;F++)I.addPoint(getPolarPointOfCenterPoint(J,F,r));I.addPoint(w)}return this.artillerymanencampmentpropertyLine.addGeometry(I),[t,this.artillerymanencampmentpropertyLine]},o.prototype.getType=function(){return"artillerymanencampmentproperty"},o}(b,Rd,Sd,B,v,C,F,E),Ze=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint),k=c.pathLength,l=c.vertex,m=(c.angle,c.bzLine,c.bTypeline),n=c.gainPt,o=c.distance;polarAngle360=c.polarAngle360,getPolarPointOfCenterPoint=c.getPolarPointOfCenterPoint;var p=function(a){this.$type="TankAndMusketerAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null};return i(p,b),p.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=m(i),this.getGraphParts(1)},p.prototype.getGraphParts=function(a){var b,c,i,m,p,q=[],s=[],t=[],u=[],v=[],w=[],x=[],y=[],z=[],A=[],B=[],C=[],D=[],E=[],F=[],G=[],H=[],I=[],J=[],K=new h,L=k(bzPoints),M=L*a*4/210;q=n(bzPoints,L,5/13,b)[0],s=n(bzPoints,L,6/13,c)[0],b=n(bzPoints,L,5/13,b)[1],c=n(bzPoints,L,6/13,c)[1];var N=o(q,s);A=j(q,s,1-M/N),w=l(q,A,q,M,!1),v=l(q,A,q,M,!0),y=l(q,A,A,M,!1),x=l(q,A,A,M,!0),pCRec=new d,pCRec.addPoint(q),pCRec.addPoint(w),pCRec.addPoint(y);for(var O=polarAngle360(y,x),P=O+180;P>=O;P--)pCRec.addPoint(getPolarPointOfCenterPoint(A,P,M));pCRec.addPoint(x),pCRec.addPoint(v),pCRec.addPoint(q),K.addGeometry(pCRec),r=.5*M;var Q=new e;Q=midPoint(q,s);var R=o(q,Q),S=(R-.25*M)/R;z=j(q,Q,S),pCCircle=new d;for(var T=0;360>=T;T++)pCCircle.addPoint(getPolarPointOfCenterPoint(z,T,r));K.addGeometry(pCCircle),t=n(bzPoints,L,7/13,i)[0],u=n(bzPoints,L,8/13,m)[0],i=n(bzPoints,L,7/13,i)[1],m=n(bzPoints,L,8/13,m)[1],B=midPoint(t,u),D=l(t,B,B,M,!1),C=l(t,B,B,M,!0),pCDiamon=new d,pCDiamon.addPoint(t),pCDiamon.addPoint(D),pCDiamon.addPoint(u),pCDiamon.addPoint(C),pCDiamon.addPoint(t),K.addGeometry(pCDiamon),pcPl1=new d;for(var U=0;b>U;U++)pcPl1.addPoint(bzPoints[U]);pcPl1.addPoint(q),K.addGeometry(pcPl1),pcPl2=new d,pcPl2.addPoint(s);for(var T=c;i>T;T++)pcPl2.addPoint(bzPoints[T]);pcPl2.addPoint(t),K.addGeometry(pcPl2),pcPl3=new d,pcPl3.addPoint(u);for(var V=bzPoints.length,W=m;V>W;W++)pcPl3.addPoint(bzPoints[W]);K.addGeometry(pcPl3),E=n(bzPoints,L,12.7/13,p)[0],p=n(bzPoints,L,12.7/13,p)[1];var X=bzPoints[V-1];F=j(E,X,2.5);var Y=new f;G=l(X,E,E,M,!0),H=l(X,E,E,M,!1),I=F,J=X;var Z=[G,I,H,J,G];Y.points.length>0?Y.points=Z:Y.addPoint(Z);var $=new g;return $.addGeometry(Y),[$,K]},p.prototype.getType=function(){return"tankandmusketerpropety"},p}(b,Rd,Sd,B,v,C,F,E),$e=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint,c.pathLength),k=c.vertex,l=(c.angle,c.bzLine,c.bTypeline),m=c.gainPt,n=(c.distance,function(a){this.$type="TrenchAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:30};b.call(this,a);this.p1=null,this.p2=null});return i(n,b),n.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=l(i),this.getGraphParts(1)},n.prototype.getGraphParts=function(a){for(var b,c=j(bzPoints),f=c*a*4/350,g=parseInt(c/f),i=new e({x:bzPoints[0].x,y:bzPoints[0].y}),l=(new e,new e),n=new e,o=new h,p=(new h,[]),q=[],r=1;g>r;r++){var s=r/g,t=null,u=null;t=m(bzPoints,c,s,b)[0],r%3==0&&(s=(r-.5)/g,u=m(bzPoints,c,s,b)[0],l=k(i,t,t,c/150,!1),n=k(i,u,u,c/150,!1),p[parseInt(r)]=new d,p[parseInt(r)].addPoint(new e({x:l.x,y:l.y})),p[parseInt(r)].addPoint(new e({x:t.x,y:t.y})),o.addGeometry(p[parseInt(r)]),q[parseInt(r)]=new d,q[parseInt(r)].addPoint(new e({x:n.x,y:n.y})),q[parseInt(r)].addPoint(new e({x:u.x,y:u.y})),o.addGeometry(q[parseInt(r)])),null!=u?(i.x=u.x,i.y=u.y):(i.x=t.x,i.y=t.y)}for(var v=new d,w=bzPoints.length,r=0;w-1>=r;r++)v.addPoint(bzPoints[r]);return o.addGeometry(v),[o]},n.prototype.getType=function(){return"trenchpropety"},n}(b,Rd,Sd,B,v,C,F,E),_e=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint),k=c.pathLength,l=c.bTypeline,m=c.vertex,n=c.angle;distance=c.distance;var o=function(a){this.$type="MissileMarchAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:10};b.call(this,a),this.p1=null,this.p2=null};return i(o,b),o.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=l(i),this.getGraphParts(1)},o.prototype.getGraphParts=function(a){var b,c,i,l,o,p=new d,q=new d,r=(new d,new e),s=new e,t=new e,u=new e,v=new e,w=new e,x=new e,y=(new e,new e,new e,new e,new e,new e,new h,k(bzPoints)),z=y*a/60;r=gainPt(bzPoints,y,5/11,i)[0],s=gainPt(bzPoints,y,6/11,l)[0],i=gainPt(bzPoints,y,5/11,i)[1],l=gainPt(bzPoints,y,6/11,l)[1];var A=Math.sqrt((s.x-r.x)*(s.x-r.x)+(s.y-r.y)*(s.y-r.y)),B=n(r,s);90==B?B=270:-90==B&&(B=90),b=parseFloat(r.x)+.8*A*Math.cos(B*Math.PI/180),c=parseFloat(r.y)-.8*A*Math.sin(B*Math.PI/180);var C=new e,C=new e({x:b,y:c}),D=m(r,s,r,z,!0),x=m(r,s,r,z,!1),t=m(r,s,C,z,!0),u=m(r,s,C,z,!1),v=m(r,s,r,2*z,!0),w=m(r,s,r,2*z,!1),E=new d;E.addPoint(v),E.addPoint(w);var F=new d;F.addPoint(x),F.addPoint(u),F.addPoint(s),F.addPoint(t),F.addPoint(D);var G=new h;G.addGeometry(E),G.addGeometry(F);for(var H=0;i>H;H++)p.addPoint(bzPoints[H]);p.addPoint(r),G.addGeometry(p),q.addPoint(s);for(var I=bzPoints.length,J=l;I>J;J++)q.addPoint(bzPoints[J]);G.addGeometry(q);var K=new e,L=new e;K=gainPt(bzPoints,y,12.7/13,o)[0];var M=bzPoints[I-1];L=j(K,M,2.5);var N=new g;arrow1=m(M,K,K,z,!0),arrow2=m(M,K,K,z,!1),arrow3=L,arrow4=M;var O=new f,P=[arrow1,arrow3,arrow2,arrow4,arrow1];return O.points.length>0?O.points=P:O.addPoint(P),N.addGeometry(O),[N,G]},o.prototype.getType=function(){return"missilemarchpropety"},o}(b,Rd,Sd,B,v,C,F,E),af=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint),k=c.pathLength,l=c.vertex,m=(c.angle,c.bTypeline),n=(c.distance,function(a){this.$type="PedrailColumnAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:10};b.call(this,a),this.p1=null,this.p2=null});return i(n,b),n.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=m(i),this.getGraphParts(1)},n.prototype.getGraphParts=function(a){var b,c,i,m,n,o=new d,p=new d,q=new d,r=new e,s=new e,t=new e,u=new e,v=new e,w=new e,x=new e,y=new e,z=(new e,new e),y=new e,A=new e,B=new e,C=new e,D=new e,E=(new e,new e,new e,new e,new e,new e,new e,new e,new e,new e,new h),F=k(bzPoints),G=F*a/60;r=gainPt(bzPoints,F,.4,b)[0],s=gainPt(bzPoints,F,7/15,c)[0],b=gainPt(bzPoints,F,.4,b)[1],c=gainPt(bzPoints,F,7/15,c)[1];var H=(r.x+s.x)/2,I=(r.y+s.y)/2,J=new e,J=new e({x:H,y:I}),t=l(r,s,J,G,!0),u=l(r,s,J,G,!1),E=new h,K=new d;K.addPoint(r),K.addPoint(t),K.addPoint(s),K.addPoint(u),K.addPoint(r),E.addGeometry(K),t=gainPt(bzPoints,F,8/15,i)[0],u=gainPt(bzPoints,F,.6,m)[0],i=gainPt(bzPoints,F,8/15,i)[1],m=gainPt(bzPoints,F,.6,m)[1];var H=(t.x+u.x)/2,I=(t.y+u.y)/2,J=new e,J=new e({x:H,y:I}),v=l(t,u,J,G,!0),w=l(t,u,J,G,!1),L=new d;L.addPoint(v),L.addPoint(t),L.addPoint(w),L.addPoint(u),L.addPoint(v),E.addGeometry(L);for(var M=0;b>M;M++)o.addPoint(bzPoints[M]);o.addPoint(r),E.addGeometry(o),p.addPoint(s);for(var N=bzPoints.length,O=c;i>O;O++)p.addPoint(bzPoints[O]);E.addGeometry(p),q.addPoint(v);for(var N=bzPoints.length,P=m;N>P;P++)q.addPoint(bzPoints[P]);E.addGeometry(q);var x=new e,y=new e;x=gainPt(bzPoints,F,12.7/13,n)[0];var z=bzPoints[N-1];y=j(x,z,2.5);var Q=new g;A=l(z,x,x,G,!0),B=l(z,x,x,G,!1),C=y,D=z;var R=new f,S=[A,C,B,D,A];return R.points.length>0?R.points=S:R.addPoint(S),Q.addGeometry(R),[Q,E]},n.prototype.getType=function(){return"pedrailcolumnpropety"},n}(b,Rd,Sd,B,v,C,F,E),bf=function(a,b,c,d,e,f,g,h){var i=b.extend2,j=(b.deepCopy,d.scalePoint,d.bzLine,d.bTypeline),k=d.distance,l=d.optionWay,m=d.linePerpenPoints,n=function(){this.$type="PolygonTextAlgorithm,http://www.Gs.com";var b={minCpt:2,maxCpt:10};a.call(this,b);this._inilization()};return i(n,a),n.prototype._inilization=function(){},n.prototype.createGeometries=function(a,b){var d=a.getControlPoints(),e=d.length;if(1===e){var f=new c,i=new g;f.addPoint(d[0]),f.addPoint(b),i.addGeometry(f);var n=new h;return n.x=.5*(d[0].x+b.x),n.y=.5*(d[0].y+b.y),[i,n]}for(var o=[],p=0;e-1>p;p++)(d[p].x!==d[p+1].x||d[p].y!==d[p+1].y)&&o.push(d[p]);o.push(d[e-1]),null!=b?b.x===d[e-1].x&&b.y===d[e-1].y?o.push(d[0]):(o.push(b),o.push(d[0])):o.push(d[0]);var q=o.length;if(q>3){var r=l(o[1],o[q-2],o[0]),s=!r,t=new h,u=new h;m(o[0],o[q-2],.25*k(o[0],o[q-2]),.1*k(o[0],o[q-2]),t,u,s);for(var v=[],p=0;q-1>p;p++)v.push(o[p]);v.push(u),v.push(o[q-1]),bzPoints=j(v,v.length)}else bzPoints=j(o,o.length);return this.getGraphParts(1)},n.prototype.getGraphParts=function(){{var a=new e,b=new f;bzPoints.length}a.addPoint(bzPoints),b.addGeometry(a);var c=b.envelope().center();return[b,c]},n.prototype.getType=function(){return"polygontextpropety"},n}(Rd,b,B,Sd,C,F,E,v),cf=function(a,b,c,d,e,f,g,h){var i,j=a.extend2,k=(a.deepCopy,c.scalePoint,c.pathLength),l=(c.vertex,c.angle),m=c.midPoint,n=c.distance,o=(c.gainPt1,2*Math.PI,function(a){this.$type="PipeLayingAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:10};b.call(this,a),this._inilization(),this.p1=null,this.p2=null});return j(o,b),o.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){var f=c[0],g=b,i=new d,j=new h;return i.addPoint(f),i.addPoint(g),j.addGeometry(i),[j]}var k=[];this.p1=c[e-1],this.p2=b;for(var l=0;e>l;l++)k[l]=c[l];return null!=b&&k.push(b),m_Ctrlpts=k,this.getGraphParts(1)},o.prototype.getGraphParts=function(a){var b=m_Ctrlpts;i=k(b)*a/80;for(var c=b.length,f=new h,j=(new g,i/5),o=0;c-1>o&&(b[o].x!=b[o+1].x||b[o].y!=b[o+1].y);o++){var p,q,r=n(b[o],b[o+1]),s=r/j/5,t=b[o].copy(),u=new d;if(s>1){var v=l(b[o],b[o+1])*Math.PI/180;p=j*Math.cos(v),q=j*Math.sin(v)}for(var w=0;s-1>w;w++){var x=t.copy(),y=new e;y.x=t.x+3*p,y.y=t.y-3*q;var z=new d;z.addPoint(x),z.addPoint(y),f.addGeometry(z);for(var A=m(x,y),B=new d,C=0;1e3>C;C++){var D=2*Math.PI*C/1e3,E=new e;E.x=A.x+j*Math.cos(D),E.y=A.y+j*Math.sin(D),B.addPoint(E)}f.addGeometry(B),t.x+=5*p,t.y-=5*q}u.addPoint(t),u.addPoint(b[o+1]),f.addGeometry(u)}return[f]},o.prototype.getType=function(){return"pipelayingpropety"},o}(b,Rd,Sd,B,v,C,F,E),df=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=a.deepCopy,k=c.scalePoint,l=c.pathLength,m=c.vertex,n=(c.angle,c.bzLine,c.bTypeline),o=c.gainPt,p=c.distance,q=function(a){this.$type="RailageAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:10};b.call(this,a);this.p1=null,this.p2=null};return i(q,b),q.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=n(i),this.getGraphParts(1)},q.prototype.getGraphParts=function(a){for(var b,c,i,n,q,r,s=[],t=[],u=l(bzPoints),v=u*a*4/210,w=parseInt(u/v),x=new e({x:bzPoints[0].x,y:bzPoints[0].y}),y=new e,z=new e,A=new e,B=new h,C=(new h,[]),D=1;w-1>D;D++){var E=D/w,F=null;F=o(bzPoints,u,E,c)[0],linePerpenPoints(x,F,p(x,F),u/200,y,z,!0),linePerpenPoints(x,F,p(x,F),u/200,y,A,!1),C[parseInt(D)]=new d,C[parseInt(D)].addPoint(new e({x:z.x,y:z.y})),C[parseInt(D)].addPoint(new e({x:A.x,y:A.y})),B.addGeometry(C[parseInt(D)]),x.x=F.x,x.y=F.y}s=o(bzPoints,u,12.7/13,b)[0];var G=j(bzPoints[bzPoints.length-1]);t=k(s,G,2.5),i=m(G,s,s,v,!0),n=m(G,s,s,v,!1),q=t,r=G;var H=[i,q,n,r,i],I=new f;I.points.length>0?I.points=H:I.addPoint(H);var J=new g;J.addGeometry(I);for(var K=(new h,new d),L=bzPoints.length,D=0;L-1>=D;D++)K.addPoint(bzPoints[D]);return B.addGeometry(K),[J,B]},q.prototype.getType=function(){return"railagepropety"},q}(b,Rd,Sd,B,v,C,F,E),ef=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint,c.pathLength),k=c.vertex,l=c.angle;distance=c.distance,gainPt1=c.gainPt1;var m=function(a){this.$type="RoundsLineAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:10};b.call(this,a),this._inilization(),this.p1=null,this.p2=null};return i(m,b),m.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){var f=c[0],g=b,i=new d,j=new h;return i.addPoint(f),i.addPoint(g),j.addGeometry(i),[j]}var k=[];this.p1=c[e-1],this.p2=b;for(var l=0;e>l;l++)k[l]=c[l];return null!=b&&k.push(b),m_Ctrlpts=k,this.getGraphParts(1)},m.prototype.getGraphParts=function(){var a,b,c,f,g,i,m,n=m_Ctrlpts,o=n.length,p=j(n),q=p/70,r=new h,s=new e,t=new e,u=new e,v=new e,w=(new e,new e),x=(new e,new e,new e,new e,new e,new e,new e,new e),y=new e,s=(new e,new e),t=new e;x=k(n[0],n[1],n[0],q,!0),y=k(n[0],n[1],n[0],q,!1),path1=new d,path1.addPoint(x),path1.addPoint(y),r.addGeometry(path1);for(var z=0;o-1>z&&(n[z].x!=n[z+1].x||n[z].y!=n[z+1].y);z++){a=(n[z].x+n[z+1].x)/2,b=(n[z].y+n[z+1].y)/2,v=new e({x:a,y:b}),s=n[z],t=n[z+1],c=l(n[z],n[z+1]),90==c?c=270:270==c&&(c=90),f=a+2*q*Math.cos(c*Math.PI/180),g=b-2*q*Math.sin(c*Math.PI/180),i=a-2*q*Math.cos(c*Math.PI/180),m=b+2*q*Math.sin(c*Math.PI/180);var A=new d;u=new e({x:i,y:m}),A.addPoint(n[z]),A.addPoint(u),r.addGeometry(A);var B=new d;w=new e({x:f,y:g}),B.addPoint(w),B.addPoint(n[z+1]),r.addGeometry(B),f=a+1.8*q*Math.cos(c*Math.PI/180),g=b-1.8*q*Math.sin(c*Math.PI/180),i=a-1.8*q*Math.cos(c*Math.PI/180),m=b+1.8*q*Math.sin(c*Math.PI/180),u=new e({x:i,y:m}),w=new e({x:f,y:g});var C=new d;fpt1=k(u,w,u,q,!0),tpt1=k(u,w,u,q,!1),C.addPoint(fpt1),C.addPoint(tpt1),C.addPoint(w),C.addPoint(fpt1),r.addGeometry(C)}var o=n.length,D=new d;return p11=k(n[o-1],n[o-2],n[o-1],q,!0),p12=k(n[o-1],n[o-2],n[o-1],q,!1),D.addPoint(p11),D.addPoint(p12),r.addGeometry(D),[r]},m.prototype.getType=function(){return"roundslinepropety"},m}(b,Rd,Sd,B,v,C,F,E),ff=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint,c.pathLength),k=c.vertex,l=c.angle;distance=c.distance,gainPt1=c.gainPt1;var m=function(a){this.$type="CommunicateLineAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:10};b.call(this,a),this._inilization(),this.p1=null,this.p2=null};return i(m,b),m.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){var f=c[0],g=b,i=new d,j=new h;return i.addPoint(f),i.addPoint(g),j.addGeometry(i),[j]}var k=[];this.p1=c[e-1],this.p2=b;for(var l=0;e>l;l++)k[l]=c[l];return null!=b&&k.push(b),m_Ctrlpts=k,this.getGraphParts(1)},m.prototype.getGraphParts=function(){var a=m_Ctrlpts;len=a.length;var b,c,i,m,n,o,p,q,r,s,t,u=new e,v=new h,w=j(a),x=w/70;u=gainPt1(a,w,.5,b)[0],cx=u.x,cy=u.y;for(var y=0;len-1>y;y++){var z=(a[y+1].y-a[y].y)/(a[y+1].x-a[y].x);if(cy-a[y].y-z*(cx-a[y].x)<.001&&cy-a[y].y-z*(cx-a[y].x)>-.001){centerPoint=new e({x:cx,y:cy}),angle1=l(a[y],a[y+1]),c=cx+2.1*x*Math.cos(angle1*Math.PI/180),i=cy-2.1*x*Math.sin(angle1*Math.PI/180),m=cx-2.1*x*Math.cos(angle1*Math.PI/180),n=cy+2.1*x*Math.sin(angle1*Math.PI/180);var A=new d;newPoint2=new e({x:m,y:n}),tpt=newPoint2,A.addPoint(a[y]),A.addPoint(tpt),v.addGeometry(A);var B=new d;newPoint3=new e({x:c,y:i}),B.addPoint(newPoint3),B.addPoint(a[y+1]),v.addGeometry(B);for(var C=(new d,new d),D=0;1e3>D;D++){var E=2*Math.PI*D/100;C.addPoint(new e({x:cx+2.6*x*Math.sin(E),y:cy+2.6*x*Math.cos(E)}))}v.addGeometry(C),o=cx+1.9*x*Math.cos(angle1*Math.PI/180),p=cy-1.9*x*Math.sin(angle1*Math.PI/180),q=cx-1.9*x*Math.cos(angle1*Math.PI/180),r=cy+1.9*x*Math.sin(angle1*Math.PI/180),p1=new e({x:c,y:i}),p2=new e({x:m,y:n}),p3=k(a[y+1],centerPoint,centerPoint,.4*x,!0),p4=k(a[y+1],centerPoint,centerPoint,.4*x,!1),s=cx+.5*x*Math.cos(angle1*Math.PI/180),t=cy-.5*x*Math.sin(angle1*Math.PI/180),p5=new e({x:s,y:t});var F=new d;F.addPoint(p2),F.addPoint(p5),v.addGeometry(F);var G=new g,H=[p3,p5,p4,p1,p3],C=new f;C.points.length>0?C.points=H:C.addPoint(H),G.addGeometry(C)}else{fpt=a[y],tpt=a[y+1];var I=new d;I.addPoint(fpt),I.addPoint(tpt),v.addGeometry(I)}}return[G,v]},m.prototype.getType=function(){return"communicatelinepropety"},m}(b,Rd,Sd,B,v,C,F,E),gf=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint,c.pathLength),k=c.vertex,l=c.midPoint,m=c.angle,n=(c.distance,function(a){this.$type="PatrolLineAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:10};b.call(this,a),this._inilization(),this.p1=null,this.p2=null});return i(n,b),n.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){var f=c[0],g=b,i=new d,j=new h;return i.addPoint(f),i.addPoint(g),j.addGeometry(i),[j]}var k=[];this.p1=c[e-1],this.p2=b;for(var l=0;e>l;l++)k[l]=c[l];return null!=b&&k.push(b),m_Ctrlpts=k,this.getGraphParts(1)},n.prototype.getGraphParts=function(a){var b=m_Ctrlpts,c=b.length,f=new h,g=j(b)*a/400,i=k(b[0],b[1],b[0],5*g,!1),n=new d;n.addPoint(b[0]),n.addPoint(i),f.addGeometry(n);for(var o=0;c-1>o&&(b[o].x!=b[o+1].x||b[o].y!=b[o+1].y);o++){var p=m(b[o],b[o+1])*Math.PI/180,q=g*Math.cos(p),r=g*Math.sin(p),s=l(b[o],b[o+1]),t=new e,u=new e;t.x=s.x-10*q,t.y=s.y+10*r,u.x=s.x+10*q,u.y=s.y-10*r;var v=new e,w=new e;v.x=s.x-8*q,v.y=s.y+8*r,w.x=s.x+8*q,w.y=s.y-8*r;var x=new e,y=new e;x.x=s.x-4*q,x.y=s.y+4*r,y.x=s.x+4*q,y.y=s.y-4*r;var z=new e,A=new e;z.x=s.x-2*q,z.y=s.y+2*r,A.x=s.x+2*q,A.y=s.y-2*r;var B=k(v,x,v,2*g,!0),C=k(v,x,v,2*g,!1),D=k(v,x,x,2*g,!0),E=k(v,x,x,2*g,!1),F=k(z,A,z,2*g,!0),G=k(z,A,z,2*g,!1),H=k(z,A,A,2*g,!0),I=k(z,A,A,2*g,!1),J=k(y,w,y,2*g,!0),K=k(y,w,y,2*g,!1),L=k(y,w,w,2*g,!0),M=k(y,w,w,2*g,!1),N=new d;N.addPoint(B),N.addPoint(E);var O=new d;O.addPoint(C),O.addPoint(D);var P=new d;P.addPoint(F),P.addPoint(I);var Q=new d;Q.addPoint(G),Q.addPoint(H);var R=new d;R.addPoint(J),R.addPoint(M);var S=new d;S.addPoint(K),S.addPoint(L);var T=new d;T.addPoint(b[o]),T.addPoint(t);var U=new d;U.addPoint(u),U.addPoint(b[o+1]),f.addGeometry(N),f.addGeometry(O),f.addGeometry(P),f.addGeometry(Q),f.addGeometry(R),f.addGeometry(S),f.addGeometry(T),f.addGeometry(U)}for(var V=2;c>V;V++){var W=k(b[V-2],b[V],b[V-1],5*g,!1),X=new d;X.addPoint(W),X.addPoint(b[V-1]),f.addGeometry(X);var Y=k(b[c-3],b[c-1],b[c-1],5*g,!1),Z=new d;Z.addPoint(Y),Z.addPoint(b[c-1]),f.addGeometry(Z)}return[f]},n.prototype.getType=function(){return"patrollinepropety"},n}(b,Rd,Sd,B,v,C,F,E),hf=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint),k=c.pathLength,l=c.vertex,m=c.angle,n=c.midPoint,o=c.polarAngle360,p=c.getSide;distance=c.distance,getAngleOfThreePoints=c.getAngleOfThreePoints,getPolarPointOfCenterPoint=c.getPolarPointOfCenterPoint,gainPt1=c.gainPt1;var q=function(a){this.$type="WarBoundaryAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:10};b.call(this,a),this._inilization(),this.p1=null,this.p2=null};return i(q,b),q.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){var f=c[0],g=b,i=new d,j=new h;return i.addPoint(f),i.addPoint(g),j.addGeometry(i),[j]}var k=[];this.p1=c[e-1],this.p2=b;for(var l=0;e>l;l++)k[l]=c[l];return null!=b&&k.push(b),m_Ctrlpts=k,this.getGraphParts(1)},q.prototype.getGraphParts=function(a){for(var b=m_Ctrlpts,c=b.length,f=new h,g=k(b)*a/350,i=1.7*g,q=0;c-1>q&&(b[q].x!=b[q+1].x||b[q].y!=b[q+1].y);q++){var r=m(b[q],b[q+1])*Math.PI/180,s=g*Math.cos(r),t=g*Math.sin(r),u=n(b[q],b[q+1]),v=new e;v.x=u.x-5*s,v.y=u.y+5*t;var w=i/distance(b[q],b[q+1]),x=j(b[q],b[q+1],w),y=new d;y.addPoint(x),y.addPoint(v);var z=new e;z.x=u.x+5*s,z.y=u.y-5*t;var A=new e,B=new e;A.x=u.x-4*s,A.y=u.y+4*t,B.x=u.x+4*s,B.y=u.y-4*t;var C=new e,D=new e;C.x=u.x-2*s,C.y=u.y+2*t,D.x=u.x+2*s,D.y=u.y-2*t;var E=new e,F=new e;E.x=u.x-s,E.y=u.y+t,F.x=u.x+s,F.y=u.y-t;var G=l(A,C,A,g,!0),H=l(A,C,A,g,!1),I=l(A,C,C,g,!0),J=l(A,C,C,g,!1),K=l(E,F,E,g,!0),L=l(E,F,E,g,!1),M=l(E,F,F,g,!0),N=l(E,F,F,g,!1),O=l(D,B,D,g,!0),P=l(D,B,D,g,!1),Q=l(D,B,B,g,!0),R=l(D,B,B,g,!1),S=new d;S.addPoint(G),S.addPoint(J);var T=new d;T.addPoint(H),T.addPoint(I);var U=new d;U.addPoint(K),U.addPoint(N);var V=new d;V.addPoint(L),V.addPoint(M);var W=new d;W.addPoint(O),W.addPoint(R);var X=new d;X.addPoint(P),X.addPoint(Q);var Y=new d;x=j(b[q+1],b[q],w),Y.addPoint(z),Y.addPoint(x),f.addGeometry(y),f.addGeometry(S),f.addGeometry(T),f.addGeometry(U),f.addGeometry(V),f.addGeometry(W),f.addGeometry(X),f.addGeometry(Y)}for(var Z=2;c>Z&&(b[Z-1].x!=b[Z-2].x||b[Z-1].y!=b[Z-2].y)&&(b[Z-1].x!=b[Z].x||b[Z-1].y!=b[Z].y);Z++){var $=i/distance(b[Z-1],b[Z-2]),_=i/distance(b[Z-1],b[Z]),x=j(b[Z-1],b[Z-2],$),ab=j(b[Z-1],b[Z],_),bb=n(x,ab),cb=distance(x,ab)/4,db=l(x,ab,bb,cb,!0),eb=-(x.x-ab.x)/(x.y-ab.y),fb=-(db.x-ab.x)/(db.y-ab.y),gb=n(x,ab),hb=n(x,db),ib=new e;ib.x=(eb*gb.x-fb*hb.x+hb.y-gb.y)/(eb-fb),ib.y=eb*(ib.x-gb.x)+gb.y;var jb=distance(db,ab),kb=getAngleOfThreePoints(ab,db,x),lb=new d;if(0!=kb){kb=180*kb/Math.PI;var mb=o(db,x);if("right"==p(ab,x,db)){lb.addPoint(x);for(var nb=0;kb>nb;nb++)lb.addPoint(getPolarPointOfCenterPoint(db,nb+mb,jb));lb.addPoint(ab)}else{lb.addPoint(ab);for(var ob=kb;360>ob;ob++)lb.addPoint(getPolarPointOfCenterPoint(db,ob+mb,jb));lb.addPoint(x)}}f.addGeometry(lb)}return[f]},q.prototype.getType=function(){return"warboundarypropety"},q}(b,Rd,Sd,B,v,C,F,E),jf=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint,c.pathLength),k=c.vertex,l=c.angle,m=(c.midPoint,c.distance),n=(c.gainPt1,function(a){this.$type="FinderLineAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:10};b.call(this,a),this._inilization(),this.p1=null,this.p2=null});return i(n,b),n.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){var f=c[0],g=b,i=new d,j=new h;return i.addPoint(f),i.addPoint(g),j.addGeometry(i),[j]}var k=[];this.p1=c[e-1],this.p2=b;for(var l=0;e>l;l++)k[l]=c[l];return null!=b&&k.push(b),m_Ctrlpts=k,this.getGraphParts(1)},n.prototype.getGraphParts=function(a){for(var b=m_Ctrlpts,c=b.length,f=new h,g=j(b)*a/80,i=0;c-1>i&&(b[i].x!=b[i+1].x||b[i].y!=b[i+1].y);i++){var n,o,p=m(b[i],b[i+1]),q=b[i].copy(),r=p/g/5;if(r>0){var s=l(b[i],b[i+1])*Math.PI/180;n=g*Math.cos(s),o=g*Math.sin(s)}for(var t=0;r-1>t;t++){var u=q.copy(),v=new e;v.x=q.x+3*n,v.y=q.y-3*o;var w=new d;w.addPoint(u),w.addPoint(v),f.addGeometry(w);var x=k(q,v,v,g,!0),y=k(q,v,v,g,!1),z=k(q,v,q,g,!0),A=k(q,v,q,g,!1),B=new d,C=new d;if(0==t){var D=new d;D.addPoint(x),D.addPoint(y),f.addGeometry(D)}else if(t==r-1){var E=new d;E.addPoint(v),E.addPoint(b[i+1].copy()),B.addPoint(x),B.addPoint(y),C.addPoint(z),C.addPoint(A),f.addGeometry(E),f.addGeometry(B),f.addGeometry(C)}else B.addPoint(x),B.addPoint(y),C.addPoint(z),C.addPoint(A),f.addGeometry(B),f.addGeometry(C);q.x+=5*n,q.y-=5*o}var F=new d;F.addPoint(q),F.addPoint(b[i+1].copy()),f.addGeometry(F)}return[f]},n.prototype.getType=function(){return"finderlinepropety"},n}(b,Rd,Sd,B,v,C,F,E),kf=function(a,b,c,d,e,f,g,h){var i,j=a.extend2,k=(a.deepCopy,c.scalePoint,c.pathLength),l=(c.vertex,c.angle),m=c.distance,n=c.midPoint,o=(c.gainPt1,2*Math.PI,function(a){this.$type="FixedPipeLayingAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:10};b.call(this,a),this._inilization(),this.p1=null,this.p2=null});return j(o,b),o.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){var f=c[0],g=b,i=new d,j=new h;return i.addPoint(f),i.addPoint(g),j.addGeometry(i),[j]}var k=[];this.p1=c[e-1],this.p2=b;for(var l=0;e>l;l++)k[l]=c[l];return null!=b&&k.push(b),m_Ctrlpts=k,this.getGraphParts(1)},o.prototype.getGraphParts=function(a){var b=m_Ctrlpts;i=k(b)*a/80;for(var c=b.length,j=new h,o=new g,p=i/5,q=0;c-1>q&&(b[q].x!=b[q+1].x||b[q].y!=b[q+1].y);q++){var r,s,t=m(b[q],b[q+1]),u=t/p/5,v=b[q].copy(),w=new d;if(u>1){var x=l(b[q],b[q+1])*Math.PI/180;r=p*Math.cos(x),s=p*Math.sin(x)}for(var y=0;u-1>y;y++){var z=v.copy(),A=new e;A.x=v.x+3*r,A.y=v.y-3*s;var B=new d;B.addPoint(z),B.addPoint(A),j.addGeometry(B);for(var C=n(z,A),D=new f,E=0;1e3>E;E++){var F=2*Math.PI*E/1e3,G=new e;G.x=C.x+p*Math.cos(F),G.y=C.y+p*Math.sin(F),D.addPoint(G)}var H=D.points[0].copy();D.addPoint(H),o.addGeometry(D),v.x+=5*r,v.y-=5*s}w.addPoint(v),w.addPoint(b[q+1]),j.addGeometry(w)}return[o,j]},o.prototype.getType=function(){return"fixedpipelayingpropety"},o}(b,Rd,Sd,B,v,C,F,E),lf=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint),k=c.pathLength,l=c.bTypeline,m=c.vertex,n=c.angle;distance=c.distance;var o=function(a){this.$type="LandMobileAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:10};b.call(this,a),this.p1=null,this.p2=null};return i(o,b),o.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=l(i),this.getGraphParts(1)},o.prototype.getGraphParts=function(a){var b,c,i,l,o,p,q,r,s,t,u,v,w,x,y,z,A,B=new d,C=new d,D=(new d,new e),E=new e,F=new e,G=new e,H=new e,I=new e,J=new e,K=new e,L=new e,M=new e,N=new e,O=(new e,new e),N=new e,P=new e,Q=new e,R=new e,S=new e,T=(new e,new e,new e,new e,new e,new e,new e,new e),U=(new e,new e,new e),V=new e,W=new h,X=k(bzPoints),Y=X*a/30;D=gainPt(bzPoints,X,3/7,y)[0],E=gainPt(bzPoints,X,4/7,z)[0],y=gainPt(bzPoints,X,3/7,y)[1],z=gainPt(bzPoints,X,4/7,z)[1];var Z=n(D,E);90==Z?Z=270:270==Z&&(Z=90);var $=Math.sqrt((D.x-E.x)*(D.x-E.x)+(D.y-E.y)*(D.y-E.y));b=D.x+.8*$*Math.cos(Z*Math.PI/180),c=D.y-.8*$*Math.sin(Z*Math.PI/180);var _=new e,_=new e({x:b,y:c});J=m(D,E,D,Y,!0),I=m(D,E,D,Y,!1),F=m(D,E,E,Y,!1),G=m(D,E,_,Y,!0);var ab=new d;ab.addPoint(J),ab.addPoint(I),ab.addPoint(F),ab.addPoint(E),ab.addPoint(G),ab.addPoint(J),W.addGeometry(ab),b=D.x+.2*$*Math.cos(Z*Math.PI/180),c=D.y-.2*$*Math.sin(Z*Math.PI/180);var bb=new e,bb=new e({x:b,y:c});F=m(D,E,bb,.15*$,!1),G=m(D,E,bb,1.5*Y,!1),i=D.x+.5*$*Math.cos(Z*Math.PI/180),l=D.y-.5*$*Math.sin(Z*Math.PI/180);var cb=new e,cb=new e({x:i,y:l});H=m(D,E,cb,.15*$,!1),I=m(D,E,cb,.15*$,!0),o=D.x+.8*$*Math.cos(Z*Math.PI/180),p=D.y-.8*$*Math.sin(Z*Math.PI/180);var db=new e,db=new e({x:o,y:p});L=m(D,E,db,.15*$,!0),kb=j(H,L,.6),K=m(D,E,db,1.5*Y,!1);var eb=new d;eb.addPoint(F),eb.addPoint(I),eb.addPoint(H),eb.addPoint(kb),W.addGeometry(eb),q=D.x+.3*$*Math.cos(Z*Math.PI/180),r=D.y-.3*$*Math.sin(Z*Math.PI/180);var fb=new e,fb=new e({x:q,y:r});I=m(D,E,fb,Y,!1),s=D.x+.7*$*Math.cos(Z*Math.PI/180),t=D.y-.7*$*Math.sin(Z*Math.PI/180);var gb=new e,gb=new e({x:s,y:t});T=m(D,E,gb,Y,!1);var hb=new d;hb.addPoint(I),hb.addPoint(G);var ib=new d;ib.addPoint(T),ib.addPoint(K),W.addGeometry(hb),W.addGeometry(ib);var jb=new g;$=X*a/25,u=H.x+$*Math.cos(Z*Math.PI/180),v=H.y-$*Math.sin(Z*Math.PI/180),Y=X*a/120;var kb=(new e,new e({x:u,y:v}),new e);kb=j(H,L,.6),U=m(H,L,kb,$/8,!0),V=m(H,L,kb,$/8,!1),w=H.x+20*Math.cos(n*Math.PI/180),x=H.y-20*Math.sin(n*Math.PI/180);var lb=new f,mb=[U,L,V,U];lb.points.length>0?lb.points=mb:lb.addPoint(mb),jb.addGeometry(lb);
for(var nb=0;y>nb;nb++)B.addPoint(bzPoints[nb]);B.addPoint(D),W.addGeometry(B),C.addPoint(E);for(var ob=bzPoints.length,pb=z;ob>pb;pb++)C.addPoint(bzPoints[pb]);W.addGeometry(C);var M=new e,N=new e;M=gainPt(bzPoints,X,12.7/13,A)[0];var O=bzPoints[ob-1];N=j(M,O,2.5),P=m(O,M,M,1.5*Y,!0),Q=m(O,M,M,1.5*Y,!1),R=N,S=O;var lb=new f,mb=[P,R,Q,S,P];return lb.points.length>0?lb.points=mb:lb.addPoint(mb),jb.addGeometry(lb),[jb,W]},o.prototype.getType=function(){return"landmobilepropety"},o}(b,Rd,Sd,B,v,C,F,E),mf=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint,c.pathLength),k=c.vertex,l=c.midPoint,m=c.angle,n=c.distance,o=(c.gainPt1,function(a){this.$type="ForbidFlyLineAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:10};b.call(this,a),this._inilization(),this.p1=null,this.p2=null});return i(o,b),o.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){var f=c[0],g=b,i=new d,j=new h;return i.addPoint(f),i.addPoint(g),j.addGeometry(i),[j]}var k=[];this.p1=c[e-1],this.p2=b;for(var l=0;e>l;l++)k[l]=c[l];return null!=b&&k.push(b),m_Ctrlpts=k,this.getGraphParts(1)},o.prototype.getGraphParts=function(a){for(var b=m_Ctrlpts,c=b.length,i=new h,o=new g,p=j(b)*a/160,q=1.4*p*Math.sqrt(1.5),r=0;c-1>r&&(b[r].x!=b[r+1].x||b[r].y!=b[r+1].y);r++){var s,t,u=n(b[r],b[r+1]),v=u/5/p,w=new d,x=b[r].copy();if(v>1){var y=m(b[r],b[r+1])*Math.PI/180;s=p*Math.cos(y),t=p*Math.sin(y)}for(var z=0;v-1>z;z++){var A=new d,B=new f,C=x.copy(),D=new e;D.x=x.x+2*s,D.y=x.y-2*t,A.addPoint(C),A.addPoint(D),i.addGeometry(A);var E=new e;E.x=x.x+3*s,E.y=x.y-3*t;var F=new e;F.x=x.x+4*s,F.y=x.y-4*t;var G=l(E,F),H=k(E,F,G,q,!1),I=[E,F,H,E];B.addPoint(I),o.addGeometry(B),x.x+=5*s,x.y-=5*t}var J=b[r+1].copy();w.addPoint(x),w.addPoint(J),i.addGeometry(w)}return[o,i]},o.prototype.getType=function(){return"forbidflylinepropety"},o}(b,Rd,Sd,B,v,C,F,E),nf=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint,c.pathLength),k=c.vertex,l=c.bTypeline,m=c.angle,l=(c.bzLine,c.bTypeline),n=c.gainPt,o=c.distance,p=function(a){this.$type="LineAbatis3Algorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:10};b.call(this,a);this.p1=null,this.p2=null};return i(p,b),p.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=l(i),this.getGraphParts(1)},p.prototype.getGraphParts=function(a){var b,c=j(bzPoints),f=c*a/80,g=parseInt(c/f),i=!1,l=null;l=n(bzPoints,c,1/g,b)[0];for(var p=new e({x:bzPoints[0].x,y:bzPoints[0].y}),q=k(p,l,p,f,!1),r=new e,s=new e,t=new e,u=new h,v=[],w=[],x=[],y=[],z=0,A=0,B=1;g>=B;B++){var C=B/g;l=1==C?bzPoints[bzPoints.length-1]:n(bzPoints,c,C,b)[0],s.x=p.x,s.y=p.y,t.x=l.x,t.y=l.y,r=k(s,t,s,f/2,i),1!=B&&(v[parseInt(B)]=new d,v[parseInt(B)].addPoint(new e({x:q.x,y:q.y})),v[parseInt(B)].addPoint(new e({x:r.x,y:r.y})),u.addGeometry(v[parseInt(B)]),z=m(r,q),270==z?z=90:90==z&&(z=270),A=o(q,r),p.x=r.x+.4*A*Math.cos(z*Math.PI/180),p.y=r.y-.4*A*Math.sin(z*Math.PI/180),s=k(q,r,p,A/5,!0),t=k(q,r,p,A/5,!1),w[parseInt(B)]=new d,w[parseInt(B)].addPoint(new e({x:s.x,y:s.y})),w[parseInt(B)].addPoint(new e({x:t.x,y:t.y})),u.addGeometry(w[parseInt(B)]),p.x=r.x+.5*A*Math.cos(z*Math.PI/180),p.y=r.y-.5*A*Math.sin(z*Math.PI/180),s=k(q,r,p,A/5,!0),t=k(q,r,p,A/5,!1),x[parseInt(B)]=new d,x[parseInt(B)].addPoint(new e({x:s.x,y:s.y})),x[parseInt(B)].addPoint(new e({x:t.x,y:t.y})),u.addGeometry(x[parseInt(B)]),p.x=r.x+.6*A*Math.cos(z*Math.PI/180),p.y=r.y-.6*A*Math.sin(z*Math.PI/180),s=k(q,r,p,A/5,!0),t=k(q,r,p,A/5,!1),y[parseInt(B)]=new d,y[parseInt(B)].addPoint(new e({x:s.x,y:s.y})),y[parseInt(B)].addPoint(new e({x:t.x,y:t.y})),u.addGeometry(y[parseInt(B)])),p.x=l.x,p.y=l.y,i=!i,q.x=r.x,q.y=r.y}return[u]},p.prototype.getType=function(){return"lineabatis3propety"},p}(b,Rd,Sd,B,v,C,F,E),of=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint,c.pathLength),k=c.vertex,l=c.bTypeline,m=c.angle,l=(c.bzLine,c.bTypeline),n=c.gainPt,o=c.distance,p=function(a){this.$type="LineAbatis2Algorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:10};b.call(this,a);this.p1=null,this.p2=null};return i(p,b),p.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=l(i),this.getGraphParts(1)},p.prototype.getGraphParts=function(a){var b,c=j(bzPoints),f=c*a/80,g=parseInt(c/f),i=!1,l=null;l=n(bzPoints,c,1/g,b)[0];for(var p=new e({x:bzPoints[0].x,y:bzPoints[0].y}),q=k(p,l,p,f,!1),r=new e,s=new e,t=new e,u=new h,v=[],w=[],x=[],y=0,z=0,A=1;g>=A;A++){var B=A/g;l=1==B?bzPoints[bzPoints.length-1]:n(bzPoints,c,B,b)[0],s.x=p.x,s.y=p.y,t.x=l.x,t.y=l.y,r=k(s,t,s,f/2,i),1!=A&&(v[parseInt(A)]=new d,v[parseInt(A)].addPoint(new e({x:q.x,y:q.y})),v[parseInt(A)].addPoint(new e({x:r.x,y:r.y})),u.addGeometry(v[parseInt(A)]),y=m(r,q),270==y?y=90:90==y&&(y=270),z=o(q,r),p.x=r.x+.4*z*Math.cos(y*Math.PI/180),p.y=r.y-.4*z*Math.sin(y*Math.PI/180),s=k(q,r,p,z/5,!0),t=k(q,r,p,z/5,!1),w[parseInt(A)]=new d,w[parseInt(A)].addPoint(new e({x:s.x,y:s.y})),w[parseInt(A)].addPoint(new e({x:t.x,y:t.y})),u.addGeometry(w[parseInt(A)]),p.x=r.x+.6*z*Math.cos(y*Math.PI/180),p.y=r.y-.6*z*Math.sin(y*Math.PI/180),s=k(q,r,p,z/5,!0),t=k(q,r,p,z/5,!1),x[parseInt(A)]=new d,x[parseInt(A)].addPoint(new e({x:s.x,y:s.y})),x[parseInt(A)].addPoint(new e({x:t.x,y:t.y})),u.addGeometry(x[parseInt(A)])),p.x=l.x,p.y=l.y,i=!i,q.x=r.x,q.y=r.y}return[u]},p.prototype.getType=function(){return"lineabatis2propety"},p}(b,Rd,Sd,B,v,C,F,E),pf=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint,c.pathLength),k=c.bTypeline,l=c.vertex,m=c.angle,k=(c.bzLine,c.bTypeline),n=c.gainPt,o=c.distance,p=function(a){this.$type="LineAbatis1Algorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:10};b.call(this,a);this.p1=null,this.p2=null};return i(p,b),p.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=k(i),this.getGraphParts(1)},p.prototype.getGraphParts=function(a){var b,c=j(bzPoints),f=c*a/80,g=parseInt(c/f),i=!1,k=null;k=n(bzPoints,c,1/g,b)[0];for(var p=new e({x:bzPoints[0].x,y:bzPoints[0].y}),q=l(p,k,p,f,!1),r=new e,s=new e,t=new e,u=new h,v=[],w=[],x=0,y=0,z=1;g>=z;z++){var A=z/g;k=1==A?bzPoints[bzPoints.length-1]:n(bzPoints,c,A,b)[0],s.x=p.x,s.y=p.y,t.x=k.x,t.y=k.y,r=l(s,t,s,f/2,i),1!=z&&(v[parseInt(z)]=new d,v[parseInt(z)].addPoint(new e({x:q.x,y:q.y})),v[parseInt(z)].addPoint(new e({x:r.x,y:r.y})),u.addGeometry(v[parseInt(z)]),x=m(r,q),270==x?x=90:90==x&&(x=270),y=o(q,r),p.x=r.x+.5*y*Math.cos(x*Math.PI/180),p.y=r.y-.5*y*Math.sin(x*Math.PI/180),s=l(q,r,p,y/5,!0),t=l(q,r,p,y/5,!1),w[parseInt(z)]=new d,w[parseInt(z)].addPoint(new e({x:s.x,y:s.y})),w[parseInt(z)].addPoint(new e({x:t.x,y:t.y})),u.addGeometry(w[parseInt(z)])),p.x=k.x,p.y=k.y,i=!i,q.x=r.x,q.y=r.y}return[u]},p.prototype.getType=function(){return"lineabatis1propety"},p}(b,Rd,Sd,B,v,C,F,E),qf=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint,c.pathLength),k=c.vertex,l=c.bTypeline,m=c.angle,l=(c.bzLine,c.bTypeline);gainPt=c.gainPt,distance1=c.distance;var n=function(a){this.$type="LaighStakeAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:10};b.call(this,a);this.p1=null,this.p2=null};return i(n,b),n.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=l(i),this.getGraphParts(1)},n.prototype.getGraphParts=function(a){var b,c=j(bzPoints),f=c*a/80,g=parseInt(c/f),i=!1,l=null;l=gainPt(bzPoints,c,1/g,b)[0];for(var n=new e({x:bzPoints[0].x,y:bzPoints[0].y}),o=k(n,l,n,f,!1),p=new e,q=new e,r=new e,s=(new e,new h),t=[],u=[],v=0,w=0,x=1;g>=x;x++){var y=x/g;l=1==y?bzPoints[bzPoints.length-1]:gainPt(bzPoints,c,y,b)[0],q.x=n.x,q.y=n.y,r.x=l.x,r.y=l.y,p=k(q,r,q,f/2,i),1!=x&&(t[parseInt(x)]=new d,t[parseInt(x)].addPoint(new e({x:o.x,y:o.y})),t[parseInt(x)].addPoint(new e({x:p.x,y:p.y})),s.addGeometry(t[parseInt(x)]),v=m(p,o),270==v?v=90:90==v&&(v=270),w=distance1(o,p),n.x=p.x+.4*w*Math.cos(v*Math.PI/180),n.y=p.y-.4*w*Math.sin(v*Math.PI/180),q=k(o,p,n,w/5,!0),n.x=p.x+.5*w*Math.cos(v*Math.PI/180),n.y=p.y-.5*w*Math.sin(v*Math.PI/180),r=k(o,p,n,w/5,!1),n.x=p.x+.6*w*Math.cos(v*Math.PI/180),n.y=p.y-.6*w*Math.sin(v*Math.PI/180),point5=k(o,p,n,w/5,!0),u[parseInt(x)]=new d,u[parseInt(x)].addPoint(new e({x:q.x,y:q.y})),u[parseInt(x)].addPoint(new e({x:r.x,y:r.y})),u[parseInt(x)].addPoint(new e({x:point5.x,y:point5.y})),s.addGeometry(u[parseInt(x)])),n.x=l.x,n.y=l.y,i=!i,o.x=p.x,o.y=p.y}return[s]},n.prototype.getType=function(){return"laighstakepropety"},n}(b,Rd,Sd,B,v,C,F,E),rf=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint),k=c.pathLength,l=c.vertex,m=(c.angle,c.bzLine,c.bTypeline),n=c.gainPt,o=c.distance;polarAngle360=c.polarAngle360,midPoint=c.midPoint,getPolarPointOfCenterPoint=c.getPolarPointOfCenterPoint,getMapPoints=c.getMapPoints;var p=function(a){this.$type="TankMusColumnAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null};return i(p,b),p.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=m(i),this.getGraphParts(1)},p.prototype.getGraphParts=function(a){var b,c,e,i,m,p=[],q=[],s=[],t=[],u=[],v=[],w=[],x=[],y=[],z=[],A=[],B=[],C=[],D=new h,E=k(bzPoints),F=E*a*4/150,G=4*E*a/300;p=n(bzPoints,E,.4,b)[0],q=n(bzPoints,E,6.5/15,c)[0],b=n(bzPoints,E,.4,b)[1],c=n(bzPoints,E,6.5/15,c)[1],v=l(p,q,p,F,!1),u=l(p,q,p,1.5*F,!0),x=l(p,q,q,F,!1),w=l(p,q,q,1.5*F,!0),pCRec1=new d,pCRec1.addPoint(p),pCRec1.addPoint(v);var H=polarAngle360(v,x);y=midPoint(v,x);var I=o(v,x);rRec1=I/2;for(var J=H+180;J>=H;J--)pCRec1.addPoint(getPolarPointOfCenterPoint(y,J,rRec1));pCRec1.addPoint(x),pCRec1.addPoint(q),pCRec1.addPoint(w),pCRec1.addPoint(u),pCRec1.addPoint(p),D.addGeometry(pCRec1),s=n(bzPoints,E,8.5/15,e)[0],t=n(bzPoints,E,9.2/15,i)[0],e=n(bzPoints,E,8.5/15,e)[1],i=n(bzPoints,E,9.2/15,i)[1],centerPoint2=midPoint(s,t),x=l(s,centerPoint2,centerPoint2,1.5*F,!1),w=l(s,centerPoint2,centerPoint2,1.5*F,!0),pCRec2=new d,pCRec2.addPoint(s),pCRec2.addPoint(x),pCRec2.addPoint(t),pCRec2.addPoint(w),pCRec2.addPoint(s),D.addGeometry(pCRec2),centerPoint1=midPoint(p,q),r=G,pCCircle1=new d;for(var K=0;360>=K;K++)pCCircle1.addPoint(getPolarPointOfCenterPoint(centerPoint1,K,r));D.addGeometry(pCCircle1),z=n(bzPoints,E,.5,m)[0],A=n(bzPoints,E,.49,b)[0],B=n(bzPoints,E,.51,c)[0],C=l(A,B,z,5*F,!1);var L=new d;L.addPoint(z),L.addPoint(C),D.addGeometry(L);{var M=o(z,C);z.x}ny=z.y;{var N,O,P,Q,R=j(z,C,.8);R.x,R.y}N=l(z,R,R,M/8,!0),O=l(z,R,R,M/8,!1),P=j(z,C,1.25),Q=C;var S=new d;S.addPoint(N),S.addPoint(P),S.addPoint(O),S.addPoint(Q),S.addPoint(N);var T=new f,U=[N,P,O,Q,N];T.points.length>0?T.points=U:T.addPoint(U);var V=new g;V.addGeometry(T),pcPl1=new d;for(var W=0;b>W;W++)pcPl1.addPoint(bzPoints[W]);pcPl1.addPoint(p),D.addGeometry(pcPl1),pcPl2=new d,pcPl2.addPoint(q);for(var K=c;e>K;K++)pcPl2.addPoint(bzPoints[K]);pcPl2.addPoint(s),D.addGeometry(pcPl2),pcPl3=new d,pcPl3.addPoint(t);for(var X=(bzPoints.length,i);X<bzPoints.length;X++)pcPl3.addPoint(bzPoints[X]);return D.addGeometry(pcPl3),[V,D]},p.prototype.getType=function(){return"tankmuscolumnpropety"},p}(b,Rd,Sd,B,v,C,F,E),sf=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint),k=c.pathLength,l=c.vertex,m=c.angle;distance=c.distance,bTypeline=c.bTypeline,bzLine=c.bzLine;var n=function(a){this.$type="WaterageAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:10};b.call(this,a),this.p1=null,this.p2=null};return i(n,b),n.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=bTypeline(i),this.getGraphParts(1)},n.prototype.getGraphParts=function(a){var b,c,i,n,o,p,q,r,s,t=new d,u=new d,v=(new d,new e,new e,new e),w=new e,x=new e,y=new e,z=new e,A=new e,B=(new e,new e),A=new e,C=new e,D=new e,E=new e,F=new e,G=(new e,new e,new e,new e,new e,new e,new e),H=new e,I=new e,J=new e,K=new h,L=k(bzPoints),M=L*a/50;x=gainPt(bzPoints,L,3/7,q)[0],y=gainPt(bzPoints,L,4/7,r)[0],q=gainPt(bzPoints,L,3/7,q)[1],r=gainPt(bzPoints,L,4/7,r)[1];var N=Math.sqrt((x.x-y.x)*(x.x-y.x)+(x.y-y.y)*(x.y-y.y)),O=m(x,y);90==O?O=270:270==O&&(O=90),b=x.x+.2*N*Math.cos(O*Math.PI/180),c=x.y-.2*N*Math.sin(O*Math.PI/180),i=x.x+.8*N*Math.cos(O*Math.PI/180),n=x.y-.8*N*Math.sin(O*Math.PI/180);var P=new e,Q=new e,P=new e({x:b,y:c}),Q=new e({x:i,y:n});o=x.x+.5*N*Math.cos(O*Math.PI/180),p=x.y-.5*N*Math.sin(O*Math.PI/180);var R=new e,R=new e({x:o,y:p});G=l(P,Q,P,M,!0),H=l(P,Q,P,M,!1),v=l(P,Q,R,M,!0),w=l(P,Q,R,M,!1);var S=new d;S.addPoint(G),S.addPoint(H),S.addPoint(w),S.addPoint(v),S.addPoint(G),K.addGeometry(S),I=l(P,Q,Q,M,!0),J=l(P,Q,Q,M,!1);var T=new d;T.addPoint(G),T.addPoint(H),T.addPoint(J),T.addPoint(I),T.addPoint(G),K.addGeometry(T),G=l(P,Q,P,M,!0),H=l(P,Q,P,M,!1);var T=new d;T.addPoint(G),T.addPoint(H),T.addPoint(w),T.addPoint(v),K.addGeometry(T),M=L*a/20;var U=new e,V=new e,W=new e,X=new e;U=l(P,Q,P,M,!0),V=l(P,Q,P,M,!1),W=l(P,Q,Q,M,!0),X=l(P,Q,Q,M,!1);var Y=new d;this.newPoints1=[],this.newPoints1.push(x),this.newPoints1.push(U),this.newPoints1.push(W),this.newPoints1.push(y);var Z=this.newPoints1,$=bzLine(Z);Y.addPoint(x);for(var _=0;_<$.length;_++)Y.addPoint($[_]);Y.addPoint(y),K.addGeometry(Y);var ab=new d;this.newPoints2=[],this.newPoints2.push(x),this.newPoints2.push(V),this.newPoints2.push(X),this.newPoints2.push(y);var bb=this.newPoints2,cb=bzLine(bb);ab.addPoint(x);for(var _=0;_<cb.length;_++)ab.addPoint(cb[_]);ab.addPoint(y),K.addGeometry(ab);for(var _=0;q>_;_++)t.addPoint(bzPoints[_]);t.addPoint(x),K.addGeometry(t),u.addPoint(y);for(var db=bzPoints.length,eb=r;db>eb;eb++)u.addPoint(bzPoints[eb]);K.addGeometry(u);var z=new e,A=new e;z=gainPt(bzPoints,L,12.7/13,s)[0];var B=bzPoints[db-1];A=j(z,B,2.5);var fb=new g;C=l(B,z,z,M/2.5,!0),D=l(B,z,z,M/2.5,!1),E=A,F=B;var gb=new f,hb=[C,E,D,F,C];return gb.points.length>0?gb.points=hb:gb.addPoint(hb),fb.addGeometry(gb),[fb,K]},n.prototype.getType=function(){return"wateragepropety"},n}(b,Rd,Sd,B,v,C,F,E),tf=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint),k=c.pathLength,l=c.vertex,m=c.bTypeline,n=c.angle;distance=c.distance;var o=function(a){this.$type="HelicopterTransportAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:10};b.call(this,a),this.p1=null,this.p2=null};return i(o,b),o.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=m(i),this.getGraphParts(1)},o.prototype.getGraphParts=function(a){var b,c,i,m,o,p=new d,q=new d,r=(new d,new d),s=new d,t=new d,u=new e,v=new e,w=new e,x=new e,y=new e,z=new e,A=new e,B=new e,C=(new e,new e),B=new e,D=new e,E=new e,F=new e,G=new e,H=(new e,new e,new e,new e,new e,new e,new e),I=new e,J=new e,K=new e,L=new h,M=k(bzPoints),N=M*a/35,O=M*a/18;u=gainPt(bzPoints,M,7/15,i)[0],v=gainPt(bzPoints,M,.6,m)[0],i=gainPt(bzPoints,M,7/15,i)[1],m=gainPt(bzPoints,M,.6,m)[1],w=l(u,v,u,N,!1),x=l(u,v,u,2*N,!1),y=l(u,v,v,N,!1),z=l(u,v,v,2*N,!1),r.addPoint(w),r.addPoint(z),L.addGeometry(r),s.addPoint(x),s.addPoint(y),L.addGeometry(s),y=new e({x:(x.x+y.x)/2,y:(x.y+y.y)/2});var P=n(u,v);90==P?P=270:270==n&&(P=90),N=M*a/23,O=Math.sqrt((u.x-v.x)*(u.x-v.x)+(u.y-v.y)*(u.y-v.y)),b=u.x+.3*O*Math.cos(P*Math.PI/180),c=u.y-.3*O*Math.sin(P*Math.PI/180);var Q=new e;Q=new e({x:b,y:c}),J=l(u,v,Q,N,!0),K=l(u,v,Q,1.5*N,!0),b=u.x+.7*O*Math.cos(P*Math.PI/180),c=u.y-.7*O*Math.sin(P*Math.PI/180);var R=new e;R=new e({x:b,y:c}),H=l(u,v,R,N,!0),I=l(u,v,R,1.5*N,!0),t.addPoint(J),t.addPoint(K),t.addPoint(I),t.addPoint(H),t.addPoint(J),L.addGeometry(t);var S=new d;z=new e({x:(H.x+J.x)/2,y:(H.y+J.y)/2}),S.addPoint(y),S.addPoint(z),L.addGeometry(S);for(var T=0;i>T;T++)p.addPoint(bzPoints[T]);p.addPoint(u),L.addGeometry(p),q.addPoint(v);for(var U=bzPoints.length,V=m;U>V;V++)q.addPoint(bzPoints[V]);L.addGeometry(q);var U=bzPoints.length,A=new e,B=new e;A=gainPt(bzPoints,M,12.7/13,o)[0];var C=bzPoints[U-1];B=j(A,C,2.5);var W=new g;D=l(C,A,A,N/2.5,!0),E=l(C,A,A,N/2.5,!1),F=B,G=C;var X=new f,Y=[D,F,E,G,D];return X.points.length>0?X.points=Y:X.addPoint(Y),W.addGeometry(X),[W,L]},o.prototype.getType=function(){return"helicoptertransportpropety"},o}(b,Rd,Sd,B,v,C,F,E),uf=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint),k=c.pathLength,l=c.bTypeline,m=c.vertex,n=c.angle;distance=c.distance;var o=function(a){this.$type="HighWayAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:10};b.call(this,a),this.p1=null,this.p2=null};return i(o,b),o.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=l(i),this.getGraphParts(1)},o.prototype.getGraphParts=function(a){var b,c,i,l,o,p=new d,q=new d,r=(new d,new e),s=new e,t=new e,u=new e,v=new e,w=new e,x=new e,y=new e,z=new e,A=(new e,new e),z=new e,B=new e,C=new e,D=new e,E=new e,F=(new e,new e,new e,new e,new e,new e,new e,new e,new e,new e,new h),G=k(bzPoints),H=G*a/30;r=gainPt(bzPoints,G,3/7,i)[0],s=gainPt(bzPoints,G,4/7,l)[0],i=gainPt(bzPoints,G,3/7,i)[1],l=gainPt(bzPoints,G,4/7,l)[1];var I=n(r,s);90==I?I=270:270==I&&(I=90);var J=Math.sqrt((r.x-s.x)*(r.x-s.x)+(r.y-s.y)*(r.y-s.y));b=r.x+.8*J*Math.cos(I*Math.PI/180),c=r.y-.8*J*Math.sin(I*Math.PI/180),x=m(r,s,r,H,!0),w=m(r,s,r,H,!1),t=m(r,s,s,H,!1);var K=new e,K=new e({x:b,y:c});u=m(r,s,K,H,!0),v=new e({x:b,y:c});var L=new d;L.addPoint(x),L.addPoint(w),L.addPoint(t),L.addPoint(s),L.addPoint(u),L.addPoint(x),F.addGeometry(L);for(var M=0;i>M;M++)p.addPoint(bzPoints[M]);p.addPoint(r),F.addGeometry(p),q.addPoint(s);for(var N=bzPoints.length,O=l;N>O;O++)q.addPoint(bzPoints[O]);F.addGeometry(q);var y=new e,z=new e;y=gainPt(bzPoints,G,12.7/13,o)[0];var A=bzPoints[N-1];z=j(y,A,2.5);var P=new g;B=m(A,y,y,H/2.5,!0),C=m(A,y,y,H/2.5,!1),D=z,E=A;var Q=new f,R=[B,D,C,E,B];return Q.points.length>0?Q.points=R:Q.addPoint(R),P.addGeometry(Q),[P,F]},o.prototype.getType=function(){return"highwaypropety"},o}(b,Rd,Sd,B,v,C,F,E),vf=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=a.deepCopy,k=c.scalePoint,l=c.pathLength,m=c.vertex,n=(c.angle,c.bzLine,c.bTypeline),o=c.gainPt,p=c.distance,q=function(a){this.$type="ArsenalAlgorithm,http://www.Gs.com";var a={minCpt:3,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null};return i(q,b),q.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=n(i),this.getGraphParts(1)},q.prototype.getGraphParts=function(a){for(var b,c,e=[],i=[],n=[],q=[],r=[],s=[],t=new d,u=bzPoints.length,v=0;u-1>=v;v++)t.addPoint(bzPoints[v]);var w=new h;w.addGeometry(t);var x=l(bzPoints),y=x*a*4/210;i=o(bzPoints,x,1/31,b)[0],e=j(bzPoints[0]);var z=p(e,i);pline4=o(bzPoints,x,12.7/13,c)[0];var A=j(bzPoints[bzPoints.length-1]);pline6=k(pline4,A,2.5),n=m(i,e,e,.75*z,!1),r=m(i,e,e,.75*z,!0),q=m(e,n,n,3*z,!0),s=m(e,r,r,3*z,!1);var B=new d;B.addPoint(n),B.addPoint(q),B.addPoint(s),B.addPoint(r),B.addPoint(n),w.addGeometry(B);var C=k(n,r,.3),D=k(n,r,.7);if(bzPoints[0].x<=bzPoints[1].x)var E=m(n,C,D,.7*3*z,!1),F=m(n,D,C,.6*3*z,!1),G=m(n,C,D,1.5*z,!1),H=m(n,D,C,.4*3*z,!1),I=m(n,C,D,.3*3*z,!1);else var E=m(n,C,C,.7*3*z,!1),F=m(n,D,D,.6*3*z,!1),G=m(n,C,C,1.5*z,!1),H=m(n,D,D,.4*3*z,!1),I=m(n,C,C,.3*3*z,!1);var J=new d;J.addPoint(E),J.addPoint(F),J.addPoint(G),J.addPoint(H),J.addPoint(I),w.addGeometry(J);var K,L,M,N,O=new g;K=m(A,pline4,pline4,1*y,!0),L=m(A,pline4,pline4,1*y,!1),M=pline6,N=A;var P=new f,Q=[K,M,L,N,K];return P.points.length>0?P.points=Q:P.addPoint(Q),O.addGeometry(P),[O,w]},q.prototype.getType=function(){return"arsenal"},q}(b,Rd,Sd,B,v,C,F,E),wf=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=a.deepCopy,k=c.scalePoint,l=c.pathLength,m=c.vertex,n=(c.angle,c.bzLine,c.bTypeline),o=c.gainPt,p=c.distance,q=function(a){this.$type="ArsenalAlgorithm,http://www.Gs.com";var a={minCpt:3,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null};return i(q,b),q.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=n(i),this.getGraphParts(1)},q.prototype.getGraphParts=function(a){for(var b,c,e=[],i=[],n=[],q=[],r=[],s=[],t=[],u=[],v=[],w=[],x=[],y=[],z=new d,A=bzPoints.length,B=0;A-1>=B;B++)z.addPoint(bzPoints[B]);var C=new h;C.addGeometry(z);var D=l(bzPoints),E=D*a*4/210;i=o(bzPoints,D,1/31,b)[0],e=j(bzPoints[0]);var F=p(e,i);pline4=o(bzPoints,D,12.7/13,c)[0];var G=j(bzPoints[bzPoints.length-1]);pline6=k(pline4,G,2.5),t=m(i,e,e,.75*F,!1),v=m(i,e,e,.75*F,!0),u=m(e,t,t,3*F,!0),w=m(e,v,v,3*F,!1);var H=new d;H.addPoint(t),H.addPoint(u),H.addPoint(w),H.addPoint(v),H.addPoint(t),C.addGeometry(H);var I=k(t,v,.25),J=k(t,v,.75);n=m(t,I,I,.3*3*F,!1),r=m(t,I,I,1.5*F,!1),x=m(t,J,J,.3*3*F,!1),q=m(t,I,I,.7*3*F,!1),s=m(t,J,J,1.5*F,!1),y=m(t,J,J,.7*3*F,!1);var K=new d;K.addPoint(n),K.addPoint(q),C.addGeometry(K);var L=new d;L.addPoint(y),L.addPoint(x),C.addGeometry(L);var M=new d;M.addPoint(r),M.addPoint(s),C.addGeometry(M);var N,O,P,Q,R=new g;N=m(G,pline4,pline4,1*E,!0),O=m(G,pline4,pline4,1*E,!1),P=pline6,Q=G;var S=new f,T=[N,P,O,Q,N];return S.points.length>0?S.points=T:S.addPoint(T),R.addGeometry(S),[R,C]},q.prototype.getType=function(){return"arsenal"},q}(b,Rd,Sd,B,v,C,F,E),xf=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=a.deepCopy,k=c.scalePoint,l=c.pathLength,m=c.vertex,n=(c.angle,c.bzLine,c.bTypeline),o=c.gainPt,p=c.distance,q=function(a){this.$type="ArsenalAlgorithm,http://www.Gs.com";var a={minCpt:3,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null};return i(q,b),q.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=n(i),this.getGraphParts(1)},q.prototype.getGraphParts=function(a){for(var b,c,e=[],i=[],n=[],q=[],r=[],s=[],t=new d,u=bzPoints.length,v=0;u-1>=v;v++)t.addPoint(bzPoints[v]);var w=new h;w.addGeometry(t);var x=l(bzPoints),y=x*a*4/210;i=o(bzPoints,x,1/31,b)[0],e=j(bzPoints[0]);var z=p(e,i);pline4=o(bzPoints,x,12.7/13,c)[0];var A=j(bzPoints[bzPoints.length-1]);pline6=k(pline4,A,2.5),n=m(i,e,e,.75*z,!1),r=m(i,e,e,.75*z,!0),q=m(e,n,n,3*z,!0),s=m(e,r,r,3*z,!1);var B=new d;B.addPoint(n),B.addPoint(q),B.addPoint(s),B.addPoint(r),B.addPoint(n),w.addGeometry(B);var C=k(n,r,.18),D=k(n,r,.82),E=k(n,r,.5),F=m(n,C,D,1.5*z,!1),G=m(n,C,C,1.5*z,!1),H=m(n,C,E,.7*3*z,!1),I=m(n,C,E,.3*3*z,!1),J=new d;J.addPoint(F),J.addPoint(G),w.addGeometry(J);var K=new d;K.addPoint(H),K.addPoint(I),w.addGeometry(K);var L,M,N,O,P=new g;L=m(A,pline4,pline4,1*y,!0),M=m(A,pline4,pline4,1*y,!1),N=pline6,O=A;var Q=new f,R=[L,N,M,O,L];return Q.points.length>0?Q.points=R:Q.addPoint(R),P.addGeometry(Q),[P,w]},q.prototype.getType=function(){return"arsenal"},q}(b,Rd,Sd,B,v,C,F,E),yf=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=a.deepCopy,k=c.scalePoint,l=c.pathLength,m=c.vertex,n=(c.angle,c.bzLine,c.bTypeline),o=c.gainPt,p=c.distance,q=function(a){this.$type="ArsenalAlgorithm,http://www.Gs.com";var a={minCpt:3,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null};return i(q,b),q.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=n(i),this.getGraphParts(1)},q.prototype.getGraphParts=function(a){for(var b,c,e=[],i=[],n=[],q=[],r=[],s=[],t=new d,u=bzPoints.length,v=0;u-1>=v;v++)t.addPoint(bzPoints[v]);var w=new h;w.addGeometry(t);var x=l(bzPoints),y=x*a*4/210;i=o(bzPoints,x,1/31,b)[0],e=j(bzPoints[0]);var z=p(e,i);pline4=o(bzPoints,x,12.7/13,c)[0];var A=j(bzPoints[bzPoints.length-1]);pline6=k(pline4,A,2.5),n=m(i,e,e,.75*z,!1),r=m(i,e,e,.75*z,!0),q=m(e,n,n,3*z,!0),s=m(e,r,r,3*z,!1);var B=new d;B.addPoint(n),B.addPoint(q),B.addPoint(s),B.addPoint(r),B.addPoint(n),w.addGeometry(B);var C=k(n,q,.3),D=k(n,q,.33),E=k(n,q,.37),F=k(n,q,.63),G=k(n,q,.67),H=k(n,q,.7);if(bzPoints[0].x<=bzPoints[1].x)var I=m(n,C,C,.7*1.5*z,!0),J=m(n,E,E,.7*1.5*z,!0),K=m(n,G,G,.2*1.5*z,!0),L=m(n,D,D,.2*1.5*z,!0),M=m(n,F,F,.7*1.5*z,!0),N=m(n,H,H,.7*1.5*z,!0);else var I=m(n,C,C,.3*1.5*z,!0),J=m(n,E,E,.3*1.5*z,!0),K=m(n,G,G,.8*1.5*z,!0),L=m(n,D,D,.8*1.5*z,!0),M=m(n,F,F,.3*1.5*z,!0),N=m(n,H,H,.3*1.5*z,!0);var O=new d;O.addPoint(I),O.addPoint(J),O.addPoint(K),w.addGeometry(O);var P=new d;P.addPoint(L),P.addPoint(M),P.addPoint(N),w.addGeometry(P);var Q,R,S,T,U=new g;Q=m(A,pline4,pline4,1*y,!0),R=m(A,pline4,pline4,1*y,!1),S=pline6,T=A;var V=new f,W=[Q,S,R,T,Q];return V.points.length>0?V.points=W:V.addPoint(W),U.addGeometry(V),[U,w]},q.prototype.getType=function(){return"arsenal"},q}(b,Rd,Sd,B,v,C,F,E),zf=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=a.deepCopy,k=c.scalePoint,l=c.pathLength,m=c.vertex,n=(c.angle,c.bzLine,c.bTypeline),o=c.gainPt,p=c.distance,q=function(a){this.$type="ArsenalAlgorithm,http://www.Gs.com";var a={minCpt:3,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null};return i(q,b),q.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=n(i),this.getGraphParts(1)},q.prototype.getGraphParts=function(a){for(var b,c,e=[],i=[],n=[],q=[],r=[],s=[],t=new d,u=bzPoints.length,v=0;u-1>=v;v++)t.addPoint(bzPoints[v]);var w=new h;w.addGeometry(t);var x=l(bzPoints),y=x*a*4/210;i=o(bzPoints,x,1/31,b)[0],e=j(bzPoints[0]);var z=p(e,i);pline4=o(bzPoints,x,12.7/13,c)[0];var A=j(bzPoints[bzPoints.length-1]);pline6=k(pline4,A,2.5),n=m(i,e,e,.75*z,!1),r=m(i,e,e,.75*z,!0),q=m(e,n,n,3*z,!0),s=m(e,r,r,3*z,!1);var B=new d;B.addPoint(n),B.addPoint(q),B.addPoint(s),B.addPoint(r),B.addPoint(n),w.addGeometry(B);var C=k(n,r,.35),D=k(n,r,.65),E=m(n,C,D,.8*3*z,!1),F=m(n,C,D,.2*3*z,!1),G=m(n,C,D,1.5*z,!1),H=m(E,F,G,.15*1.5*z,!1),I=m(n,D,C,.8*3*z,!1),J=m(n,D,C,.2*3*z,!1),K=m(n,D,C,1.5*z,!1),L=m(I,J,K,.15*1.5*z,!0),M=new d;M.addPoint(E),M.addPoint(F),w.addGeometry(M);var N=new d;N.addPoint(I),N.addPoint(J),w.addGeometry(N);var O=new d;O.addPoint(G),O.addPoint(H),w.addGeometry(O);var P=new d;P.addPoint(K),P.addPoint(L),w.addGeometry(P);var Q,R,S,T,U=new g;Q=m(A,pline4,pline4,1*y,!0),R=m(A,pline4,pline4,1*y,!1),S=pline6,T=A;var V=new f,W=[Q,S,R,T,Q];return V.points.length>0?V.points=W:V.addPoint(W),U.addGeometry(V),[U,w]},q.prototype.getType=function(){return"arsenal"},q}(b,Rd,Sd,B,v,C,F,E),Af=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=a.deepCopy,k=c.scalePoint,l=c.pathLength,m=c.vertex,n=(c.angle,c.bzLine,c.bTypeline),o=c.gainPt,p=c.distance,q=function(a){this.$type="ArsenalAlgorithm,http://www.Gs.com";var a={minCpt:3,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null};return i(q,b),q.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=n(i),this.getGraphParts(1)},q.prototype.getGraphParts=function(a){for(var b,c,e=[],i=[],n=[],q=[],r=[],s=[],t=new d,u=bzPoints.length,v=0;u-1>=v;v++)t.addPoint(bzPoints[v]);var w=new h;w.addGeometry(t);var x=l(bzPoints),y=x*a*4/210;i=o(bzPoints,x,1/31,b)[0],e=j(bzPoints[0]);var z=p(e,i);pline4=o(bzPoints,x,12.7/13,c)[0];var A=j(bzPoints[bzPoints.length-1]);pline6=k(pline4,A,2.5),n=m(i,e,e,.75*z,!1),r=m(i,e,e,.75*z,!0),q=m(e,n,n,3*z,!0),s=m(e,r,r,3*z,!1);var B=new d;B.addPoint(n),B.addPoint(q),B.addPoint(s),B.addPoint(r),B.addPoint(n),w.addGeometry(B);var C=k(n,r,.2),D=k(n,r,.8),E=m(n,D,C,2.46*z,!1),F=m(n,C,D,.55*3*z,!1),G=m(n,D,C,1.35*z,!1),H=m(n,C,D,.54*z,!1),I=new d;I.addPoint(E),I.addPoint(F),I.addPoint(G),I.addPoint(H),w.addGeometry(I);var J,K,L,M,N=new g;J=m(A,pline4,pline4,1*y,!0),K=m(A,pline4,pline4,1*y,!1),L=pline6,M=A;var O=new f,P=[J,L,K,M,J];return O.points.length>0?O.points=P:O.addPoint(P),N.addGeometry(O),[N,w]},q.prototype.getType=function(){return"arsenal"},q}(b,Rd,Sd,B,v,C,F,E),Bf=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=a.deepCopy,k=c.scalePoint,l=c.pathLength,m=c.vertex,n=(c.angle,c.bzLine,c.bTypeline),o=c.gainPt,p=c.distance,q=function(a){this.$type="ArsenalAlgorithm,http://www.Gs.com";var a={minCpt:3,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null};return i(q,b),q.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=n(i),this.getGraphParts(1)},q.prototype.getGraphParts=function(a){for(var b,c,e=[],i=[],n=[],q=[],r=[],s=[],t=new d,u=bzPoints.length,v=0;u-1>=v;v++)t.addPoint(bzPoints[v]);var w=new h;w.addGeometry(t);var x=l(bzPoints),y=x*a*4/210;i=o(bzPoints,x,1/31,b)[0],e=j(bzPoints[0]);var z=p(e,i);pline4=o(bzPoints,x,12.7/13,c)[0];var A=j(bzPoints[bzPoints.length-1]);pline6=k(pline4,A,2.5),n=m(i,e,e,.75*z,!1),r=m(i,e,e,.75*z,!0),q=m(e,n,n,3*z,!0),s=m(e,r,r,3*z,!1);
var B=new d;B.addPoint(n),B.addPoint(q),B.addPoint(s),B.addPoint(r),B.addPoint(n),w.addGeometry(B);var C=k(n,r,.25),D=k(n,r,.75),E=m(n,C,D,.7*3*z,!1),F=m(n,C,D,.6*3*z,!1),G=m(n,C,D,.4*3*z,!1),H=m(n,C,D,.3*3*z,!1),I=m(n,D,C,.7*3*z,!1),J=m(n,D,C,.6*3*z,!1),K=m(n,D,C,.4*3*z,!1),L=m(n,D,C,.3*3*z,!1),M=new d;M.addPoint(E),M.addPoint(F),M.addPoint(K),M.addPoint(L),w.addGeometry(M);var N=new d;N.addPoint(I),N.addPoint(J),N.addPoint(G),N.addPoint(H),w.addGeometry(N);var O,P,Q,R,S=new g;O=m(A,pline4,pline4,1*y,!0),P=m(A,pline4,pline4,1*y,!1),Q=pline6,R=A;var T=new f,U=[O,Q,P,R,O];return T.points.length>0?T.points=U:T.addPoint(U),S.addGeometry(T),[S,w]},q.prototype.getType=function(){return"arsenal"},q}(b,Rd,Sd,B,v,C,F,E),Cf=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=a.deepCopy,k=c.scalePoint,l=c.pathLength,m=c.vertex,n=(c.angle,c.bzLine,c.bTypeline),o=c.gainPt,p=c.distance,q=function(a){this.$type="ArsenalAlgorithm,http://www.Gs.com";var a={minCpt:3,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null};return i(q,b),q.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=n(i),this.getGraphParts(1)},q.prototype.getGraphParts=function(a){for(var b,c,e=[],i=[],n=[],q=[],r=[],s=[],t=new d,u=bzPoints.length,v=0;u-1>=v;v++)t.addPoint(bzPoints[v]);var w=new h;w.addGeometry(t);var x=l(bzPoints),y=x*a*4/210;i=o(bzPoints,x,1/31,b)[0],e=j(bzPoints[0]);var z=p(e,i);pline4=o(bzPoints,x,12.7/13,c)[0];var A=j(bzPoints[bzPoints.length-1]);pline6=k(pline4,A,2.5),n=m(i,e,e,.75*z,!1),r=m(i,e,e,.75*z,!0),q=m(e,n,n,3*z,!0),s=m(e,r,r,3*z,!1);var B=new d;B.addPoint(n),B.addPoint(q),B.addPoint(s),B.addPoint(r),B.addPoint(n),w.addGeometry(B);var C=k(n,r,.2),D=k(n,r,.8),E=m(n,C,D,.65*3*z,!1),F=m(n,C,D,.3*3*z,!1),G=m(n,D,C,.65*3*z,!1),H=m(n,D,C,.3*3*z,!1),I=new d;I.addPoint(E),I.addPoint(F),I.addPoint(G),I.addPoint(H),w.addGeometry(I);var J,K,L,M,N=new g;J=m(A,pline4,pline4,1*y,!0),K=m(A,pline4,pline4,1*y,!1),L=pline6,M=A;var O=new f,P=[J,L,K,M,J];return O.points.length>0?O.points=P:O.addPoint(P),N.addGeometry(O),[N,w]},q.prototype.getType=function(){return"arsenal"},q}(b,Rd,Sd,B,v,C,F,E),Df=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=a.deepCopy,k=c.scalePoint,l=c.pathLength,m=c.vertex,n=(c.angle,c.bzLine,c.bTypeline),o=c.gainPt,p=c.distance,q=function(a){this.$type="ArsenalAlgorithm,http://www.Gs.com";var a={minCpt:3,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null};return i(q,b),q.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=n(i),this.getGraphParts(1)},q.prototype.getGraphParts=function(a){for(var b,c,e=[],i=[],n=[],q=[],r=[],s=[],t=[],u=[],v=[],w=[],x=[],y=[],z=new d,A=bzPoints.length,B=0;A-1>=B;B++)z.addPoint(bzPoints[B]);var C=new h;C.addGeometry(z);var D=l(bzPoints),E=D*a*4/210;i=o(bzPoints,D,1/31,b)[0],e=j(bzPoints[0]);var F=p(e,i);pline4=o(bzPoints,D,12.7/13,c)[0];var G=j(bzPoints[bzPoints.length-1]);pline6=k(pline4,G,2.5),t=m(i,e,e,.75*F,!1),v=m(i,e,e,.75*F,!0),u=m(e,t,t,3*F,!0),w=m(e,v,v,3*F,!1);var H=new d;H.addPoint(t),H.addPoint(u),H.addPoint(w),H.addPoint(v),H.addPoint(t),C.addGeometry(H);var I=k(t,v,.25),J=k(t,v,.75);n=m(t,I,I,.3*3*F,!1),r=m(t,I,I,1.5*F,!1),x=m(t,J,J,.3*3*F,!1),q=m(t,I,I,.7*3*F,!1),s=m(t,J,J,1.5*F,!1),y=m(t,J,J,.7*3*F,!1);var K=new d;K.addPoint(n),K.addPoint(q),C.addGeometry(K);var L=new d;L.addPoint(y),L.addPoint(x),C.addGeometry(L);var M=new d;if(M.addPoint(r),M.addPoint(s),C.addGeometry(M),bzPoints[0].x<=bzPoints[1].x)var N=m(e,i,i,1.5*F,!0);else var N=m(e,i,i,1.5*F,!1);var O,P,Q,R,S=new g;O=m(G,pline4,pline4,1*E,!0),P=m(G,pline4,pline4,1*E,!1),Q=pline6,R=G;var T=new f,U=[O,Q,P,R,O];return T.points.length>0?T.points=U:T.addPoint(U),S.addGeometry(T),[S,C,N]},q.prototype.getType=function(){return"arsenal"},q}(b,Rd,Sd,B,v,C,F,E),Ef=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=a.deepCopy,k=c.scalePoint,l=c.pathLength,m=c.vertex,n=(c.angle,c.bzLine,c.bTypeline),o=c.gainPt,p=c.distance,q=function(a){this.$type="ArsenalAlgorithm,http://www.Gs.com";var a={minCpt:3,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null};return i(q,b),q.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=n(i),this.getGraphParts(1)},q.prototype.getGraphParts=function(a){for(var b,c,e=[],i=[],n=[],q=[],r=[],s=[],t=[],u=[],v=[],w=[],x=[],y=[],z=new d,A=bzPoints.length,B=0;A-1>=B;B++)z.addPoint(bzPoints[B]);var C=new h;C.addGeometry(z);var D=l(bzPoints),E=D*a*4/210;i=o(bzPoints,D,1/31,b)[0],e=j(bzPoints[0]);var F=p(e,i);pline4=o(bzPoints,D,12.7/13,c)[0];var G=j(bzPoints[bzPoints.length-1]);pline6=k(pline4,G,2.5),t=m(i,e,e,.75*F,!1),v=m(i,e,e,.75*F,!0),u=m(e,t,t,3*F,!0),w=m(e,v,v,3*F,!1);var H=new d;H.addPoint(t),H.addPoint(u),H.addPoint(w),H.addPoint(v),H.addPoint(t),C.addGeometry(H);var I=k(t,v,.25),J=k(t,v,.75);n=m(t,I,I,.3*3*F,!1),r=m(t,I,I,1.5*F,!1),x=m(t,J,J,.3*3*F,!1),q=m(t,I,I,.7*3*F,!1),s=m(t,J,J,1.5*F,!1),y=m(t,J,J,.7*3*F,!1);var K=new d;K.addPoint(n),K.addPoint(q),C.addGeometry(K);var L=new d;L.addPoint(y),L.addPoint(x),C.addGeometry(L);var M=new d;if(M.addPoint(r),M.addPoint(s),C.addGeometry(M),bzPoints[0].x<=bzPoints[1].x)var N=m(e,i,i,1.5*F,!0);else var N=m(e,i,i,1.5*F,!1);var O,P,Q,R,S=new g;O=m(G,pline4,pline4,1*E,!0),P=m(G,pline4,pline4,1*E,!1),Q=pline6,R=G;var T=new f,U=[O,Q,P,R,O];return T.points.length>0?T.points=U:T.addPoint(U),S.addGeometry(T),[S,C,N]},q.prototype.getType=function(){return"arsenal"},q}(b,Rd,Sd,B,v,C,F,E),Ff=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=a.deepCopy,k=c.scalePoint,l=c.pathLength,m=c.vertex,n=(c.angle,c.bzLine,c.bTypeline),o=c.gainPt,p=c.distance,q=function(a){this.$type="ArsenalAlgorithm,http://www.Gs.com";var a={minCpt:3,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null};return i(q,b),q.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=n(i),this.getGraphParts(1)},q.prototype.getGraphParts=function(a){for(var b,c,e=[],i=[],n=[],q=[],r=[],s=[],t=[],u=[],v=[],w=[],x=[],y=[],z=new d,A=bzPoints.length,B=0;A-1>=B;B++)z.addPoint(bzPoints[B]);var C=new h;C.addGeometry(z);var D=l(bzPoints),E=D*a*4/210;i=o(bzPoints,D,1/31,b)[0],e=j(bzPoints[0]);var F=p(e,i);pline4=o(bzPoints,D,12.7/13,c)[0];var G=j(bzPoints[bzPoints.length-1]);pline6=k(pline4,G,2.5),t=m(i,e,e,.75*F,!1),v=m(i,e,e,.75*F,!0),u=m(e,t,t,3*F,!0),w=m(e,v,v,3*F,!1);var H=new d;H.addPoint(t),H.addPoint(u),H.addPoint(w),H.addPoint(v),H.addPoint(t),C.addGeometry(H);var I=k(t,v,.25),J=k(t,v,.75);n=m(t,I,I,.3*3*F,!1),r=m(t,I,I,1.5*F,!1),x=m(t,J,J,.3*3*F,!1),q=m(t,I,I,.7*3*F,!1),s=m(t,J,J,1.5*F,!1),y=m(t,J,J,.7*3*F,!1);var K=new d;K.addPoint(n),K.addPoint(q),C.addGeometry(K);var L=new d;L.addPoint(y),L.addPoint(x),C.addGeometry(L);var M=new d;if(M.addPoint(r),M.addPoint(s),C.addGeometry(M),bzPoints[0].x<=bzPoints[1].x)var N=m(e,i,i,1.5*F,!0);else var N=m(e,i,i,1.5*F,!1);var O,P,Q,R,S=new g;O=m(G,pline4,pline4,1*E,!0),P=m(G,pline4,pline4,1*E,!1),Q=pline6,R=G;var T=new f,U=[O,Q,P,R,O];return T.points.length>0?T.points=U:T.addPoint(U),S.addGeometry(T),[S,C,N]},q.prototype.getType=function(){return"arsenal"},q}(b,Rd,Sd,B,v,C,F,E),Gf=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=a.deepCopy,k=c.scalePoint,l=c.pathLength,m=c.vertex,n=(c.angle,c.bzLine,c.bTypeline),o=c.gainPt,p=c.distance,q=function(a){this.$type="ArsenalAlgorithm,http://www.Gs.com";var a={minCpt:3,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null};return i(q,b),q.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=n(i),this.getGraphParts(1)},q.prototype.getGraphParts=function(a){for(var b,c,e=[],i=[],n=[],q=[],r=[],s=[],t=[],u=[],v=[],w=[],x=[],y=[],z=new d,A=bzPoints.length,B=0;A-1>=B;B++)z.addPoint(bzPoints[B]);var C=new h;C.addGeometry(z);var D=l(bzPoints),E=D*a*4/210;i=o(bzPoints,D,1/31,b)[0],e=j(bzPoints[0]);var F=p(e,i);pline4=o(bzPoints,D,12.7/13,c)[0];var G=j(bzPoints[bzPoints.length-1]);pline6=k(pline4,G,2.5),t=m(i,e,e,.75*F,!1),v=m(i,e,e,.75*F,!0),u=m(e,t,t,3*F,!0),w=m(e,v,v,3*F,!1);var H=new d;H.addPoint(t),H.addPoint(u),H.addPoint(w),H.addPoint(v),H.addPoint(t),C.addGeometry(H);var I=k(t,v,.25),J=k(t,v,.75);n=m(t,I,I,.3*3*F,!1),r=m(t,I,I,1.5*F,!1),x=m(t,J,J,.3*3*F,!1),q=m(t,I,I,.7*3*F,!1),s=m(t,J,J,1.5*F,!1),y=m(t,J,J,.7*3*F,!1);var K=new d;K.addPoint(n),K.addPoint(q),C.addGeometry(K);var L=new d;L.addPoint(y),L.addPoint(x),C.addGeometry(L);var M=new d;if(M.addPoint(r),M.addPoint(s),C.addGeometry(M),bzPoints[0].x<=bzPoints[1].x)var N=m(e,i,i,1.5*F,!0);else var N=m(e,i,i,1.5*F,!1);var O,P,Q,R,S=new g;O=m(G,pline4,pline4,1*E,!0),P=m(G,pline4,pline4,1*E,!1),Q=pline6,R=G;var T=new f,U=[O,Q,P,R,O];return T.points.length>0?T.points=U:T.addPoint(U),S.addGeometry(T),[S,C,N]},q.prototype.getType=function(){return"arsenal"},q}(b,Rd,Sd,B,v,C,F,E),Hf=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=a.deepCopy,k=c.scalePoint,l=c.pathLength,m=c.vertex,n=(c.angle,c.bzLine,c.bTypeline),o=c.gainPt,p=c.distance,q=function(a){this.$type="ArsenalAlgorithm,http://www.Gs.com";var a={minCpt:3,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null};return i(q,b),q.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=n(i),this.getGraphParts(1)},q.prototype.getGraphParts=function(a){for(var b,c,e=[],i=[],n=[],q=[],r=[],s=[],t=[],u=[],v=[],w=[],x=[],y=[],z=new d,A=bzPoints.length,B=0;A-1>=B;B++)z.addPoint(bzPoints[B]);var C=new h;C.addGeometry(z);var D=l(bzPoints),E=D*a*4/210;i=o(bzPoints,D,1/31,b)[0],e=j(bzPoints[0]);var F=p(e,i);pline4=o(bzPoints,D,12.7/13,c)[0];var G=j(bzPoints[bzPoints.length-1]);pline6=k(pline4,G,2.5),t=m(i,e,e,.75*F,!1),v=m(i,e,e,.75*F,!0),u=m(e,t,t,3*F,!0),w=m(e,v,v,3*F,!1);var H=new d;H.addPoint(t),H.addPoint(u),H.addPoint(w),H.addPoint(v),H.addPoint(t),C.addGeometry(H);var I=k(t,v,.25),J=k(t,v,.75);n=m(t,I,I,.3*3*F,!1),r=m(t,I,I,1.5*F,!1),x=m(t,J,J,.3*3*F,!1),q=m(t,I,I,.7*3*F,!1),s=m(t,J,J,1.5*F,!1),y=m(t,J,J,.7*3*F,!1);var K=new d;K.addPoint(n),K.addPoint(q),C.addGeometry(K);var L=new d;L.addPoint(y),L.addPoint(x),C.addGeometry(L);var M=new d;if(M.addPoint(r),M.addPoint(s),C.addGeometry(M),bzPoints[0].x<=bzPoints[1].x)var N=m(e,i,i,1.5*F,!0);else var N=m(e,i,i,1.5*F,!1);var O,P,Q,R,S=new g;O=m(G,pline4,pline4,1*E,!0),P=m(G,pline4,pline4,1*E,!1),Q=pline6,R=G;var T=new f,U=[O,Q,P,R,O];return T.points.length>0?T.points=U:T.addPoint(U),S.addGeometry(T),[S,C,N]},q.prototype.getType=function(){return"arsenal"},q}(b,Rd,Sd,B,v,C,F,E),If=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=a.deepCopy,k=c.scalePoint,l=c.pathLength,m=c.vertex,n=(c.angle,c.bzLine,c.bTypeline),o=c.gainPt,p=c.distance,q=function(a){this.$type="ArsenalAlgorithm,http://www.Gs.com";var a={minCpt:3,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null};return i(q,b),q.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=n(i),this.getGraphParts(1)},q.prototype.getGraphParts=function(a){for(var b,c,e=[],i=[],n=[],q=[],r=[],s=[],t=[],u=[],v=[],w=[],x=[],y=[],z=new d,A=bzPoints.length,B=0;A-1>=B;B++)z.addPoint(bzPoints[B]);var C=new h;C.addGeometry(z);var D=l(bzPoints),E=D*a*4/210;i=o(bzPoints,D,1/31,b)[0],e=j(bzPoints[0]);var F=p(e,i);pline4=o(bzPoints,D,12.7/13,c)[0];var G=j(bzPoints[bzPoints.length-1]);pline6=k(pline4,G,2.5),t=m(i,e,e,.75*F,!1),v=m(i,e,e,.75*F,!0),u=m(e,t,t,3*F,!0),w=m(e,v,v,3*F,!1);var H=new d;H.addPoint(t),H.addPoint(u),H.addPoint(w),H.addPoint(v),H.addPoint(t),C.addGeometry(H);var I=k(t,v,.25),J=k(t,v,.75);n=m(t,I,I,.3*3*F,!1),r=m(t,I,I,1.5*F,!1),x=m(t,J,J,.3*3*F,!1),q=m(t,I,I,.7*3*F,!1),s=m(t,J,J,1.5*F,!1),y=m(t,J,J,.7*3*F,!1);var K=new d;K.addPoint(n),K.addPoint(q),C.addGeometry(K);var L=new d;L.addPoint(y),L.addPoint(x),C.addGeometry(L);var M=new d;if(M.addPoint(r),M.addPoint(s),C.addGeometry(M),bzPoints[0].x<=bzPoints[1].x)var N=m(e,i,i,1.5*F,!0);else var N=m(e,i,i,1.5*F,!1);var O,P,Q,R,S=new g;O=m(G,pline4,pline4,1*E,!0),P=m(G,pline4,pline4,1*E,!1),Q=pline6,R=G;var T=new f,U=[O,Q,P,R,O];return T.points.length>0?T.points=U:T.addPoint(U),S.addGeometry(T),[S,C,N]},q.prototype.getType=function(){return"arsenal"},q}(b,Rd,Sd,B,v,C,F,E),Jf=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=a.deepCopy,k=c.scalePoint,l=c.pathLength,m=c.vertex,n=(c.angle,c.bzLine,c.bTypeline),o=c.gainPt,p=c.distance,q=function(a){this.$type="ArsenalAlgorithm,http://www.Gs.com";var a={minCpt:3,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null};return i(q,b),q.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=n(i),this.getGraphParts(1)},q.prototype.getGraphParts=function(a){for(var b,c,e=[],i=[],n=[],q=[],r=[],s=[],t=[],u=[],v=[],w=[],x=[],y=[],z=new d,A=bzPoints.length,B=0;A-1>=B;B++)z.addPoint(bzPoints[B]);var C=new h;C.addGeometry(z);var D=l(bzPoints),E=D*a*4/210;i=o(bzPoints,D,1/31,b)[0],e=j(bzPoints[0]);var F=p(e,i);pline4=o(bzPoints,D,12.7/13,c)[0];var G=j(bzPoints[bzPoints.length-1]);pline6=k(pline4,G,2.5),t=m(i,e,e,.75*F,!1),v=m(i,e,e,.75*F,!0),u=m(e,t,t,3*F,!0),w=m(e,v,v,3*F,!1);var H=new d;H.addPoint(t),H.addPoint(u),H.addPoint(w),H.addPoint(v),H.addPoint(t),C.addGeometry(H);var I=k(t,v,.25),J=k(t,v,.75);n=m(t,I,I,.3*3*F,!1),r=m(t,I,I,1.5*F,!1),x=m(t,J,J,.3*3*F,!1),q=m(t,I,I,.7*3*F,!1),s=m(t,J,J,1.5*F,!1),y=m(t,J,J,.7*3*F,!1);var K=new d;K.addPoint(n),K.addPoint(q),C.addGeometry(K);var L=new d;L.addPoint(y),L.addPoint(x),C.addGeometry(L);var M=new d;if(M.addPoint(r),M.addPoint(s),C.addGeometry(M),bzPoints[0].x<=bzPoints[1].x)var N=m(e,i,i,1.5*F,!0);else var N=m(e,i,i,1.5*F,!1);var O,P,Q,R,S=new g;O=m(G,pline4,pline4,1*E,!0),P=m(G,pline4,pline4,1*E,!1),Q=pline6,R=G;var T=new f,U=[O,Q,P,R,O];return T.points.length>0?T.points=U:T.addPoint(U),S.addGeometry(T),[S,C,N]},q.prototype.getType=function(){return"arsenal"},q}(b,Rd,Sd,B,v,C,F,E),Kf=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=a.deepCopy,k=c.scalePoint,l=c.pathLength,m=c.vertex,n=(c.angle,c.bzLine,c.bTypeline),o=c.gainPt,p=c.distance,q=(c.getPolarPointOfCenterPoint,c.polarAngle360,function(a){this.$type="ArsenalAlgorithm,http://www.Gs.com";var a={minCpt:3,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null});return i(q,b),q.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=n(i),this.getGraphParts(1)},q.prototype.getGraphParts=function(a){for(var b,c,e=[],i=[],n=[],q=[],r=[],s=[],t=new d,u=bzPoints.length,v=0;u-1>=v;v++)t.addPoint(bzPoints[v]);var w=new h;w.addGeometry(t);var x=l(bzPoints),y=x*a*4/210;i=o(bzPoints,x,1/31,b)[0],e=j(bzPoints[0]);var z=p(e,i);pline4=o(bzPoints,x,12.7/13,c)[0];var A=j(bzPoints[bzPoints.length-1]);pline6=k(pline4,A,2.5),n=m(i,e,e,.75*z,!1),r=m(i,e,e,.75*z,!0),q=m(e,n,n,3*z,!0),s=m(e,r,r,3*z,!1);var B=new d;B.addPoint(n),B.addPoint(q),B.addPoint(s),B.addPoint(r),B.addPoint(n),w.addGeometry(B);var C=k(n,r,.2),D=k(n,r,.5),E=k(n,r,.75),F=k(n,r,.8),G=k(n,r,.25);if(bzPoints[0].x<=bzPoints[1].x)var H=m(n,D,C,.2*3*z,!1),I=m(n,D,C,.8*3*z,!1),J=m(n,D,F,.8*3*z,!1),K=m(n,D,F,.4*3*z,!1),L=m(n,D,E,.4*3*z,!1),M=m(n,D,D,.75*z,!1),N=m(n,D,D,.2*3*z,!1);else var H=m(n,D,F,.2*3*z,!1),I=m(n,D,F,.8*3*z,!1),J=m(n,D,C,.8*3*z,!1),K=m(n,D,C,.4*3*z,!1),L=m(n,D,G,.4*3*z,!1),M=m(n,D,D,.75*z,!1),N=m(n,D,D,.2*3*z,!1);var O=new d;O.addPoint(H),O.addPoint(I),O.addPoint(J),O.addPoint(K),O.addPoint(L),O.addPoint(M),O.addPoint(N),O.addPoint(H),w.addGeometry(O);var P,Q,R,S,T=new g;P=m(A,pline4,pline4,1*y,!0),Q=m(A,pline4,pline4,1*y,!1),R=pline6,S=A;var U=new f,V=[P,R,Q,S,P];return U.points.length>0?U.points=V:U.addPoint(V),T.addGeometry(U),[T,w]},q.prototype.getType=function(){return"arsenal"},q}(b,Rd,Sd,B,v,C,F,E),Lf=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=a.deepCopy,k=c.scalePoint,l=c.pathLength,m=c.vertex,n=(c.angle,c.bzLine,c.bTypeline),o=c.gainPt,p=c.distance,q=function(a){this.$type="ArsenalAlgorithm,http://www.Gs.com";var a={minCpt:3,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null};return i(q,b),q.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=n(i),this.getGraphParts(1)},q.prototype.getGraphParts=function(a){for(var b,c,e=[],i=[],n=[],q=[],r=[],s=[],t=new d,u=bzPoints.length,v=0;u-1>=v;v++)t.addPoint(bzPoints[v]);var w=new h;w.addGeometry(t);var x=l(bzPoints),y=x*a*4/210;i=o(bzPoints,x,1/31,b)[0],e=j(bzPoints[0]);var z=p(e,i);pline4=o(bzPoints,x,12.7/13,c)[0];var A=j(bzPoints[bzPoints.length-1]);pline6=k(pline4,A,2.5),n=m(i,e,e,.75*z,!1),r=m(i,e,e,.75*z,!0),q=m(e,n,n,3*z,!0),s=m(e,r,r,3*z,!1);var B=new d;B.addPoint(n),B.addPoint(q),B.addPoint(s),B.addPoint(r),B.addPoint(n),w.addGeometry(B);var C,D,E,F,G=k(n,r,.5),H=m(n,G,G,1.5*z,!1),I=new g;C=m(A,pline4,pline4,1*y,!0),D=m(A,pline4,pline4,1*y,!1),E=pline6,F=A;var J=new f,K=[C,E,D,F,C];return J.points.length>0?J.points=K:J.addPoint(K),I.addGeometry(J),[I,w,H]},q.prototype.getType=function(){return"arsenal"},q}(b,Rd,Sd,B,v,C,F,E),Mf=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=a.deepCopy,k=c.scalePoint,l=c.pathLength,m=c.vertex,n=(c.angle,c.bzLine,c.bTypeline),o=c.gainPt,p=c.distance,q=c.getPolarPointOfCenterPoint,r=c.polarAngle360,s=function(a){this.$type="ArsenalAlgorithm,http://www.Gs.com";var a={minCpt:3,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null};return i(s,b),s.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=n(i),this.getGraphParts(1)},s.prototype.getGraphParts=function(a){for(var b,c,i=[],n=[],s=[],t=[],u=[],v=new d,w=bzPoints.length,x=0;w-1>=x;x++)v.addPoint(bzPoints[x]);var y=new h;y.addGeometry(v);var z=l(bzPoints),A=z*a*4/210;n=o(bzPoints,z,1/31,b)[0],i=j(bzPoints[0]);var B=p(i,n);pline4=o(bzPoints,z,12.7/13,c)[0];var C=j(bzPoints[bzPoints.length-1]);pline6=k(pline4,C,2.5),s=m(n,i,i,.75*B,!1),t=m(n,i,i,.75*B,!0);var D=new d,E=k(s,t,.3),F=(k(s,t,.7),k(s,t,.5));u=m(s,E,F,1.5*B,!1);for(var G=.75*B,H=1.5*B,I=r(u,i),x=0;360>=x;x++){var J=new e({x:u.x+H*Math.cos(x*Math.PI/180),y:u.y-G*Math.sin(x*Math.PI/180)}),K=r(u,J),L=p(u,J);D.addPoint(q(u,I+K,L))}y.addGeometry(D);var M,N,O,P,Q=m(s,F,F,1.5*B,!1),R=new g;M=m(C,pline4,pline4,1*A,!0),N=m(C,pline4,pline4,1*A,!1),O=pline6,P=C;var S=new f,T=[M,O,N,P,M];return S.points.length>0?S.points=T:S.addPoint(T),R.addGeometry(S),[R,y,Q]},s.prototype.getType=function(){return"arsenal"},s}(b,Rd,Sd,B,v,C,F,E),Nf=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=a.deepCopy,k=c.scalePoint,l=c.pathLength,m=c.vertex,n=(c.angle,c.bzLine,c.bTypeline),o=c.gainPt,p=c.distance,q=c.getPolarPointOfCenterPoint,r=c.polarAngle360,s=function(a){this.$type="ArsenalAlgorithm,http://www.Gs.com";var a={minCpt:3,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null};return i(s,b),s.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=n(i),this.getGraphParts(1)},s.prototype.getGraphParts=function(a){for(var b,c,i=[],n=[],s=[],t=[],u=[],v=[],w=[],x=[],y=[],z=[],A=[],B=new d,C=bzPoints.length,D=0;C-1>=D;D++)B.addPoint(bzPoints[D]);var E=new h;E.addGeometry(B);var F=l(bzPoints),G=F*a*4/210;n=o(bzPoints,F,1/31,b)[0],i=j(bzPoints[0]);var H=p(i,n);pline4=o(bzPoints,F,12.7/13,c)[0];var I=j(bzPoints[bzPoints.length-1]);pline6=k(pline4,I,2.5),w=m(n,i,i,.75*H,!1),x=m(n,i,i,.75*H,!0);var J=new d,K=k(w,x,.25),L=k(w,x,.75),M=k(w,x,.5);A=m(w,K,M,1.5*H,!1);for(var N=.75*H,O=1.5*H,P=r(A,i),D=0;360>=D;D++){var Q=new e({x:A.x+O*Math.cos(D*Math.PI/180),y:A.y-N*Math.sin(D*Math.PI/180)}),R=r(A,Q),S=p(A,Q);J.addPoint(q(A,P+R,S))}E.addGeometry(J),s=m(w,K,K,.3*3*H,!1),u=m(w,K,K,1.5*H,!1),y=m(w,L,L,.3*3*H,!1),t=m(w,K,K,.7*3*H,!1),v=m(w,L,L,1.5*H,!1),z=m(w,L,L,.7*3*H,!1);var T=new d;T.addPoint(s),T.addPoint(t),E.addGeometry(T);var U=new d;U.addPoint(z),U.addPoint(y),E.addGeometry(U);var V=new d;V.addPoint(u),V.addPoint(v),E.addGeometry(V);var W,X,Y,Z,$=new g;W=m(I,pline4,pline4,1*G,!0),X=m(I,pline4,pline4,1*G,!1),Y=pline6,Z=I;var _=new f,ab=[W,Y,X,Z,W];return _.points.length>0?_.points=ab:_.addPoint(ab),$.addGeometry(_),[$,E]},s.prototype.getType=function(){return"arsenal"},s}(b,Rd,Sd,B,v,C,F,E),Of=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=a.deepCopy,k=c.scalePoint,l=c.pathLength,m=c.vertex,n=(c.angle,c.bzLine,c.bTypeline),o=c.gainPt,p=c.distance,q=c.getPolarPointOfCenterPoint,r=c.polarAngle360,s=function(a){this.$type="ArsenalAlgorithm,http://www.Gs.com";var a={minCpt:3,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null};return i(s,b),s.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=n(i),this.getGraphParts(1)},s.prototype.getGraphParts=function(a){for(var b,c,i=[],n=[],s=[],t=[],u=[],v=new d,w=bzPoints.length,x=0;w-1>=x;x++)v.addPoint(bzPoints[x]);var y=new h;y.addGeometry(v);var z=l(bzPoints),A=z*a*4/210;n=o(bzPoints,z,1/31,b)[0],i=j(bzPoints[0]);var B=p(i,n);pline4=o(bzPoints,z,12.7/13,c)[0];var C=j(bzPoints[bzPoints.length-1]);pline6=k(pline4,C,2.5),s=m(n,i,i,.75*B,!1),t=m(n,i,i,.75*B,!0);var D=new d,E=k(s,t,.18),F=k(s,t,.82),G=k(s,t,.5);u=m(s,E,G,1.5*B,!1);for(var H=.75*B,I=1.5*B,J=r(u,i),x=0;360>=x;x++){var K=new e({x:u.x+I*Math.cos(x*Math.PI/180),y:u.y-H*Math.sin(x*Math.PI/180)}),L=r(u,K),M=p(u,K);D.addPoint(q(u,J+L,M))}y.addGeometry(D);var N=m(s,E,F,1.5*B,!1),O=m(s,E,E,1.5*B,!1),P=m(s,E,G,.7*3*B,!1),Q=m(s,E,G,.3*3*B,!1),R=new d;R.addPoint(N),R.addPoint(O),y.addGeometry(R);var S=new d;S.addPoint(P),S.addPoint(Q),y.addGeometry(S);var T,U,V,W,X=new g;T=m(C,pline4,pline4,1*A,!0),U=m(C,pline4,pline4,1*A,!1),V=pline6,W=C;var Y=new f,Z=[T,V,U,W,T];return Y.points.length>0?Y.points=Z:Y.addPoint(Z),X.addGeometry(Y),[X,y]},s.prototype.getType=function(){return"arsenal"},s}(b,Rd,Sd,B,v,C,F,E),Pf=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=a.deepCopy,k=c.scalePoint,l=c.pathLength,m=c.vertex,n=(c.angle,c.bzLine,c.bTypeline),o=c.gainPt,p=c.distance,q=c.getPolarPointOfCenterPoint,r=c.polarAngle360,s=function(a){this.$type="ArsenalAlgorithm,http://www.Gs.com";var a={minCpt:3,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null};return i(s,b),s.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=n(i),this.getGraphParts(1)},s.prototype.getGraphParts=function(a){for(var b,c,i=[],n=[],s=[],t=[],u=[],v=[],w=[],x=new d,y=bzPoints.length,z=0;y-1>=z;z++)x.addPoint(bzPoints[z]);var A=new h;A.addGeometry(x);var B=l(bzPoints),C=B*a*4/210;n=o(bzPoints,B,1/31,b)[0],i=j(bzPoints[0]);var D=p(i,n);pline4=o(bzPoints,B,12.7/13,c)[0];var E=j(bzPoints[bzPoints.length-1]);pline6=k(pline4,E,2.5),s=m(n,i,i,.75*D,!1),u=m(n,i,i,.75*D,!0),t=m(i,s,s,3*D,!0),v=m(i,u,u,3*D,!1);var F=new d,G=k(s,t,.3),H=k(s,t,.33),I=k(s,t,.37),J=k(s,t,.63),K=k(s,t,.67),L=k(s,t,.7),M=k(s,u,.5);w=m(s,M,M,1.5*D,!1);for(var N=.75*D,O=1.5*D,P=r(w,i),z=0;360>=z;z++){var Q=new e({x:w.x+O*Math.cos(z*Math.PI/180),y:w.y-N*Math.sin(z*Math.PI/180)}),R=r(w,Q),S=p(w,Q);F.addPoint(q(w,P+R,S))}if(A.addGeometry(F),bzPoints[0].x<=bzPoints[1].x)var T=m(s,G,G,.7*1.5*D,!0),U=m(s,I,I,.7*1.5*D,!0),V=m(s,K,K,.2*1.5*D,!0),W=m(s,H,H,.2*1.5*D,!0),X=m(s,J,J,.7*1.5*D,!0),Y=m(s,L,L,.7*1.5*D,!0);else var T=m(s,G,G,.3*1.5*D,!0),U=m(s,I,I,.3*1.5*D,!0),V=m(s,K,K,.8*1.5*D,!0),W=m(s,H,H,.8*1.5*D,!0),X=m(s,J,J,.3*1.5*D,!0),Y=m(s,L,L,.3*1.5*D,!0);var Z=new d;Z.addPoint(T),Z.addPoint(U),Z.addPoint(V),A.addGeometry(Z);var $=new d;$.addPoint(W),$.addPoint(X),$.addPoint(Y),A.addGeometry($);var _,ab,bb,cb,db=new g;_=m(E,pline4,pline4,1*C,!0),ab=m(E,pline4,pline4,1*C,!1),bb=pline6,cb=E;var eb=new f,fb=[_,bb,ab,cb,_];return eb.points.length>0?eb.points=fb:eb.addPoint(fb),db.addGeometry(eb),[db,A]},s.prototype.getType=function(){return"arsenal"},s}(b,Rd,Sd,B,v,C,F,E),Qf=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=a.deepCopy,k=c.scalePoint,l=c.pathLength,m=c.vertex,n=(c.angle,c.bzLine,c.bTypeline),o=c.gainPt,p=c.distance,q=c.getPolarPointOfCenterPoint,r=c.polarAngle360,s=function(a){this.$type="ArsenalAlgorithm,http://www.Gs.com";var a={minCpt:3,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null};return i(s,b),s.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=n(i),this.getGraphParts(1)},s.prototype.getGraphParts=function(a){for(var b,c,i=[],n=[],s=[],t=[],u=[],v=new d,w=bzPoints.length,x=0;w-1>=x;x++)v.addPoint(bzPoints[x]);var y=new h;y.addGeometry(v);var z=l(bzPoints),A=z*a*4/210;n=o(bzPoints,z,1/31,b)[0],i=j(bzPoints[0]);var B=p(i,n);pline4=o(bzPoints,z,12.7/13,c)[0];var C=j(bzPoints[bzPoints.length-1]);pline6=k(pline4,C,2.5),s=m(n,i,i,.75*B,!1),t=m(n,i,i,.75*B,!0);var D=new d,E=k(s,t,.35),F=k(s,t,.65),G=k(s,t,.5);u=m(s,E,G,1.5*B,!1);for(var H=.75*B,I=1.5*B,J=r(u,i),x=0;360>=x;x++){var K=new e({x:u.x+I*Math.cos(x*Math.PI/180),y:u.y-H*Math.sin(x*Math.PI/180)}),L=r(u,K),M=p(u,K);D.addPoint(q(u,J+L,M))}y.addGeometry(D);var N=m(s,E,F,.7*3*B,!1),O=m(s,E,F,.3*3*B,!1),P=m(s,E,F,1.5*B,!1),Q=m(N,O,P,.15*1.5*B,!1),R=m(s,F,E,.7*3*B,!1),S=m(s,F,E,.3*3*B,!1),T=m(s,F,E,1.5*B,!1),U=m(R,S,T,.15*1.5*B,!0),V=new d;V.addPoint(N),V.addPoint(O),y.addGeometry(V);var W=new d;W.addPoint(R),W.addPoint(S),y.addGeometry(W);var X=new d;X.addPoint(P),X.addPoint(Q),y.addGeometry(X);var Y=new d;Y.addPoint(T),Y.addPoint(U),y.addGeometry(Y);var Z,$,_,ab,bb=new g;Z=m(C,pline4,pline4,1*A,!0),$=m(C,pline4,pline4,1*A,!1),_=pline6,ab=C;var cb=new f,db=[Z,_,$,ab,Z];return cb.points.length>0?cb.points=db:cb.addPoint(db),bb.addGeometry(cb),[bb,y]},s.prototype.getType=function(){return"arsenal"},s}(b,Rd,Sd,B,v,C,F,E),Rf=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=a.deepCopy,k=c.scalePoint,l=c.pathLength,m=c.vertex,n=(c.angle,c.bzLine,c.bTypeline),o=c.gainPt,p=c.distance,q=c.getPolarPointOfCenterPoint,r=c.polarAngle360,s=function(a){this.$type="ArsenalAlgorithm,http://www.Gs.com";var a={minCpt:3,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null};return i(s,b),s.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=n(i),this.getGraphParts(1)},s.prototype.getGraphParts=function(a){for(var b,c,i=[],n=[],s=[],t=[],u=[],v=new d,w=bzPoints.length,x=0;w-1>=x;x++)v.addPoint(bzPoints[x]);var y=new h;y.addGeometry(v);var z=l(bzPoints),A=z*a*4/210;n=o(bzPoints,z,1/31,b)[0],i=j(bzPoints[0]);var B=p(i,n);pline4=o(bzPoints,z,12.7/13,c)[0];var C=j(bzPoints[bzPoints.length-1]);pline6=k(pline4,C,2.5),s=m(n,i,i,.75*B,!1),t=m(n,i,i,.75*B,!0);var D=new d,E=k(s,t,.3),F=k(s,t,.7),G=k(s,t,.5);u=m(s,E,G,1.5*B,!1);for(var H=.75*B,I=1.5*B,J=r(u,i),x=0;360>=x;x++){var K=new e({x:u.x+I*Math.cos(x*Math.PI/180),y:u.y-H*Math.sin(x*Math.PI/180)}),L=r(u,K),M=p(u,K);D.addPoint(q(u,J+L,M))}y.addGeometry(D);var N=m(s,F,E,2.25*B,!1),O=m(s,E,F,.55*3*B,!1),P=m(s,F,E,1.35*B,!1),Q=m(s,E,F,.75*B,!1),R=new d;R.addPoint(N),R.addPoint(O),R.addPoint(P),R.addPoint(Q),y.addGeometry(R);var S,T,U,V,W=new g;S=m(C,pline4,pline4,1*A,!0),T=m(C,pline4,pline4,1*A,!1),U=pline6,V=C;var X=new f,Y=[S,U,T,V,S];return X.points.length>0?X.points=Y:X.addPoint(Y),W.addGeometry(X),[W,y]},s.prototype.getType=function(){return"arsenal"},s}(b,Rd,Sd,B,v,C,F,E),Sf=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=a.deepCopy,k=c.scalePoint,l=c.pathLength,m=c.vertex,n=(c.angle,c.bzLine,c.bTypeline),o=c.gainPt,p=c.distance,q=c.getPolarPointOfCenterPoint,r=c.polarAngle360,s=function(a){this.$type="ArsenalAlgorithm,http://www.Gs.com";var a={minCpt:3,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null};return i(s,b),s.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=n(i),this.getGraphParts(1)},s.prototype.getGraphParts=function(a){for(var b,c,i=[],n=[],s=[],t=[],u=[],v=new d,w=bzPoints.length,x=0;w-1>=x;x++)v.addPoint(bzPoints[x]);var y=new h;y.addGeometry(v);var z=l(bzPoints),A=z*a*4/210;n=o(bzPoints,z,1/31,b)[0],i=j(bzPoints[0]);
var B=p(i,n);pline4=o(bzPoints,z,12.7/13,c)[0];var C=j(bzPoints[bzPoints.length-1]);pline6=k(pline4,C,2.5),s=m(n,i,i,.75*B,!1),t=m(n,i,i,.75*B,!0);var D=new d,E=k(s,t,.25),F=k(s,t,.5),G=k(s,t,.7),H=k(s,t,.75),I=k(s,t,.3);u=m(s,F,F,1.5*B,!1);for(var J=.75*B,K=1.5*B,L=r(u,i),x=0;360>=x;x++){var M=new e({x:u.x+K*Math.cos(x*Math.PI/180),y:u.y-J*Math.sin(x*Math.PI/180)}),N=r(u,M),O=p(u,M);D.addPoint(q(u,L+N,O))}if(y.addGeometry(D),bzPoints[0].x<=bzPoints[1].x)var P=m(s,F,E,.75*B,!1),Q=m(s,F,E,2.25*B,!1),R=m(s,F,H,2.25*B,!1),S=m(s,F,H,1.35*B,!1),T=m(s,F,G,1.35*B,!1),U=m(s,F,F,.3*3*B,!1),V=m(s,F,F,.75*B,!1);else var P=m(s,F,H,.75*B,!1),Q=m(s,F,H,2.25*B,!1),R=m(s,F,E,2.25*B,!1),S=m(s,F,E,1.35*B,!1),T=m(s,F,I,1.35*B,!1),U=m(s,F,F,.3*3*B,!1),V=m(s,F,F,.75*B,!1);var W=new d;W.addPoint(P),W.addPoint(Q),W.addPoint(R),W.addPoint(S),W.addPoint(T),W.addPoint(U),W.addPoint(V),W.addPoint(P),y.addGeometry(W);var X,Y,Z,$,_=new g;X=m(C,pline4,pline4,1*A,!0),Y=m(C,pline4,pline4,1*A,!1),Z=pline6,$=C;var ab=new f,bb=[X,Z,Y,$,X];return ab.points.length>0?ab.points=bb:ab.addPoint(bb),_.addGeometry(ab),[_,y]},s.prototype.getType=function(){return"arsenal"},s}(b,Rd,Sd,B,v,C,F,E),Tf=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=a.deepCopy,k=c.scalePoint,l=c.pathLength,m=c.vertex,n=(c.angle,c.bzLine,c.bTypeline),o=c.gainPt,p=c.distance,q=c.getPolarPointOfCenterPoint,r=c.polarAngle360,s=function(a){this.$type="ArsenalAlgorithm,http://www.Gs.com";var a={minCpt:3,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null};return i(s,b),s.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=n(i),this.getGraphParts(1)},s.prototype.getGraphParts=function(a){for(var b,c,i=[],n=[],s=[],t=[],u=[],v=new d,w=bzPoints.length,x=0;w-1>=x;x++)v.addPoint(bzPoints[x]);var y=new h;y.addGeometry(v);var z=l(bzPoints),A=z*a*4/210;n=o(bzPoints,z,1/31,b)[0],i=j(bzPoints[0]);var B=p(i,n);pline4=o(bzPoints,z,12.7/13,c)[0];var C=j(bzPoints[bzPoints.length-1]);pline6=k(pline4,C,2.5),s=m(n,i,i,.75*B,!1),t=m(n,i,i,.75*B,!0);var D=new d,E=k(s,t,.3),F=k(s,t,.7),G=k(s,t,.5);u=m(s,E,G,1.5*B,!1);for(var H=.75*B,I=1.5*B,J=r(u,i),x=0;360>=x;x++){var K=new e({x:u.x+I*Math.cos(x*Math.PI/180),y:u.y-H*Math.sin(x*Math.PI/180)}),L=r(u,K),M=p(u,K);D.addPoint(q(u,J+L,M))}y.addGeometry(D);var N=m(s,E,F,.7*3*B,!1),O=m(s,E,F,.6*3*B,!1),P=m(s,E,F,.4*3*B,!1),Q=m(s,E,F,.3*3*B,!1),R=m(s,F,E,.7*3*B,!1),S=m(s,F,E,.6*3*B,!1),T=m(s,F,E,.4*3*B,!1),U=m(s,F,E,.3*3*B,!1),V=new d;V.addPoint(N),V.addPoint(O),V.addPoint(T),V.addPoint(U),y.addGeometry(V);var W=new d;W.addPoint(R),W.addPoint(S),W.addPoint(P),W.addPoint(Q),y.addGeometry(W);var X,Y,Z,$,_=new g;X=m(C,pline4,pline4,1*A,!0),Y=m(C,pline4,pline4,1*A,!1),Z=pline6,$=C;var ab=new f,bb=[X,Z,Y,$,X];return ab.points.length>0?ab.points=bb:ab.addPoint(bb),_.addGeometry(ab),[_,y]},s.prototype.getType=function(){return"arsenal"},s}(b,Rd,Sd,B,v,C,F,E),Uf=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=a.deepCopy,k=c.scalePoint,l=c.pathLength,m=c.vertex,n=(c.angle,c.bzLine,c.bTypeline),o=c.gainPt,p=c.distance,q=c.getPolarPointOfCenterPoint,r=c.polarAngle360,s=function(a){this.$type="ArsenalAlgorithm,http://www.Gs.com";var a={minCpt:3,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null};return i(s,b),s.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=n(i),this.getGraphParts(1)},s.prototype.getGraphParts=function(a){for(var b,c,i=[],n=[],s=[],t=[],u=[],v=new d,w=bzPoints.length,x=0;w-1>=x;x++)v.addPoint(bzPoints[x]);var y=new h;y.addGeometry(v);var z=l(bzPoints),A=z*a*4/210;n=o(bzPoints,z,1/31,b)[0],i=j(bzPoints[0]);var B=p(i,n);pline4=o(bzPoints,z,12.7/13,c)[0];var C=j(bzPoints[bzPoints.length-1]);pline6=k(pline4,C,2.5),s=m(n,i,i,.75*B,!1),t=m(n,i,i,.75*B,!0);var D=new d,E=k(s,t,.3),F=k(s,t,.7),G=k(s,t,.5);u=m(s,E,G,1.5*B,!1);for(var H=.75*B,I=1.5*B,J=r(u,i),x=0;360>=x;x++){var K=new e({x:u.x+I*Math.cos(x*Math.PI/180),y:u.y-H*Math.sin(x*Math.PI/180)}),L=r(u,K),M=p(u,K);D.addPoint(q(u,J+L,M))}if(y.addGeometry(D),bzPoints[0].x<=bzPoints[1].x)var N=m(s,E,F,.7*3*B,!1),O=m(s,F,E,.6*3*B,!1),P=m(s,E,F,1.5*B,!1),Q=m(s,F,E,.4*3*B,!1),R=m(s,E,F,.3*3*B,!1);else var N=m(s,E,E,.7*3*B,!1),O=m(s,F,F,.6*3*B,!1),P=m(s,E,E,1.5*B,!1),Q=m(s,F,F,.4*3*B,!1),R=m(s,E,E,.3*3*B,!1);var S=new d;S.addPoint(N),S.addPoint(O),S.addPoint(P),S.addPoint(Q),S.addPoint(R),y.addGeometry(S);var T,U,V,W,X=new g;T=m(C,pline4,pline4,1*A,!0),U=m(C,pline4,pline4,1*A,!1),V=pline6,W=C;var Y=new f,Z=[T,V,U,W,T];return Y.points.length>0?Y.points=Z:Y.addPoint(Z),X.addGeometry(Y),[X,y]},s.prototype.getType=function(){return"arsenal"},s}(b,Rd,Sd,B,v,C,F,E),Vf=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=a.deepCopy,k=c.scalePoint,l=c.pathLength,m=c.vertex,n=(c.angle,c.bzLine,c.bTypeline),o=c.gainPt,p=c.distance,q=c.getPolarPointOfCenterPoint,r=c.polarAngle360,s=function(a){this.$type="ArsenalAlgorithm,http://www.Gs.com";var a={minCpt:3,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null};return i(s,b),s.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=n(i),this.getGraphParts(1)},s.prototype.getGraphParts=function(a){for(var b,c,i=[],n=[],s=[],t=[],u=[],v=new d,w=bzPoints.length,x=0;w-1>=x;x++)v.addPoint(bzPoints[x]);var y=new h;y.addGeometry(v);var z=l(bzPoints),A=z*a*4/210;n=o(bzPoints,z,1/31,b)[0],i=j(bzPoints[0]);var B=p(i,n);pline4=o(bzPoints,z,12.7/13,c)[0];var C=j(bzPoints[bzPoints.length-1]);pline6=k(pline4,C,2.5),s=m(n,i,i,.75*B,!1),t=m(n,i,i,.75*B,!0);var D=new d,E=k(s,t,.3),F=k(s,t,.7),G=k(s,t,.5);u=m(s,E,G,1.5*B,!1);for(var H=.75*B,I=1.5*B,J=r(u,i),x=0;360>=x;x++){var K=new e({x:u.x+I*Math.cos(x*Math.PI/180),y:u.y-H*Math.sin(x*Math.PI/180)}),L=r(u,K),M=p(u,K);D.addPoint(q(u,J+L,M))}y.addGeometry(D);var N=m(s,E,F,.6*3*B,!1),O=m(s,E,F,.35*3*B,!1),P=m(s,F,E,.6*3*B,!1),Q=m(s,F,E,.35*3*B,!1),R=new d;R.addPoint(N),R.addPoint(O),R.addPoint(P),R.addPoint(Q),y.addGeometry(R);var S,T,U,V,W=new g;S=m(C,pline4,pline4,1*A,!0),T=m(C,pline4,pline4,1*A,!1),U=pline6,V=C;var X=new f,Y=[S,U,T,V,S];return X.points.length>0?X.points=Y:X.addPoint(Y),W.addGeometry(X),[W,y]},s.prototype.getType=function(){return"arsenal"},s}(b,Rd,Sd,B,v,C,F,E),Wf=function(a,b,c,d,e,f){var g=a.extend2,h=(a.deepCopy,c.distance),i=c.angle,j=function(a){this.$type="AirDefenseLineCountyPropetyAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:10};this.p1=null,this.p2=null,b.call(this,a)};return g(j,b),j.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var g=new d,h=new f;return g.addPoint(this.p1),g.addPoint(this.p2),h.addGeometry(g),[h]}newPoints=[];for(var i=0;e-1>i;i++)(c[i].x!==c[i+1].x||c[i].y!==c[i+1].y)&&newPoints.push(c[i]);return newPoints.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&newPoints.push(b),this.getGraphParts(1)},j.prototype.getGraphParts=function(){for(var a,b,c,g,j,k,l,m=new f,n=1e5,o=0,p=0,q=0,r=0;r<newPoints.length-1;r++){o=h(newPoints[r],newPoints[r+1]),p=parseInt(o/5/n),q=i(newPoints[r],newPoints[r+1]),q=q*Math.PI/180,c=newPoints[r].copy();for(var s=0;p>s;s++)a=new d,b=new d,g=new e,j=new e,k=new e,g.x=c.x+2*n*Math.cos(q),g.y=c.y-2*n*Math.sin(q),j.x=c.x+3*n*Math.cos(q),j.y=c.y-3*n*Math.sin(q),k.x=c.x+4*n*Math.cos(q),k.y=c.y-4*n*Math.sin(q),a.addPoint(new e({x:c.x,y:c.y})),a.addPoint(g),b.addPoint(j),b.addPoint(k),m.addGeometry(a),m.addGeometry(b),c.x=c.x+5*n*Math.cos(q),c.y=c.y-5*n*Math.sin(q);l=newPoints[r+1].copy();var t=h(c,l),u=parseInt(t/n);a=new d,b=new d,a.addPoint(c),2>u?a.addPoint(l):(g=new e({x:c.x+2*n*Math.cos(q),y:c.y-2*n*Math.sin(q)}),a.addPoint(g),u>=3&&(j=new e({x:c.x+3*n*Math.cos(q),y:c.y-3*n*Math.sin(q)}),b.addPoint(j),4>u?b.addPoint(l):(k=new e({x:c.x+4*n*Math.cos(q),y:c.y-4*n*Math.sin(q)}),b.addPoint(k)))),m.addGeometry(a),m.addGeometry(b)}return[m]},j.prototype.getType=function(){return"airdefenselinecountypropety"},j}(b,Rd,Sd,B,v,E),Xf=function(a,b,c,d,e,f){var g=a.extend2,h=(a.deepCopy,c.distance),i=c.angle,j=function(a){this.$type="AirDefenseLineDistrictPropetyAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:10};this.p1=null,this.p2=null,b.call(this,a)};return g(j,b),j.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var g=new d,h=new f;return g.addPoint(this.p1),g.addPoint(this.p2),h.addGeometry(g),[h]}newPoints=[];for(var i=0;e-1>i;i++)(c[i].x!==c[i+1].x||c[i].y!==c[i+1].y)&&newPoints.push(c[i]);return newPoints.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&newPoints.push(b),this.getGraphParts(1)},j.prototype.getGraphParts=function(){for(var a,b,c,g,j,k,l,m,n,o,p,q,r,s=new f,t=1e5,u=0,v=0,w=0,x=0;x<newPoints.length-1;x++){u=h(newPoints[x],newPoints[x+1]),v=parseInt(u/9/t),w=i(newPoints[x],newPoints[x+1]),w=w*Math.PI/180,j=newPoints[x].copy();for(var y=0;v>y;y++)a=new d,b=new d,c=new d,g=new d,k=new e,l=new e,m=new e,n=new e,o=new e,p=new e,q=new e,k.x=j.x+2*t*Math.cos(w),k.y=j.y-2*t*Math.sin(w),l.x=j.x+3*t*Math.cos(w),l.y=j.y-3*t*Math.sin(w),m.x=j.x+4*t*Math.cos(w),m.y=j.y-4*t*Math.sin(w),n.x=j.x+5*t*Math.cos(w),n.y=j.y-5*t*Math.sin(w),o.x=j.x+6*t*Math.cos(w),o.y=j.y-6*t*Math.sin(w),p.x=j.x+7*t*Math.cos(w),p.y=j.y-7*t*Math.sin(w),q.x=j.x+8*t*Math.cos(w),q.y=j.y-8*t*Math.sin(w),a.addPoint(new e({x:j.x,y:j.y})),a.addPoint(k),b.addPoint(l),b.addPoint(m),c.addPoint(n),c.addPoint(o),g.addPoint(p),g.addPoint(q),s.addGeometry(a),s.addGeometry(b),s.addGeometry(c),s.addGeometry(g),j.x=j.x+9*t*Math.cos(w),j.y=j.y-9*t*Math.sin(w);r=newPoints[x+1];var z=h(j,r),A=parseInt(z/t);a=new d,b=new d,c=new d,g=new d,a.addPoint(j),2>A?a.addPoint(r):(k=new e({x:j.x+2*t*Math.cos(w),y:j.y-2*t*Math.sin(w)}),a.addPoint(k),A>=3&&(l=new e({x:j.x+3*t*Math.cos(w),y:j.y-3*t*Math.sin(w)}),b.addPoint(l),4>A?b.addPoint(r):(m=new e({x:j.x+4*t*Math.cos(w),y:j.y-4*t*Math.sin(w)}),b.addPoint(m),A>=5&&(n=new e({x:j.x+5*t*Math.cos(w),y:j.y-5*t*Math.sin(w)}),c.addPoint(n),6>A?c.addPoint(r):(o=new e({x:j.x+6*t*Math.cos(w),y:j.y-6*t*Math.sin(w)}),c.addPoint(o),A>=7&&(p=new e({x:j.x+7*t*Math.cos(w),y:j.y-7*t*Math.sin(w)}),g.addPoint(p),8>A?g.addPoint(r):(q=new e({x:j.x+8*t*Math.cos(w),y:j.y-8*t*Math.sin(w)}),g.addPoint(q)))))))),s.addGeometry(a),s.addGeometry(b),s.addGeometry(c),s.addGeometry(g)}return[s]},j.prototype.getType=function(){return"airdefenselinedistrictpropety"},j}(b,Rd,Sd,B,v,E),Yf=function(a,b,c,d,e,f){var g=a.extend2,h=(a.deepCopy,c.distance),i=c.angle,j=function(a){this.$type="AirDefenseLineRegionPropetyAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:10};this.newPoints=null,this.p1=null,this.p2=null,b.call(this,a)};return g(j,b),j.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var g=new d,h=new f;return g.addPoint(this.p1),g.addPoint(this.p2),h.addGeometry(g),[h]}this.newPoints=[];for(var i=0;e-1>i;i++)(c[i].x!==c[i+1].x||c[i].y!==c[i+1].y)&&this.newPoints.push(c[i]);return this.newPoints.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&this.newPoints.push(b),this.getGraphParts(1)},j.prototype.getGraphParts=function(){for(var a,b,c,g,j,k,l,m,n,o,p=new f,q=1e5,r=0,s=0,t=0,u=0;u<this.newPoints.length-1;u++){r=h(this.newPoints[u],this.newPoints[u+1]),s=parseInt(r/7/q),t=i(this.newPoints[u],this.newPoints[u+1]),t=t*Math.PI/180,g=this.newPoints[u].copy();for(var v=0;s>v;v++)a=new d,b=new d,c=new d,j=new e,k=new e,l=new e,m=new e,n=new e,j.x=g.x+2*q*Math.cos(t),j.y=g.y-2*q*Math.sin(t),k.x=g.x+3*q*Math.cos(t),k.y=g.y-3*q*Math.sin(t),l.x=g.x+4*q*Math.cos(t),l.y=g.y-4*q*Math.sin(t),m.x=g.x+5*q*Math.cos(t),m.y=g.y-5*q*Math.sin(t),n.x=g.x+6*q*Math.cos(t),n.y=g.y-6*q*Math.sin(t),a.addPoint(new e({x:g.x,y:g.y})),a.addPoint(j),b.addPoint(k),b.addPoint(l),c.addPoint(m),c.addPoint(n),p.addGeometry(a),p.addGeometry(b),p.addGeometry(c),g.x=g.x+7*q*Math.cos(t),g.y=g.y-7*q*Math.sin(t);o=this.newPoints[u+1].copy();var w=h(g,o),x=parseInt(w/q);a=new d,b=new d,c=new d,a.addPoint(g),2>x?a.addPoint(o):(j=new e({x:g.x+2*q*Math.cos(t),y:g.y-2*q*Math.sin(t)}),a.addPoint(j),x>=3&&(k=new e({x:g.x+3*q*Math.cos(t),y:g.y-3*q*Math.sin(t)}),b.addPoint(k),4>x?b.addPoint(o):(l=new e({x:g.x+4*q*Math.cos(t),y:g.y-4*q*Math.sin(t)}),b.addPoint(l),x>=5&&(m=new e({x:g.x+5*q*Math.cos(t),y:g.y-5*q*Math.sin(t)}),c.addPoint(m),6>x?c.addPoint(o):(n=new e({x:g.x+6*q*Math.cos(t),y:g.y-6*q*Math.sin(t)}),c.addPoint(n)))))),p.addGeometry(a),p.addGeometry(b),p.addGeometry(c)}return[p]},j.prototype.getType=function(){return"airdefenselineregionpropety"},j}(b,Rd,Sd,B,v,E),Zf=function(a,b,c,d,e,f){var g=a.extend2,h=(a.deepCopy,c.distance),i=c.angle,j=function(a){this.$type="AirDefenseLineStreetPropetyAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:10};this.newPoints=null,this.p1=null,this.p2=null,b.call(this,a)};return g(j,b),j.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var g=new d,h=new f;return g.addPoint(this.p1),g.addPoint(this.p2),h.addGeometry(g),[h]}this.newPoints=[];for(var i=0;e-1>i;i++)(c[i].x!==c[i+1].x||c[i].y!==c[i+1].y)&&this.newPoints.push(c[i]);return this.newPoints.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&this.newPoints.push(b),this.getGraphParts(1)},j.prototype.getGraphParts=function(){for(var a,b,c,g,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x=new f,y=new d,z=1e5,A=1.5*z,B=0,C=0,D=0,E=0;E<this.newPoints.length-1;E++){B=h(this.newPoints[E],this.newPoints[E+1]),C=parseInt(B/8/z),D=i(this.newPoints[E],this.newPoints[E+1]),D=D*Math.PI/180,j=this.newPoints[E].copy();for(var F=0;C>F;F++)a=new d,b=new d,c=new d,g=new d,y=new d,k=new e,l=new e,m=new e,n=new e,o=new e,p=new e,q=new e,r=new e,s=new e,t=new e,u=new e,v=new e,k.x=j.x+2*z*Math.cos(D),k.y=j.y-2*z*Math.sin(D),l.x=j.x+3*z*Math.cos(D),l.y=j.y-3*z*Math.sin(D),m.x=j.x+4*z*Math.cos(D),m.y=j.y-4*z*Math.sin(D),n.x=j.x+5*z*Math.cos(D),n.y=j.y-5*z*Math.sin(D),o.x=j.x+6*z*Math.cos(D),o.y=j.y-6*z*Math.sin(D),p.x=j.x+8*z*Math.cos(D),p.y=j.y-8*z*Math.sin(D),q=vertex(this.newPoints[E],this.newPoints[E+1],l,A,!1),r=vertex(this.newPoints[E],this.newPoints[E+1],l,A,!0),s=vertex(this.newPoints[E],this.newPoints[E+1],m,A,!1),t=vertex(this.newPoints[E],this.newPoints[E+1],m,A,!0),u=vertex(this.newPoints[E],this.newPoints[E+1],n,A,!1),v=vertex(this.newPoints[E],this.newPoints[E+1],n,A,!0),a.addPoint(new e({x:j.x,y:j.y})),a.addPoint(k),b.addPoint(q),b.addPoint(r),c.addPoint(s),c.addPoint(t),g.addPoint(u),g.addPoint(v),y.addPoint(o),y.addPoint(p),x.addGeometry(a),x.addGeometry(b),x.addGeometry(c),x.addGeometry(g),x.addGeometry(y),j.x=j.x+8*z*Math.cos(D),j.y=j.y-8*z*Math.sin(D);w=this.newPoints[E+1],y.addPoint(j),y.addPoint(w),x.addGeometry(y)}return[x]},j.prototype.getType=function(){return"airdefenselinestreetpropety"},j}(b,Rd,Sd,B,v,E),$f=function(a,b,c,d,e,f){var g=a.extend2,h=(a.deepCopy,c.distance),i=c.angle,j=function(a){this.$type="AirDefenseLineResidentPropetyAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:10};this.newPoints=null,this.p1=null,this.p2=null,b.call(this,a)};return g(j,b),j.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var g=new d,h=new f;return g.addPoint(this.p1),g.addPoint(this.p2),h.addGeometry(g),[h]}this.newPoints=[];for(var i=0;e-1>i;i++)(c[i].x!==c[i+1].x||c[i].y!==c[i+1].y)&&this.newPoints.push(c[i]);return this.newPoints.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&this.newPoints.push(b),this.getGraphParts(1)},j.prototype.getGraphParts=function(){for(var a,b,c,g,j,k,l,m,n,o,p,q,r,s,t=new f,u=new d,v=1e5,w=1.5*v,x=0,y=0,z=0,A=0;A<this.newPoints.length-1;A++){x=h(this.newPoints[A],this.newPoints[A+1]),y=parseInt(x/7/v),z=i(this.newPoints[A],this.newPoints[A+1]),z=z*Math.PI/180,g=this.newPoints[A].copy();for(var B=0;y>B;B++)a=new d,b=new d,c=new d,u=new d,j=new e,k=new e,l=new e,m=new e,n=new e,o=new e,p=new e,q=new e,r=new e,j.x=g.x+2*v*Math.cos(z),j.y=g.y-2*v*Math.sin(z),k.x=g.x+3*v*Math.cos(z),k.y=g.y-3*v*Math.sin(z),l.x=g.x+4*v*Math.cos(z),l.y=g.y-4*v*Math.sin(z),m.x=g.x+5*v*Math.cos(z),m.y=g.y-5*v*Math.sin(z),n.x=g.x+7*v*Math.cos(z),n.y=g.y-7*v*Math.sin(z),o=vertex(this.newPoints[A],this.newPoints[A+1],k,w,!1),p=vertex(this.newPoints[A],this.newPoints[A+1],k,w,!0),q=vertex(this.newPoints[A],this.newPoints[A+1],l,w,!1),r=vertex(this.newPoints[A],this.newPoints[A+1],l,w,!0),a.addPoint(new e({x:g.x,y:g.y})),a.addPoint(j),b.addPoint(o),b.addPoint(p),c.addPoint(q),c.addPoint(r),u.addPoint(m),u.addPoint(n),t.addGeometry(a),t.addGeometry(b),t.addGeometry(c),t.addGeometry(u),g.x=g.x+7*v*Math.cos(z),g.y=g.y-7*v*Math.sin(z);s=this.newPoints[A+1],u.addPoint(g),u.addPoint(s),t.addGeometry(u)}return[t]},j.prototype.getType=function(){return"airdefenselineresidentpropety"},j}(b,Rd,Sd,B,v,E),_f=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=a.deepCopy,k=c.scalePoint,l=c.vertex,m=(c.angle,c.bzLine,c.bTypeline),n=c.gainPt,o=c.pathLength,p=(c.distance,function(a){this.$type="MarchOnFootPropety,http://www.Gs.com";var a={minCpt:2,maxCpt:3};b.call(this,a),this.p1=null,this.p2=null});return i(p,b),p.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=m(i),this.getGraphParts(1)},p.prototype.getGraphParts=function(a){var b,c,e,i,m,p=o(bzPoints),q=p*a*4/210;pline4=n(bzPoints,p,12.7/13,b)[0];var r=j(bzPoints[bzPoints.length-1]);pline6=k(pline4,r,2.5);for(var s=new h,t=new d,u=bzPoints.length,v=0;u-1>=v;v++)t.addPoint(bzPoints[v]);s.addGeometry(t),c=l(r,pline4,pline4,q,!0),e=l(r,pline4,pline4,q,!1),i=pline6,m=r;var w=[c,i,e,m,c],x=new f;x.points.length>0?x.points=w:x.addPoint(w);var y=new g;return y.addGeometry(x),[y,s]},p.prototype.getType=function(){return"marchonfootpropety"},p}(b,Rd,Sd,B,v,C,F,E),ag=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=a.deepCopy,k=c.scalePoint,l=c.vertex,m=c.bTypeline,n=c.gainPt,o=c.pathLength,p=function(a){this.$type="MarchOnMotorPropety,http://www.Gs.com";var a={minCpt:2,maxCpt:3};b.call(this,a),this.p1=null,this.p2=null};return i(p,b),p.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=m(i),this.getGraphParts(1)},p.prototype.getGraphParts=function(a){for(var b,c,i,m,p,q,r,s,t,u,v=o(bzPoints),w=v*a*4/210,x=v*a/30,y=n(bzPoints,v,12.7/13,b)[0],z=j(bzPoints[bzPoints.length-1]),A=k(y,z,2.5),B=new h,C=new d,D=new d,E=new d,F=bzPoints.length,G=0;F-1>=G;G++)C.addPoint(bzPoints[G]);B.addGeometry(C),r=n(bzPoints,v,6/13)[0],s=n(bzPoints,v,7/13)[0],t=l(r,s,r,x,!1),u=l(r,s,s,x,!1);for(var H=0;360>=H;H++)q=2*Math.PI*H/360,D.addPoint(new e({x:t.x+x/2*Math.cos(q),y:t.y+x/2*Math.sin(q)})),E.addPoint(new e({x:u.x+x/2*Math.cos(q),y:u.y+x/2*Math.sin(q)}));B.addGeometry(D),B.addGeometry(E),c=l(z,y,y,w,!0),i=l(z,y,y,w,!1),m=A,p=z;var I=[c,m,i,p,c],J=new f;J.points.length>0?J.points=I:J.addPoint(I);var K=new g;return K.addGeometry(J),[K,B]},p.prototype.getType=function(){return"marchonmotorpropety"},p}(b,Rd,Sd,B,v,C,F,E),bg=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint,c.vertex,c.midPoint),k=(c.angle,c.bzLine,c.bTypeline),l=c.gainPt,m=c.pathLength,n=c.distance,o=function(a){this.$type="DeliveryWayPropetyAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null};return i(o,b),o.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=k(i),this.getGraphParts(1)},o.prototype.getGraphParts=function(){var a,b,c,f,g,i,k,o,p,q,r,s;s=m(bzPoints),a=l(bzPoints,s,6/13)[0],f=l(bzPoints,s,6/13)[1],b=l(bzPoints,s,7/13)[0],g=l(bzPoints,s,7/13)[1],c=j(a,b),i=n(a,b)/2,o=new d,p=new d,q=new d,r=new h;for(var t=0;360>=t;t++)k=2*Math.PI*t/360,o.addPoint(new e({x:c.x+i*Math.cos(k),y:c.y+i*Math.sin(k)}));r.addGeometry(o);for(var u=0;f>u;u++)p.addPoint(bzPoints[u]);for(p.addPoint(a),q.addPoint(b),u=g;u<bzPoints.length;u++)q.addPoint(bzPoints[u]);return r.addGeometry(p),r.addGeometry(q),[r,c]},o.prototype.getType=function(){return"deliverywaypropety"},o}(b,Rd,Sd,B,v,C,F,E),cg=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=c.vertex,k=c.midPoint,l=c.angle,m=c.scalePoint,n=function(a){this.$type="MarchControlPropety,http://www.Gs.com";var a={minCpt:2,maxCpt:10};this.newPoints=null,this.p1=null,this.p2=null,b.call(this,a)};return i(n,b),n.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}this.newPoints=[];for(var i=0;e-1>i;i++)(c[i].x!==c[i+1].x||c[i].y!==c[i+1].y)&&this.newPoints.push(c[i]);return this.newPoints.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&this.newPoints.push(b),this.getGraphParts(1)},n.prototype.getGraphParts=function(){var a,b,c,f,g,i,n,o,p,q,r=this.newPoints.length,s=5e4,t=new h;p=new d;for(var u=0;r-1>u;u++){i=new d,n=new d,o=new d,a=j(this.newPoints[u],this.newPoints[u+1],this.newPoints[u],s,!1),b=j(this.newPoints[u],this.newPoints[u+1],this.newPoints[u],s,!0),i.addPoint(a),i.addPoint(b),t.addGeometry(i),g=k(this.newPoints[u],this.newPoints[u+1]),q=l(this.newPoints[u],this.newPoints[u+1])*Math.PI/180;var v=g.x-s*Math.cos(q),w=g.y+s*Math.sin(q),x=g.x+s*Math.cos(q),y=g.y-s*Math.sin(q);c=new e({x:v,y:w}),f=new e({x:x,y:y}),n.addPoint(this.newPoints[u]),n.addPoint(c),t.addGeometry(n),o.addPoint(f),o.addPoint(this.newPoints[u+1]),t.addGeometry(o);var z=!0;v>x&&(c=new e({x:x,y:y}),f=new e({x:v,y:w}));var A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$=new d,_=new d,ab=new d,bb=new d,cb=new d,db=new d,eb=new d;A=m(c,f,.1),B=m(c,f,.2),C=m(c,f,.3),D=m(c,f,.4),E=j(c,f,C,.9*s,z),F=j(c,f,D,.7*s,z),G=j(c,f,B,.8*s,!z),H=j(c,f,C,.5*s,!z),$.addPoint(G),$.addPoint(H),_.addPoint(A),_.addPoint(C),_.addPoint(E),_.addPoint(F),t.addGeometry($),t.addGeometry(_),I=m(c,f,.5),L=m(c,f,.9),J=j(c,f,D,1.2*s,z),K=j(c,f,I,1.2*s,!z),M=j(c,f,L,1.2*s,!z),N=j(c,f,L,1.2*s,z),ab.addPoint(J),ab.addPoint(K),ab.addPoint(M),ab.addPoint(N),t.addGeometry(ab),O=m(I,L,.2),P=m(I,L,.8),Q=m(I,L,.5),R=j(c,f,O,.4*s,!z),S=j(c,f,P,.4*s,!z),T=j(c,f,Q,.8*s,!z),bb.addPoint(O),bb.addPoint(P),cb.addPoint(R),cb.addPoint(S),db.addPoint(Q),db.addPoint(T),t.addGeometry(bb),t.addGeometry(cb),t.addGeometry(db),U=m(I,L,.3),V=m(I,L,.7),W=j(c,f,U,.4*s,z),X=j(c,f,V,.4*s,z),Y=j(c,f,V,.8*s,z),Z=j(c,f,U,.8*s,z),eb.addPoint(W),eb.addPoint(X),eb.addPoint(Y),eb.addPoint(Z),eb.addPoint(W),t.addGeometry(eb)}return a=j(this.newPoints[u-1],this.newPoints[u],this.newPoints[u],s,!1),b=j(this.newPoints[u-1],this.newPoints[u],this.newPoints[u],s,!0),p.addPoint(a),p.addPoint(b),t.addGeometry(p),[t]},n.prototype.getType=function(){return"marchcontrolpropety"},n}(b,Rd,Sd,B,v,C,F,E),dg=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=c.vertex,k=c.midPoint,l=c.angle,m=c.scalePoint,n=function(a){this.$type="ChuMarchControlPropety,http://www.Gs.com";var a={minCpt:2,maxCpt:10};this.newPoints=null,this.p1=null,this.p2=null,b.call(this,a)};return i(n,b),n.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}this.newPoints=[];for(var i=0;e-1>i;i++)(c[i].x!==c[i+1].x||c[i].y!==c[i+1].y)&&this.newPoints.push(c[i]);return this.newPoints.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&this.newPoints.push(b),this.getGraphParts(1)},n.prototype.getGraphParts=function(){var a,b,c,f,g,i,n,o,p,q,r=this.newPoints.length,s=5e4,t=new h;p=new d;for(var u=0;r-1>u;u++){i=new d,n=new d,o=new d,a=j(this.newPoints[u],this.newPoints[u+1],this.newPoints[u],s,!1),b=j(this.newPoints[u],this.newPoints[u+1],this.newPoints[u],s,!0),i.addPoint(a),i.addPoint(b),t.addGeometry(i),g=k(this.newPoints[u],this.newPoints[u+1]),q=l(this.newPoints[u],this.newPoints[u+1])*Math.PI/180;var v=g.x-s*Math.cos(q),w=g.y+s*Math.sin(q),x=g.x+s*Math.cos(q),y=g.y-s*Math.sin(q);c=new e({x:v,y:w}),f=new e({x:x,y:y}),n.addPoint(this.newPoints[u]),n.addPoint(c),t.addGeometry(n),o.addPoint(f),o.addPoint(this.newPoints[u+1]),t.addGeometry(o);var z=!0;v>x&&(z=!1);var A,B,C,D,E,F,G,H,I,J,K,L=new d,M=new d,N=new d;A=m(c,f,.2),B=m(c,f,.8),C=m(c,f,.5),D=j(c,f,C,s,!z),E=j(c,f,C,.8*s,z),F=j(c,f,A,s,z),G=j(c,f,B,s,z),H=j(c,f,A,.4*s,z),I=j(c,f,B,.4*s,z),J=j(c,f,A,.6*s,!z),K=j(c,f,B,.6*s,!z),L.addPoint(D),L.addPoint(E),M.addPoint(J),M.addPoint(A),M.addPoint(B),M.addPoint(K),N.addPoint(H),N.addPoint(F),N.addPoint(G),N.addPoint(I),t.addGeometry(L),t.addGeometry(M),t.addGeometry(N)}return a=j(this.newPoints[u-1],this.newPoints[u],this.newPoints[u],s,!1),b=j(this.newPoints[u-1],this.newPoints[u],this.newPoints[u],s,!0),p.addPoint(a),p.addPoint(b),t.addGeometry(p),[t]},n.prototype.getType=function(){return"chumarchcontrolpropety"},n}(b,Rd,Sd,B,v,C,F,E),eg=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=c.vertex,k=c.midPoint,l=c.angle,m=c.scalePoint,n=function(a){this.$type="DiaoMarchControlPropety,http://www.Gs.com";var a={minCpt:2,maxCpt:10};this.newPoints=null,this.p1=null,this.p2=null,b.call(this,a)};return i(n,b),n.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}this.newPoints=[];for(var i=0;e-1>i;i++)(c[i].x!==c[i+1].x||c[i].y!==c[i+1].y)&&this.newPoints.push(c[i]);return this.newPoints.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&this.newPoints.push(b),this.getGraphParts(1)},n.prototype.getGraphParts=function(){var a,b,c,f,g,i,n,o,p,q,r=this.newPoints.length,s=5e4,t=new h;p=new d;for(var u=0;r-1>u;u++){i=new d,n=new d,o=new d,a=j(this.newPoints[u],this.newPoints[u+1],this.newPoints[u],s,!1),b=j(this.newPoints[u],this.newPoints[u+1],this.newPoints[u],s,!0),i.addPoint(a),i.addPoint(b),t.addGeometry(i),g=k(this.newPoints[u],this.newPoints[u+1]),q=l(this.newPoints[u],this.newPoints[u+1])*Math.PI/180;var v=g.x-s*Math.cos(q),w=g.y+s*Math.sin(q),x=g.x+s*Math.cos(q),y=g.y-s*Math.sin(q);c=new e({x:v,y:w}),f=new e({x:x,y:y}),n.addPoint(this.newPoints[u]),n.addPoint(c),t.addGeometry(n),o.addPoint(f),o.addPoint(this.newPoints[u+1]),t.addGeometry(o);var z=!0;v>x&&(c=new e({x:x,y:y}),f=new e({x:v,y:w}));var A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$=new d,_=new d,ab=new d,bb=new d,cb=new d,db=new d,eb=new d;A=m(c,f,.1),B=m(c,f,.2),C=m(c,f,.3),D=m(c,f,.4),E=j(c,f,C,.9*s,z),F=j(c,f,D,.7*s,z),G=j(c,f,B,.8*s,!z),H=j(c,f,C,.5*s,!z),$.addPoint(G),$.addPoint(H),_.addPoint(A),_.addPoint(C),_.addPoint(E),_.addPoint(F),t.addGeometry($),t.addGeometry(_),I=m(c,f,.5),L=m(c,f,.9),J=j(c,f,D,1.2*s,z),K=j(c,f,I,1.2*s,!z),M=j(c,f,L,1.2*s,!z),N=j(c,f,L,1.2*s,z),ab.addPoint(J),ab.addPoint(K),ab.addPoint(M),ab.addPoint(N),t.addGeometry(ab),O=m(I,L,.2),P=m(I,L,.8),Q=m(I,L,.5),R=j(c,f,O,.4*s,!z),S=j(c,f,P,.4*s,!z),T=j(c,f,Q,.8*s,!z),bb.addPoint(O),bb.addPoint(P),cb.addPoint(R),cb.addPoint(S),db.addPoint(Q),db.addPoint(T),t.addGeometry(bb),t.addGeometry(cb),t.addGeometry(db),U=m(I,L,.3),V=m(I,L,.7),W=j(c,f,U,.4*s,z),X=j(c,f,V,.4*s,z),Y=j(c,f,V,.8*s,z),Z=j(c,f,U,.8*s,z),eb.addPoint(W),eb.addPoint(X),eb.addPoint(Y),eb.addPoint(Z),eb.addPoint(W),t.addGeometry(eb)}return a=j(this.newPoints[u-1],this.newPoints[u],this.newPoints[u],s,!1),b=j(this.newPoints[u-1],this.newPoints[u],this.newPoints[u],s,!0),p.addPoint(a),p.addPoint(b),t.addGeometry(p),[t]},n.prototype.getType=function(){return"diaomarchcontrolpropety"},n}(b,Rd,Sd,B,v,C,F,E),fg=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=c.vertex,k=c.midPoint,l=c.angle,m=c.scalePoint,n=function(a){this.$type="ChongMarchControlPropety,http://www.Gs.com";var a={minCpt:2,maxCpt:10};this.newPoints=null,this.p1=null,this.p2=null,b.call(this,a)};return i(n,b),n.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}this.newPoints=[];for(var i=0;e-1>i;i++)(c[i].x!==c[i+1].x||c[i].y!==c[i+1].y)&&this.newPoints.push(c[i]);return this.newPoints.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&this.newPoints.push(b),this.getGraphParts(1)},n.prototype.getGraphParts=function(){var a,b,c,f,g,i,n,o,p,q,r=this.newPoints.length,s=5e4,t=new h;p=new d;for(var u=0;r-1>u;u++){i=new d,n=new d,o=new d,a=j(this.newPoints[u],this.newPoints[u+1],this.newPoints[u],s,!1),b=j(this.newPoints[u],this.newPoints[u+1],this.newPoints[u],s,!0),i.addPoint(a),i.addPoint(b),t.addGeometry(i),g=k(this.newPoints[u],this.newPoints[u+1]),q=l(this.newPoints[u],this.newPoints[u+1])*Math.PI/180;var v=g.x-s*Math.cos(q),w=g.y+s*Math.sin(q),x=g.x+s*Math.cos(q),y=g.y-s*Math.sin(q);c=new e({x:v,y:w}),f=new e({x:x,y:y}),n.addPoint(this.newPoints[u]),n.addPoint(c),t.addGeometry(n),o.addPoint(f),o.addPoint(this.newPoints[u+1]),t.addGeometry(o);var z=!0;v>x&&(c=new e({x:x,y:y}),f=new e({x:v,y:w}));var A,B,C,D,E,F,G,H,I,J,K,L,M=new d,N=new d,O=new d,P=new d;A=m(c,f,.2),B=m(c,f,.4),D=m(c,f,.5),E=m(c,f,.9),K=k(D,E),C=j(c,f,A,s/3,z),F=j(c,f,D,s/3,!z),G=j(c,f,E,s/3,!z),H=j(c,f,K,1.2*s,!z),I=j(c,f,K,1.6*s,z),J=m(G,F,1.4),L=j(c,f,A,s/3,!z),M.addPoint(C),M.addPoint(B),N.addPoint(D),N.addPoint(E),N.addPoint(G),N.addPoint(F),N.addPoint(D),O.addPoint(J),O.addPoint(L),P.addPoint(H),P.addPoint(I),t.addGeometry(M),t.addGeometry(N),t.addGeometry(O),t.addGeometry(P)}return a=j(this.newPoints[u-1],this.newPoints[u],this.newPoints[u],s,!1),b=j(this.newPoints[u-1],this.newPoints[u],this.newPoints[u],s,!0),p.addPoint(a),p.addPoint(b),t.addGeometry(p),[t]},n.prototype.getType=function(){return"chongmarchcontrolpropety"},n}(b,Rd,Sd,B,v,C,F,E),gg=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=a.deepCopy,k=c.scalePoint,l=c.pathLength,m=c.vertex,n=(c.angle,c.bzLine,c.midPoint),o=c.bTypeline,p=c.gainPt,q=(c.distance,function(a){this.$type="ReceivingTeamPropetyAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:10};this.bzPoints=[],b.call(this,a),this.p1=null,this.p2=null});return i(q,b),q.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),this.bzPoints=o(i),this.getGraphParts(1)},q.prototype.getGraphParts=function(a){var b=new d,c=this.bzPoints.length,e=l(this.bzPoints),i=e*a/30,o=e*a*4/210;4>i&&(i=4),2>o&&(i=2);for(var q=p(this.bzPoints,e,2/13)[0],r=p(this.bzPoints,e,2/13)[1],s=j(this.bzPoints[0]),t=r;c-1>=t;t++)b.addPoint(this.bzPoints[t]);
var u=new h;u.addGeometry(b),RectangleLeftDown=m(q,s,s,i,!1),RectangleLeftUp=m(q,s,s,i,!0),RectangleRighttDown=m(q,s,q,i,!1),RectangleRightUp=m(q,s,q,i,!0);var v=new d;v.addPoint(RectangleLeftDown),v.addPoint(RectangleLeftUp),v.addPoint(RectangleRightUp),v.addPoint(RectangleRighttDown),v.addPoint(RectangleLeftDown),u.addGeometry(v);var w=(1-13/15/Math.sqrt(3))/2,x=(1+13/15/Math.sqrt(3))/2,y=n(RectangleLeftUp,RectangleRightUp),z=k(RectangleLeftDown,RectangleRighttDown,w),A=k(RectangleLeftDown,RectangleRighttDown,x),B=new d;B.addPoint(y),B.addPoint(z),u.addGeometry(B);var C=new d;C.addPoint(y),C.addPoint(A),u.addGeometry(C);var D,E,F,G,H,I=new g,J=12.7/13;D=this.bzPoints[c-1],G=p(this.bzPoints,e,J)[0],H=k(G,D,2.5),E=m(G,H,G,o,!1),F=m(G,H,G,o,!0);var K=new f,L=[D,F,H,E,D];return K.points.length>0?K.points=L:K.addPoint(L),I.addGeometry(K),[I,u]},q.prototype.getType=function(){return"receivingteampropety"},q}(b,Rd,Sd,B,v,C,F,E),hg=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint,c.vertex,c.midPoint),k=(c.angle,c.bzLine,c.bTypeline,c.gainPt1),l=c.pathLength,m=c.distance,n=function(a){this.$type="TelecocableAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:30};b.call(this,a),this.newPoints=[],this.p1=null,this.p2=null};return i(n,b),n.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}this.newPoints=[];for(var i=0;e-1>i;i++)(c[i].x!==c[i+1].x||c[i].y!==c[i+1].y)&&this.newPoints.push(c[i]);return this.newPoints.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&this.newPoints.push(b),this.getGraphParts(1)},n.prototype.getGraphParts=function(){var a,b,c,f,g,i,n,o,p,q,r,s;s=l(this.newPoints),a=k(this.newPoints,s,.45)[0],f=k(this.newPoints,s,.45)[1],b=k(this.newPoints,s,.5)[0],g=k(this.newPoints,s,.5)[1],c=j(a,b),i=m(a,b)/2,o=new d,p=new d,q=new d,r=new h;for(var t=0;360>=t;t++)n=2*Math.PI*t/360,o.addPoint(new e({x:c.x+i*Math.cos(n),y:c.y+i*Math.sin(n)}));r.addGeometry(o);for(var u=0;f>=u;u++)p.addPoint(this.newPoints[u]);for(p.addPoint(a),q.addPoint(b),u=g+1;u<this.newPoints.length;u++)q.addPoint(this.newPoints[u]);return r.addGeometry(p),r.addGeometry(q),[r,c]},n.prototype.getType=function(){return"telecocable"},n}(b,Rd,Sd,B,v,C,F,E),ig=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint),k=c.vertex,l=c.midPoint,m=(c.angle,c.getThirdPoint),n=(c.bTypeline,c.gainPt1),o=c.pathLength,p=c.distance,q=function(a){this.$type="UnderWatercableAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:30};b.call(this,a),this.newPoints=[],this.p1=null,this.p2=null};return i(q,b),q.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}this.newPoints=[];for(var i=0;e-1>i;i++)(c[i].x!==c[i+1].x||c[i].y!==c[i+1].y)&&this.newPoints.push(c[i]);return this.newPoints.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&this.newPoints.push(b),this.getGraphParts(1)},q.prototype.getGraphParts=function(){var a,b,c,f,g,i,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E;E=o(this.newPoints),a=n(this.newPoints,E,.45)[0],u=n(this.newPoints,E,.45)[1],b=n(this.newPoints,E,.5)[0],v=n(this.newPoints,E,.5)[1],c=l(a,b),w=p(a,b)/2;var F="right";b.x<a.x&&(F="left"),f=m(a,c,Math.PI/3,w,F),g=m(a,c,2*Math.PI/3,w,F);var G=!0;b.x<a.x&&(G=!1),i=k(f,g,f,.75*w,!G),q=k(f,g,g,.75*w,!G),r=j(i,q,1.75),s=j(q,i,1.75),t=k(a,b,c,w,!G),y=new d,z=new d,A=new d,B=new d,C=new d,B.addPoint(r),B.addPoint(q),B.addPoint(t),C.addPoint(t),C.addPoint(i),C.addPoint(s),D=new h,D.addGeometry(B),D.addGeometry(C);for(var H=0;360>=H;H++)x=2*Math.PI*H/360,y.addPoint(new e({x:c.x+w*Math.cos(x),y:c.y+w*Math.sin(x)}));D.addGeometry(y);for(var I=0;u>=I;I++)z.addPoint(this.newPoints[I]);for(z.addPoint(a),A.addPoint(b),I=v+1;I<this.newPoints.length;I++)A.addPoint(this.newPoints[I]);return D.addGeometry(z),D.addGeometry(A),[D,c]},q.prototype.getType=function(){return"underwatercable"},q}(b,Rd,Sd,B,v,C,F,E),jg=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint,c.vertex),k=c.midPoint,l=(c.angle,c.bzLine,c.bTypeline,c.gainPt1),m=c.pathLength,n=c.distance,o=function(a){this.$type="UnderGroundCableAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:30};b.call(this,a),this.newPoints=[],this.p1=null,this.p2=null};return i(o,b),o.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}this.newPoints=[];for(var i=0;e-1>i;i++)(c[i].x!==c[i+1].x||c[i].y!==c[i+1].y)&&this.newPoints.push(c[i]);return this.newPoints.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&this.newPoints.push(b),this.getGraphParts(1)},o.prototype.getGraphParts=function(){var a,b,c,f,g,i,o,p,q,r,s,t,u,v,w;w=m(this.newPoints),a=l(this.newPoints,w,.45)[0],i=l(this.newPoints,w,.45)[1],b=l(this.newPoints,w,.5)[0],o=l(this.newPoints,w,.5)[1],c=k(a,b),p=n(a,b)/2;var x=!0;b.x<a.x&&(x=!1),f=j(a,b,a,p,!x),g=j(a,b,b,p,!x),r=new d,s=new d,t=new d,u=new d,u.addPoint(f),u.addPoint(g),v=new h,v.addGeometry(u);for(var y=0;360>=y;y++)q=2*Math.PI*y/360,r.addPoint(new e({x:c.x+p*Math.cos(q),y:c.y+p*Math.sin(q)}));v.addGeometry(r);for(var z=0;i>=z;z++)s.addPoint(this.newPoints[z]);for(s.addPoint(a),t.addPoint(b),z=o+1;z<this.newPoints.length;z++)t.addPoint(this.newPoints[z]);return v.addGeometry(s),v.addGeometry(t),[v,c]},o.prototype.getType=function(){return"undergroundcable"},o}(b,Rd,Sd,B,v,C,F,E),kg=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint,c.vertex),k=c.midPoint,l=(c.angle,c.getThirdPoint),m=(c.bTypeline,c.gainPt1),n=c.pathLength,o=c.distance,p=function(a){this.$type="AerialCableAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:30};b.call(this,a),this.newPoints=[],this.p1=null,this.p2=null};return i(p,b),p.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}this.newPoints=[];for(var i=0;e-1>i;i++)(c[i].x!==c[i+1].x||c[i].y!==c[i+1].y)&&this.newPoints.push(c[i]);return this.newPoints.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&this.newPoints.push(b),this.getGraphParts(1)},p.prototype.getGraphParts=function(){var a,b,c,f,g,i,p,q,r,s,t,u,v,w,x,y,z,A;A=n(this.newPoints),a=m(this.newPoints,A,.45)[0],q=m(this.newPoints,A,.45)[1],b=m(this.newPoints,A,.5)[0],r=m(this.newPoints,A,.5)[1],c=k(a,b),s=o(a,b)/2;var B="left";b.x<a.x&&(B="right"),f=l(a,c,Math.PI/3,s,B),g=l(a,c,2*Math.PI/3,s,B);var C=!1;b.x<a.x&&(C=!0),i=j(f,g,f,s,!C),p=j(f,g,g,s,!C),u=new d,v=new d,w=new d,x=new d,y=new d,x.addPoint(f),x.addPoint(i),y.addPoint(g),y.addPoint(p),z=new h,z.addGeometry(x),z.addGeometry(y);for(var D=0;360>=D;D++)t=2*Math.PI*D/360,u.addPoint(new e({x:c.x+s*Math.cos(t),y:c.y+s*Math.sin(t)}));z.addGeometry(u);for(var E=0;q>=E;E++)v.addPoint(this.newPoints[E]);for(v.addPoint(a),w.addPoint(b),E=r+1;E<this.newPoints.length;E++)w.addPoint(this.newPoints[E]);return z.addGeometry(v),z.addGeometry(w),[z,c]},p.prototype.getType=function(){return"aerialcable"},p}(b,Rd,Sd,B,v,C,F,E),lg=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint,c.vertex,c.midPoint),k=(c.angle,c.bzLine,c.bTypeline,c.gainPt1),l=c.pathLength,m=c.distance,n=function(a){this.$type="CoaxialCableAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:30};b.call(this,a),this.newPoints=[],this.p1=null,this.p2=null};return i(n,b),n.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}this.newPoints=[];for(var i=0;e-1>i;i++)(c[i].x!==c[i+1].x||c[i].y!==c[i+1].y)&&this.newPoints.push(c[i]);return this.newPoints.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&this.newPoints.push(b),this.getGraphParts(1)},n.prototype.getGraphParts=function(){var a,b,c,i,n,o,p,q,r;r=l(this.newPoints),p1=k(this.newPoints,r,.45)[0],a=k(this.newPoints,r,.45)[1],p2=k(this.newPoints,r,.5)[0],b=k(this.newPoints,r,.5)[1],p3=j(p1,p2),c=m(p1,p2)/2,n=new d,o=new d,p=new d,q=new h;for(var s=0;360>=s;s++)i=2*Math.PI*s/360,n.addPoint(new e({x:p3.x+c*Math.cos(i),y:p3.y+c*Math.sin(i)}));q.addGeometry(n);var t=c/5,u=new f,v=new g;for(s=0;360>=s;s++)i=2*Math.PI*s/360,u.addPoint(new e({x:p3.x+t*Math.cos(i),y:p3.y+t*Math.sin(i)}));v.addGeometry(u);for(var w=0;a>=w;w++)o.addPoint(this.newPoints[w]);for(o.addPoint(p1),p.addPoint(p2),w=b+1;w<this.newPoints.length;w++)p.addPoint(this.newPoints[w]);return q.addGeometry(o),q.addGeometry(p),[v,q]},n.prototype.getType=function(){return"coaxialcable"},n}(b,Rd,Sd,B,v,C,F,E),mg=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint),k=c.vertex,l=c.midPoint,m=(c.angle,c.bzLine,c.bTypeline,c.gainPt1),n=c.pathLength,o=c.distance,p=function(a){this.$type="TelecocableAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:30};b.call(this,a),this.newPoints=[],this.p1=null,this.p2=null};return i(p,b),p.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}this.newPoints=[];for(var i=0;e-1>i;i++)(c[i].x!==c[i+1].x||c[i].y!==c[i+1].y)&&this.newPoints.push(c[i]);return this.newPoints.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&this.newPoints.push(b),this.getGraphParts(1)},p.prototype.getGraphParts=function(){var a,b,c,f,g,i,p,q,r,s,t,u;u=n(this.newPoints),a=m(this.newPoints,u,.45)[0],f=m(this.newPoints,u,.45)[1],b=m(this.newPoints,u,.5)[0],g=m(this.newPoints,u,.5)[1],c=l(a,b),i=o(a,b)/2,q=new d,r=new d,s=new d,t=new h;for(var v=0;360>=v;v++)p=2*Math.PI*v/360,q.addPoint(new e({x:c.x+i*Math.cos(p),y:c.y+i*Math.sin(p)}));t.addGeometry(q);for(var w=0;f>=w;w++)r.addPoint(this.newPoints[w]);for(r.addPoint(a),s.addPoint(b),w=g+1;w<this.newPoints.length;w++)s.addPoint(this.newPoints[w]);t.addGeometry(r),t.addGeometry(s);var x,y,z,A,B,C,D;return x=j(a,b,.2),y=j(a,b,.6),z=j(a,b,.8),A=k(a,b,y,.2*i,!1),B=k(a,b,y,.2*i,!0),C=new d,D=new d,C.addPoint(A),C.addPoint(z),C.addPoint(B),D.addPoint(x),D.addPoint(z),t.addGeometry(C),t.addGeometry(D),[t,b]},p.prototype.getType=function(){return"telecocable"},p}(b,Rd,Sd,B,v,C,F,E),ng=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint),k=c.vertex,l=c.midPoint,m=(c.angle,c.getThirdPoint),n=(c.bTypeline,c.gainPt1),o=c.pathLength,p=c.distance,q=function(a){this.$type="Underwatercable1Algorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:30};b.call(this,a),this.newPoints=[],this.p1=null,this.p2=null};return i(q,b),q.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}this.newPoints=[];for(var i=0;e-1>i;i++)(c[i].x!==c[i+1].x||c[i].y!==c[i+1].y)&&this.newPoints.push(c[i]);return this.newPoints.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&this.newPoints.push(b),this.getGraphParts(1)},q.prototype.getGraphParts=function(){var a,b,c,f,g,i,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E;E=o(this.newPoints),a=n(this.newPoints,E,.45)[0],u=n(this.newPoints,E,.45)[1],b=n(this.newPoints,E,.5)[0],v=n(this.newPoints,E,.5)[1],c=l(a,b),w=p(a,b)/2;var F="right";b.x<a.x&&(F="left"),f=m(a,c,Math.PI/3,w,F),g=m(a,c,2*Math.PI/3,w,F);var G=!0;b.x<a.x&&(G=!1),i=k(f,g,f,.75*w,!G),q=k(f,g,g,.75*w,!G),r=j(i,q,1.75),s=j(q,i,1.75),t=k(a,b,c,w,!G),y=new d,z=new d,A=new d,B=new d,C=new d,B.addPoint(r),B.addPoint(q),B.addPoint(t),C.addPoint(t),C.addPoint(i),C.addPoint(s),D=new h,D.addGeometry(B),D.addGeometry(C);for(var H=0;360>=H;H++)x=2*Math.PI*H/360,y.addPoint(new e({x:c.x+w*Math.cos(x),y:c.y+w*Math.sin(x)}));D.addGeometry(y);for(var I=0;u>=I;I++)z.addPoint(this.newPoints[I]);for(z.addPoint(a),A.addPoint(b),I=v+1;I<this.newPoints.length;I++)A.addPoint(this.newPoints[I]);D.addGeometry(z),D.addGeometry(A);var J,K,L,M,N,O,P;return J=j(a,b,.2),K=j(a,b,.6),L=j(a,b,.8),M=k(a,b,K,.2*w,!1),N=k(a,b,K,.2*w,!0),O=new d,P=new d,O.addPoint(M),O.addPoint(L),O.addPoint(N),P.addPoint(J),P.addPoint(L),D.addGeometry(O),D.addGeometry(P),[D]},q.prototype.getType=function(){return"underwatercable1"},q}(b,Rd,Sd,B,v,C,F,E),og=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint),k=c.vertex,l=c.midPoint,m=(c.angle,c.bzLine,c.bTypeline,c.gainPt1),n=c.pathLength,o=c.distance,p=function(a){this.$type="UnderGroundCableAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:30};b.call(this,a),this.newPoints=[],this.p1=null,this.p2=null};return i(p,b),p.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}this.newPoints=[];for(var i=0;e-1>i;i++)(c[i].x!==c[i+1].x||c[i].y!==c[i+1].y)&&this.newPoints.push(c[i]);return this.newPoints.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&this.newPoints.push(b),this.getGraphParts(1)},p.prototype.getGraphParts=function(){var a,b,c,f,g,i,p,q,r,s,t,u,v,w,x;x=n(this.newPoints),a=m(this.newPoints,x,.45)[0],i=m(this.newPoints,x,.45)[1],b=m(this.newPoints,x,.5)[0],p=m(this.newPoints,x,.5)[1],c=l(a,b),q=o(a,b)/2;var y=!0;b.x<a.x&&(y=!1),f=k(a,b,a,q,!y),g=k(a,b,b,q,!y),s=new d,t=new d,u=new d,v=new d,v.addPoint(f),v.addPoint(g),w=new h,w.addGeometry(v);for(var z=0;360>=z;z++)r=2*Math.PI*z/360,s.addPoint(new e({x:c.x+q*Math.cos(r),y:c.y+q*Math.sin(r)}));w.addGeometry(s);for(var A=0;i>=A;A++)t.addPoint(this.newPoints[A]);for(t.addPoint(a),u.addPoint(b),A=p+1;A<this.newPoints.length;A++)u.addPoint(this.newPoints[A]);w.addGeometry(t),w.addGeometry(u);var B,C,D,E,F,G,H;return B=j(a,b,.2),C=j(a,b,.6),D=j(a,b,.8),E=k(a,b,C,.2*q,!1),F=k(a,b,C,.2*q,!0),G=new d,H=new d,G.addPoint(E),G.addPoint(D),G.addPoint(F),H.addPoint(B),H.addPoint(D),w.addGeometry(G),w.addGeometry(H),[w]},p.prototype.getType=function(){return"undergroundcable"},p}(b,Rd,Sd,B,v,C,F,E),pg=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint),k=c.vertex,l=c.midPoint,m=(c.angle,c.getThirdPoint),n=(c.bTypeline,c.gainPt1),o=c.pathLength,p=c.distance,q=function(a){this.$type="AerialCable1Algorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:30};b.call(this,a),this.newPoints=[],this.p1=null,this.p2=null};return i(q,b),q.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}this.newPoints=[];for(var i=0;e-1>i;i++)(c[i].x!==c[i+1].x||c[i].y!==c[i+1].y)&&this.newPoints.push(c[i]);return this.newPoints.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&this.newPoints.push(b),this.getGraphParts(1)},q.prototype.getGraphParts=function(){var a,b,c,f,g,i,q,r,s,t,u,v,w,x,y,z,A,B;B=o(this.newPoints),a=n(this.newPoints,B,.45)[0],r=n(this.newPoints,B,.45)[1],b=n(this.newPoints,B,.5)[0],s=n(this.newPoints,B,.5)[1],c=l(a,b),t=p(a,b)/2;var C="left";b.x<a.x&&(C="right"),f=m(a,c,Math.PI/3,t,C),g=m(a,c,2*Math.PI/3,t,C);var D=!1;b.x<a.x&&(D=!0),i=k(f,g,f,t,!D),q=k(f,g,g,t,!D),v=new d,w=new d,x=new d,y=new d,z=new d,y.addPoint(f),y.addPoint(i),z.addPoint(g),z.addPoint(q),A=new h,A.addGeometry(y),A.addGeometry(z);for(var E=0;360>=E;E++)u=2*Math.PI*E/360,v.addPoint(new e({x:c.x+t*Math.cos(u),y:c.y+t*Math.sin(u)}));A.addGeometry(v);for(var F=0;r>=F;F++)w.addPoint(this.newPoints[F]);for(w.addPoint(a),x.addPoint(b),F=s+1;F<this.newPoints.length;F++)x.addPoint(this.newPoints[F]);A.addGeometry(w),A.addGeometry(x);var G,H,I,J,K,L,M;return G=j(a,b,.2),H=j(a,b,.6),I=j(a,b,.8),J=k(a,b,H,.2*t,!1),K=k(a,b,H,.2*t,!0),L=new d,M=new d,L.addPoint(J),L.addPoint(I),L.addPoint(K),M.addPoint(G),M.addPoint(I),A.addGeometry(L),A.addGeometry(M),[A]},q.prototype.getType=function(){return"aerialcable1"},q}(b,Rd,Sd,B,v,C,F,E),qg=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint,c.vertex,c.midPoint),k=c.angle,l=(c.bzLine,c.bTypeline,c.gainPt1),m=c.pathLength,n=c.distance,o=function(a){this.$type="AerialCommunicationOpenwire2Algorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:10};b.call(this,a),this.newPoints=[],this.p1=null,this.p2=null};return i(o,b),o.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}this.newPoints=[];for(var i=0;e-1>i;i++)(c[i].x!==c[i+1].x||c[i].y!==c[i+1].y)&&this.newPoints.push(c[i]);return this.newPoints.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&this.newPoints.push(b),this.getGraphParts(1)},o.prototype.getGraphParts=function(){var a,b,c,i,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C;C=5e4,w=m(this.newPoints),b=l(this.newPoints,w,.5)[0],x=l(this.newPoints,w,.5)[1],c=l(this.newPoints,w,.48)[0],i=l(this.newPoints,w,.52)[0],v=new h,B=new g;for(var D=0;D<this.newPoints.length-1;D++)if(D!==x){z=n(this.newPoints[D],this.newPoints[D+1]),q=k(this.newPoints[D],this.newPoints[D+1])*Math.PI/180,y=parseInt(z/5/C),o=this.newPoints[D].copy();for(var E=1;y>=E;E++){s=new d,A=new f,p=new e({x:o.x+3.6*C*Math.cos(q),y:o.y-3.6*C*Math.sin(q)}),s.addPoint(o.copy()),s.addPoint(p),v.addGeometry(s),o.x=o.x+5*C*Math.cos(q),o.y=o.y-5*C*Math.sin(q),a=j(o,p);for(var F=0;100>=F;F++)r=2*Math.PI*F/100,A.addPoint(new e({x:a.x+.7*C*Math.cos(r),y:a.y+.7*C*Math.sin(r)}));B.addGeometry(A)}t=new d,p=this.newPoints[D+1],t.addPoint(o),t.addPoint(p),v.addGeometry(t)}else{for(q=k(this.newPoints[D],this.newPoints[D+1])*Math.PI/180,z=n(this.newPoints[D],c),y=parseInt(z/5/C),o=this.newPoints[D].copy(),E=1;y>=E;E++){for(s=new d,A=new f,p=new e({x:o.x+3.6*C*Math.cos(q),y:o.y-3.6*C*Math.sin(q)}),s.addPoint(o.copy()),s.addPoint(p),v.addGeometry(s),o.x=o.x+5*C*Math.cos(q),o.y=o.y-5*C*Math.sin(q),a=j(o,p),F=0;100>=F;F++)r=2*Math.PI*F/100,A.addPoint(new e({x:a.x+.7*C*Math.cos(r),y:a.y+.7*C*Math.sin(r)}));B.addGeometry(A)}for(t=new d,p=c,t.addPoint(o),t.addPoint(p),v.addGeometry(t),z=n(this.newPoints[D+1],i),y=parseInt(z/5/C),o=i.copy(),E=1;y>=E;E++){for(s=new d,A=new f,p=new e({x:o.x+3.6*C*Math.cos(q),y:o.y-3.6*C*Math.sin(q)}),s.addPoint(o.copy()),s.addPoint(p),v.addGeometry(s),o.x=o.x+5*C*Math.cos(q),o.y=o.y-5*C*Math.sin(q),a=j(o,p),F=0;100>=F;F++)r=2*Math.PI*F/100,A.addPoint(new e({x:a.x+.7*C*Math.cos(r),y:a.y+.7*C*Math.sin(r)}));B.addGeometry(A)}for(t=new d,p=this.newPoints[D+1],t.addPoint(o),t.addPoint(p),v.addGeometry(t),u=new d,F=0;100>=F;F++)r=2*Math.PI*F/100,u.addPoint(new e({x:b.x+.02*w*Math.cos(r),y:b.y+.02*w*Math.sin(r)}));v.addGeometry(u)}return[B,v,b]},o.prototype.getType=function(){return"aerialcommunicationopenwire2"},o}(b,Rd,Sd,B,v,C,F,E),rg=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint,c.vertex),k=c.midPoint,l=c.angle,m=(c.bzLine,c.bTypeline,c.gainPt1),n=c.pathLength,o=c.distance,p=function(a){this.$type="aerialcommunicationopenwire12Algorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:10};b.call(this,a),this.newPoints=[],this.p1=null,this.p2=null};return i(p,b),p.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}this.newPoints=[];for(var i=0;e-1>i;i++)(c[i].x!==c[i+1].x||c[i].y!==c[i+1].y)&&this.newPoints.push(c[i]);return this.newPoints.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&this.newPoints.push(b),this.getGraphParts(1)},p.prototype.getGraphParts=function(){var a,b,c,i,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H;G=n(this.newPoints);var I,J,K;F=new h;for(var L,M=5e4,N=new g,O=0,P=0;P<this.newPoints.length-1;P++){K=o(this.newPoints[P],this.newPoints[P+1]),A=l(this.newPoints[P],this.newPoints[P+1])*Math.PI/180,I=parseInt(K/5/M),q=this.newPoints[P].copy();for(var Q=1;I>=Q;Q++){D=new d,L=new f,r=new e({x:q.x+3.6*M*Math.cos(A),y:q.y-3.6*M*Math.sin(A)}),D.addPoint(q.copy()),D.addPoint(r),F.addGeometry(D),q.x=q.x+5*M*Math.cos(A),q.y=q.y-5*M*Math.sin(A),a=k(q,r),O++;for(var R=0;100>=R;R++)B=2*Math.PI*R/100,L.addPoint(new e({x:a.x+.7*M*Math.cos(B),y:a.y+.7*M*Math.sin(B)}));N.addGeometry(L)}E=new d,r=this.newPoints[P+1],E.addPoint(q),E.addPoint(r),F.addGeometry(E)}b=m(this.newPoints,G,.5)[0],H=m(this.newPoints,G,.5)[1],c=this.newPoints[H],i=this.newPoints[H+1],K=o(c,b);var S=o(c,i);if(A=l(c,b)*Math.PI/180,J=parseInt(K/5/M),I=parseInt(S/5/M),J>0)p=new e({x:c.x+(5*J-.7)*M*Math.cos(A),y:c.y-(5*J-.7)*M*Math.sin(A)});else if(I>0)p=new e({x:c.x+4.3*M*Math.cos(A),y:c.y-4.3*M*Math.sin(A)});else{p=b;var T=new f;for(R=0;100>=R;R++)B=2*Math.PI*R/100,T.addPoint(new e({x:p.x+.7*M*Math.cos(B),y:p.y+.7*M*Math.sin(B)}));N.addGeometry(T)}C=new d,E=new d;var U=!0;return i.x<c.x&&(U=!1),s=j(c,i,p,.7*M,!U),t=j(c,i,p,.03*G,!U),u=j(p,t,t,.01*G,!0),v=j(t,u,u,.01*G,!1),w=j(t,u,u,.01*G,!0),x=j(u,v,v,.02*G,!0),y=j(u,w,w,.02*G,!1),C.addPoint(s),C.addPoint(t),C.addPoint(u),C.addPoint(v),C.addPoint(x),E.addPoint(u),E.addPoint(w),E.addPoint(y),F.addGeometry(C),F.addGeometry(E),z=j(u,v,u,.01*G,!0),[N,F,z]},p.prototype.getType=function(){return"aerialcommunicationopenwire12"},p}(b,Rd,Sd,B,v,C,F,E),sg=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint,c.pathLength,c.vertex,c.angle,c.bzLine),k=(c.gainPt,c.distance),l=c.calLinePerpenPoints,m=c.optionWay,n=function(a){this.$type="ArmyRendezvousAreaPropety,http://www.Gs.com";var a={minCpt:2,maxCpt:3};b.call(this,a)};return i(n,b),n.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),i=c.length,o=new e,p=new e,q=new e,r=new e,s=new e,t=new e,u=new e,v=new e,w=new e,x=0,y=0,z=0,A=[],B=new e,C=!1;if(1==i){if(A[0]=c[0],null!=b)if(c[0].x==b.x&&c[0].y==b.y){var D=new e({x:b.x+10,y:b.y});A[1]=D}else A[1]=b;var E=new e;z=k(A[0],A[1]),l(A[0],A[1],z/2,z/2,B,E,!0),A[2]=E}else if(2==i){for(var F=0;i>F;F++)A[F]=c[F];if(null!=b)if(c[1].x==b.x&&c[1].y==b.y){var D=new e({x:b.x,y:b.y});A[2]=D}else A[2]=b;else{var E=new e;z=k(A[0],A[1]),l(A[0],A[1],z/2,z/2,B,E,!0),A[2]=E}}else if(3==i)for(var F=0;i>F;F++)A[F]=c[F];var G=k(A[0],A[1])+1,H=k(A[1],A[2])+1,I=k(A[2],A[0])+1;H>G&&H>I?(B=A[0],A[0]=A[1],A[1]=A[2],A[2]=B):I>G&&I>H&&(B=A[1],A[1]=A[0],A[0]=A[2],A[2]=B),C=m(A[0],A[1],A[2]),x=(A[0].y-A[1].y)/(A[0].x-A[1].x+1),y=k(A[1],A[0])+1,A[0].y>A[1].y?0>x?n.calculatePoints(x,A[2],y/3,q,p):n.calculatePoints(x,A[2],y/3,p,q):0>x?n.calculatePoints(x,A[2],y/3,p,q):n.calculatePoints(x,A[2],y/3,q,p),x=(A[1].y-A[2].y)/(A[1].x-A[2].x+1),y=k(A[2],A[1])+1,A[1].y>A[2].y?0>x?n.calculatePoints(x,A[0],y/3,s,r):n.calculatePoints(x,A[0],y/3,r,s):0>x?n.calculatePoints(x,A[0],y/3,r,s):n.calculatePoints(x,A[0],y/3,s,r),x=(A[2].y-A[0].y)/(A[2].x-A[0].x+1),y=k(A[2],A[0])+1,A[2].y>A[0].y?0>x?n.calculatePoints(x,A[1],y/3,o,w):n.calculatePoints(x,A[1],y/3,w,o):0>x?n.calculatePoints(x,A[1],y/3,w,o):n.calculatePoints(x,A[1],y/3,o,w),u.x=(A[0].x+A[1].x)/2,u.y=(A[0].y+A[1].y)/2,x=(A[0].y-A[1].y)/(A[0].x-A[1].x+1),y=k(A[1],A[0])+1,A[0].y>A[1].y?0>x?n.calculatePoints(x,u,y/6,t,v):n.calculatePoints(x,u,y/6,v,t):0>x?n.calculatePoints(x,u,y/6,v,t):n.calculatePoints(x,u,y/6,t,v);var J=new Array;J[0]=A[0],J[1]=s,J[2]=t,J[3]=u;var K=new Array;K[0]=u,K[1]=v,K[2]=w,K[3]=A[1];var L=new Array;L[0]=A[1],L[1]=o,L[2]=p,L[3]=A[2];var M=new Array;M[0]=A[2],M[1]=q,M[2]=r,M[3]=A[0];for(var N=new d,O=new h,P=new f,Q=new g,R=j(J),S=R.length,F=0;S>F;F++)N.addPoint(R[F]),P.addPoint(R[F]);R=j(K);for(var S=R.length,F=0;S>F;F++)N.addPoint(R[F]),P.addPoint(R[F]);R=j(L);for(var S=R.length,F=0;S>F;F++)N.addPoint(R[F]),P.addPoint(R[F]);R=j(M);for(var S=R.length,F=0;S>F;F++)N.addPoint(R[F]),P.addPoint(R[F]);O.addGeometry(N),Q.addGeometry(P);var T=Q.envelope().center();return[O,T]},n.calculatePoints=function(a,b,c,d,e){var f=b.x,g=b.y,h=g-a*f,i=a*a+1,j=2*a*(h-g)-2*f,k=(h-g)*(h-g)+f*f-c*c;d.x=parseInt((-j-Math.sqrt(j*j-4*i*k))/(2*i)),e.x=parseInt((-j+Math.sqrt(j*j-4*i*k))/(2*i)),d.y=parseInt(a*d.x+h),e.y=parseInt(a*e.x+h)},n.prototype.getType=function(){return"armyrendezvousareapropety"},n}(b,Rd,Sd,B,v,C,F,E),tg=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint,c.pathLength,c.vertex,c.angle,c.bzLine),k=(c.gainPt,c.distance),l=c.calLinePerpenPoints,m=c.optionWay,n=function(a){this.$type="TankRendezvousAreaPropety,http://www.Gs.com";var a={minCpt:2,maxCpt:3};b.call(this,a)};return i(n,b),n.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),i=c.length,o=new e,p=new e,q=new e,r=new e,s=new e,t=new e,u=new e,v=new e,w=new e,x=0,y=0,z=0,A=[],B=new e,C=!1;if(1==i){if(A[0]=c[0],null!=b)if(c[0].x==b.x&&c[0].y==b.y){var D=new e({x:b.x+10,y:b.y});A[1]=D}else A[1]=b;var E=new e;z=k(A[0],A[1]),l(A[0],A[1],z/2,z/2,B,E,!0),A[2]=E}else if(2==i){for(var F=0;i>F;F++)A[F]=c[F];if(null!=b)if(c[1].x==b.x&&c[1].y==b.y){var D=new e({x:b.x,y:b.y});A[2]=D}else A[2]=b;else{var E=new e;z=k(A[0],A[1]),l(A[0],A[1],z/2,z/2,B,E,!0),A[2]=E}}else if(3==i)for(var F=0;i>F;F++)A[F]=c[F];var G=k(A[0],A[1])+1,H=k(A[1],A[2])+1,I=k(A[2],A[0])+1;H>G&&H>I?(B=A[0],A[0]=A[1],A[1]=A[2],A[2]=B):I>G&&I>H&&(B=A[1],A[1]=A[0],A[0]=A[2],A[2]=B),C=m(A[0],A[1],A[2]),x=(A[0].y-A[1].y)/(A[0].x-A[1].x+1),y=k(A[1],A[0])+1,A[0].y>A[1].y?0>x?n.calculatePoints(x,A[2],y/3,q,p):n.calculatePoints(x,A[2],y/3,p,q):0>x?n.calculatePoints(x,A[2],y/3,p,q):n.calculatePoints(x,A[2],y/3,q,p),x=(A[1].y-A[2].y)/(A[1].x-A[2].x+1),y=k(A[2],A[1])+1,A[1].y>A[2].y?0>x?n.calculatePoints(x,A[0],y/3,s,r):n.calculatePoints(x,A[0],y/3,r,s):0>x?n.calculatePoints(x,A[0],y/3,r,s):n.calculatePoints(x,A[0],y/3,s,r),x=(A[2].y-A[0].y)/(A[2].x-A[0].x+1),y=k(A[2],A[0])+1,A[2].y>A[0].y?0>x?n.calculatePoints(x,A[1],y/3,o,w):n.calculatePoints(x,A[1],y/3,w,o):0>x?n.calculatePoints(x,A[1],y/3,w,o):n.calculatePoints(x,A[1],y/3,o,w),u.x=(A[0].x+A[1].x)/2,u.y=(A[0].y+A[1].y)/2,x=(A[0].y-A[1].y)/(A[0].x-A[1].x+1),y=k(A[1],A[0])+1,A[0].y>A[1].y?0>x?n.calculatePoints(x,u,y/6,t,v):n.calculatePoints(x,u,y/6,v,t):0>x?n.calculatePoints(x,u,y/6,v,t):n.calculatePoints(x,u,y/6,t,v);var J=new Array;J[0]=A[0],J[1]=s,J[2]=t,J[3]=u;var K=new Array;K[0]=u,K[1]=v,K[2]=w,K[3]=A[1];var L=new Array;L[0]=A[1],L[1]=o,L[2]=p,L[3]=A[2];var M=new Array;M[0]=A[2],M[1]=q,M[2]=r,M[3]=A[0];for(var N=new d,O=new h,P=new f,Q=new g,R=j(J),S=R.length,F=0;S>F;F++)N.addPoint(R[F]),P.addPoint(R[F]);R=j(K);for(var S=R.length,F=0;S>F;F++)N.addPoint(R[F]),P.addPoint(R[F]);R=j(L);for(var S=R.length,F=0;S>F;F++)N.addPoint(R[F]),P.addPoint(R[F]);R=j(M);for(var S=R.length,F=0;S>F;F++)N.addPoint(R[F]),P.addPoint(R[F]);O.addGeometry(N),Q.addGeometry(P);var T,U,V=Q.envelope().center();U=k(V,o),T=U,U=k(V,p),T=Math.min(U,T),U=k(V,q),T=Math.min(U,T),U=k(V,r),T=Math.min(U,T),U=k(V,s),T=Math.min(U,T),U=k(V,t),T=Math.min(U,T),U=k(V,u),T=Math.min(U,T),U=k(V,v),T=Math.min(U,T),U=k(V,w),T=Math.min(U,T);var W=new e({x:V.x+T,y:V.y}),X=new e({x:V.x-T,y:V.y}),Y=new e({x:V.x,y:V.y+T/2}),Z=new e({x:V.x,y:V.y-T/2}),$=new d;return $.addPoint(W),$.addPoint(Y),$.addPoint(X),$.addPoint(Z),$.addPoint(W),O.addGeometry($),[O]},n.calculatePoints=function(a,b,c,d,e){var f=b.x,g=b.y,h=g-a*f,i=a*a+1,j=2*a*(h-g)-2*f,k=(h-g)*(h-g)+f*f-c*c;d.x=parseInt((-j-Math.sqrt(j*j-4*i*k))/(2*i)),e.x=parseInt((-j+Math.sqrt(j*j-4*i*k))/(2*i)),d.y=parseInt(a*d.x+h),e.y=parseInt(a*e.x+h)},n.prototype.getType=function(){return"tankrendezvousareapropety"},n}(b,Rd,Sd,B,v,C,F,E),ug=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.scalePoint,c.pathLength,c.vertex,c.angle,c.bzLine),k=(c.gainPt,c.distance),l=c.calLinePerpenPoints,m=c.optionWay,n=function(a){this.$type="MyRendezvousArea1Propety,http://www.Gs.com";var a={minCpt:2,maxCpt:3};b.call(this,a)};return i(n,b),n.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),f=c.length,g=new e,i=new e,o=new e,p=new e,q=new e,r=new e,s=new e,t=new e,u=new e,v=0,w=0,x=0,y=[],z=new e,A=!1;if(1==f){if(y[0]=c[0],null!=b)if(c[0].x==b.x&&c[0].y==b.y){var B=new e({x:b.x+10,y:b.y});y[1]=B}else y[1]=b;var C=new e;x=k(y[0],y[1]),l(y[0],y[1],x/2,x/2,z,C,!0),y[2]=C}else if(2==f){for(var D=0;f>D;D++)y[D]=c[D];if(null!=b)if(c[1].x==b.x&&c[1].y==b.y){var B=new e({x:b.x,y:b.y});y[2]=B}else y[2]=b;else{var C=new e;x=k(y[0],y[1]),l(y[0],y[1],x/2,x/2,z,C,!0),y[2]=C}}else if(3==f)for(var D=0;f>D;D++)y[D]=c[D];var E=k(y[0],y[1])+1,F=k(y[1],y[2])+1,G=k(y[2],y[0])+1;F>E&&F>G?(z=y[0],y[0]=y[1],y[1]=y[2],y[2]=z):G>E&&G>F&&(z=y[1],y[1]=y[0],y[0]=y[2],y[2]=z),A=m(y[0],y[1],y[2]),v=(y[0].y-y[1].y)/(y[0].x-y[1].x+1),w=k(y[1],y[0])+1,y[0].y>y[1].y?0>v?n.calculatePoints(v,y[2],w/3,o,i):n.calculatePoints(v,y[2],w/3,i,o):0>v?n.calculatePoints(v,y[2],w/3,i,o):n.calculatePoints(v,y[2],w/3,o,i),v=(y[1].y-y[2].y)/(y[1].x-y[2].x+1),w=k(y[2],y[1])+1,y[1].y>y[2].y?0>v?n.calculatePoints(v,y[0],w/3,q,p):n.calculatePoints(v,y[0],w/3,p,q):0>v?n.calculatePoints(v,y[0],w/3,p,q):n.calculatePoints(v,y[0],w/3,q,p),v=(y[2].y-y[0].y)/(y[2].x-y[0].x+1),w=k(y[2],y[0])+1,y[2].y>y[0].y?0>v?n.calculatePoints(v,y[1],w/3,g,u):n.calculatePoints(v,y[1],w/3,u,g):0>v?n.calculatePoints(v,y[1],w/3,u,g):n.calculatePoints(v,y[1],w/3,g,u),s.x=(y[0].x+y[1].x)/2,s.y=(y[0].y+y[1].y)/2,v=(y[0].y-y[1].y)/(y[0].x-y[1].x+1),w=k(y[1],y[0])+1,y[0].y>y[1].y?0>v?n.calculatePoints(v,s,w/6,r,t):n.calculatePoints(v,s,w/6,t,r):0>v?n.calculatePoints(v,s,w/6,t,r):n.calculatePoints(v,s,w/6,r,t);var H=new Array;H[0]=y[0],H[1]=q,H[2]=r,H[3]=s;var I=new Array;I[0]=s,I[1]=t,I[2]=u,I[3]=y[1];var J=new Array;J[0]=y[1],J[1]=g,J[2]=i,J[3]=y[2];var K=new Array;K[0]=y[2],K[1]=o,K[2]=p,K[3]=y[0];for(var L=new d,M=new h,N=j(H),O=N.length,D=0;O>D;D++)L.addPoint(N[D]);N=j(I);for(var O=N.length,D=0;O>D;D++)L.addPoint(N[D]);N=j(J);for(var O=N.length,D=0;O>D;D++)L.addPoint(N[D]);N=j(K);for(var O=N.length,D=0;O>D;D++)L.addPoint(N[D]);return M.addGeometry(L),[M]},n.calculatePoints=function(a,b,c,d,e){var f=b.x,g=b.y,h=g-a*f,i=a*a+1,j=2*a*(h-g)-2*f,k=(h-g)*(h-g)+f*f-c*c;d.x=parseInt((-j-Math.sqrt(j*j-4*i*k))/(2*i)),e.x=parseInt((-j+Math.sqrt(j*j-4*i*k))/(2*i)),d.y=parseInt(a*d.x+h),e.y=parseInt(a*e.x+h)},n.prototype.getType=function(){return"myrendezvousareapropety"},n}(b,Rd,Sd,B,v,C,F,E),vg=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=a.deepCopy,k=c.scalePoint,l=c.pathLength,m=c.vertex,n=(c.angle,c.bzLine,c.bTypeline),o=c.gainPt,p=c.distance;polarAngle360=c.polarAngle360,midPoint=c.midPoint,getPolarPointOfCenterPoint=c.getPolarPointOfCenterPoint;var q=function(a){this.$type="MissilePropetyAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:3};b.call(this,a);this.p1=null,this.p2=null};return i(q,b),q.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=n(i),this.getGraphParts(1)},q.prototype.getGraphParts=function(a){var b,c,e,i,n,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K=new h,L=l(bzPoints),M=L*a*4/210,N=new g;r=o(bzPoints,L,6/13,i)[0],s=o(bzPoints,L,7/13,n)[0],i=o(bzPoints,L,6/13,i)[1],n=o(bzPoints,L,7/13,n)[1];var O=p(r,s)/10;t=k(r,s,.1),u=k(r,s,.3),v=k(r,s,.4),w=k(r,s,.8),x=k(r,s,.85),y=k(r,s,.93),z=k(r,s,.99),A=m(r,t,t,O,!0),B=m(r,u,u,O,!0),C=m(r,v,v,O,!0),D=m(r,w,w,O,!0),E=m(r,x,x,.5*O,!0),F=m(r,t,t,O,!1),G=m(r,u,u,O,!1),H=m(r,v,v,O,!1),I=m(r,w,w,O,!1),J=m(r,x,x,.5*O,!1);var P=new d;P.addPoint(t),P.addPoint(y),K.addGeometry(P);var Q=new d;Q.addPoint(G),Q.addPoint(v),Q.addPoint(B),K.addGeometry(Q);var R=new d;R.addPoint(A),R.addPoint(F),K.addGeometry(R);var S=new d;S.addPoint(H),S.addPoint(I),K.addGeometry(S);var T=new d;T.addPoint(C),T.addPoint(D),K.addGeometry(T),$=new f,_=[J,y,E,z,J],$.points.length>0?$.points=_:$.addPoint(_),N=new g,N.addGeometry($);for(var U=new d,V=0;i>V;V++)U.addPoint(bzPoints[V]);K.addGeometry(U);var W=new d;
W.addPoint(s);for(var X=bzPoints.length,Y=n;X>Y;Y++)W.addPoint(bzPoints[Y]);K.addGeometry(W),pt5=o(bzPoints,L,12.7/13,q)[0];var Z=j(bzPoints[X-1]);pt6=k(pt5,Z,2.5);new g;arrow1=m(Z,pt5,pt5,M,!0),b=m(Z,pt5,pt5,M,!1),c=pt6,e=Z;var $=new f,_=[arrow1,c,b,e,arrow1];return $.points.length>0?$.points=_:$.addPoint(_),N.addGeometry($),[N,K]},q.prototype.getType=function(){return"missilepropety"},q}(b,Rd,Sd,B,v,C,F,E),wg=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=a.deepCopy,k=c.scalePoint,l=c.pathLength,m=c.vertex,n=(c.angle,c.bzLine,c.bTypeline),o=c.gainPt,p=(c.distance,function(a){this.$type="ArtilleryMarchPropetyAlgorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:3};b.call(this,a);this.p1=[],this.p2=[],this.p3=[]});return i(p,b),p.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=n(i),this.getGraphParts(1)},p.prototype.getGraphParts=function(a){var b,c,e,i,n,p,q,r,s,t,u,v,w,x,y,z=new h,A=new d,B=bzPoints.length,C=l(bzPoints),D=C*a/60,E=C*a*4/60;q=o(bzPoints,C,6/13)[0],n=o(bzPoints,C,6/13)[1],r=o(bzPoints,C,7/13)[0],p=o(bzPoints,C,7/13)[1],s=k(q,r,.75),t=m(q,r,q,D,!1),u=m(q,r,q,D,!0),v=m(q,r,s,D,!1),w=m(q,r,s,D,!0),A.addPoint(u),A.addPoint(w),A.addPoint(r),A.addPoint(v),A.addPoint(t),A.addPoint(u),z.addGeometry(A);for(var F=new d,G=new d,H=0;n>H;H++)F.addPoint(bzPoints[H]);for(F.addPoint(q),G.addPoint(r),H=p;H<bzPoints.length;H++)G.addPoint(bzPoints[H]);z.addGeometry(F),z.addGeometry(G),x=o(bzPoints,C,12.7/13)[0];var I=j(bzPoints[B-1]);y=k(x,I,2.5);var J=new g;b=m(I,x,x,.3*E,!0),c=m(I,x,x,.3*E,!1),e=y,i=I;var K=[b,e,c,i,b],L=new f;return L.points.length>0?L.points=K:L.addPoint(K),J.addGeometry(L),[J,z]},p.prototype.getType=function(){return"artillerymarchpropety"},p}(b,Rd,Sd,B,v,C,F,E),xg=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=a.deepCopy,k=c.scalePoint,l=c.pathLength,m=c.vertex,n=(c.angle,c.bzLine,c.bTypeline),o=c.gainPt,p=(c.distance,function(a){this.$type="AirDefendMarchPropety,http://www.Gs.com";var a={minCpt:2,maxCpt:3};b.call(this,a);this.p1=[],this.p2=[],this.p3=[]});return i(p,b),p.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}for(var i=[],j=0;e-1>j;j++)(c[j].x!==c[j+1].x||c[j].y!==c[j+1].y)&&i.push(c[j]);return i.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&i.push(b),bzPoints=n(i),this.getGraphParts(1)},p.prototype.getGraphParts=function(a){for(var b,c,e,i,n,p=new h,q=new d,r=bzPoints.length,s=0;r-1>=s;s++)q.addPoint(bzPoints[s]);p.addGeometry(q);var t=l(bzPoints),u=t*a*4/60;pt1=o(bzPoints,t,.3)[0],pt2=o(bzPoints,t,.4)[0],pt3=o(bzPoints,t,.6)[0],pt4=o(bzPoints,t,.7)[0],ptV1Bottom=m(pt1,pt2,pt1,.3*u,!0),ptV1Top=m(pt1,pt2,pt1,.3*u,!1),ptV2Bottom=m(pt1,pt2,pt2,.3*u,!0),ptV2Top=m(pt1,pt2,pt2,.3*u,!1),ptV3Bottom=m(pt3,pt4,pt3,.3*u,!0),ptV3Top=m(pt3,pt4,pt3,.3*u,!1),ptV4Bottom=m(pt3,pt4,pt4,.3*u,!0),ptV4Top=m(pt3,pt4,pt4,.3*u,!1);var v=new d;v.addPoint(ptV1Bottom),v.addPoint(ptV2Bottom),p.addGeometry(v);var w=new d;w.addPoint(ptV3Bottom),w.addPoint(ptV4Bottom),p.addGeometry(w);var x=new d;x.addPoint(ptV1Top),x.addPoint(ptV2Top),p.addGeometry(x);var y=new d;y.addPoint(ptV3Top),y.addPoint(ptV4Top),p.addGeometry(y),pt5=o(bzPoints,t,12.7/13,n)[0];var z=j(bzPoints[r-1]);pt6=k(pt5,z,2.5);var A=new g;b=m(z,pt5,pt5,.3*u,!0),c=m(z,pt5,pt5,.3*u,!1),e=pt6,i=z;var B=[b,e,c,i,b],C=new f;return C.points.length>0?C.points=B:C.addPoint(B),A.addGeometry(C),[A,p]},p.prototype.getType=function(){return"airdefendmarchpropety"},p}(b,Rd,Sd,B,v,C,F,E),yg=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=(a.deepCopy,c.getThirdPoint),k=(c.vertex,c.midPoint),l=c.angle,m=(c.bzLine,c.bTypeline,c.gainPt1,c.pathLength,c.distance),n=function(a){this.$type="CoveredWireLine2Algorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:10};b.call(this,a),this.newPoints=[],this.p1=null,this.p2=null};return i(n,b),n.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new h;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}this.newPoints=[];for(var i=0;e-1>i;i++)(c[i].x!==c[i+1].x||c[i].y!==c[i+1].y)&&this.newPoints.push(c[i]);return this.newPoints.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&this.newPoints.push(b),this.getGraphParts(1)},n.prototype.getGraphParts=function(){var a,b,c,f,g,i,n,o,p,q,r,s,t;r=new h;for(var u=1e5,v=0;v<this.newPoints.length-1;v++){t=m(this.newPoints[v],this.newPoints[v+1]),i=l(this.newPoints[v],this.newPoints[v+1])*Math.PI/180,s=parseInt(t/2/u),c=this.newPoints[v].copy();for(var w=0;s>w;w++){for(o=new d,pe=new e({x:c.x+2*u*Math.cos(i),y:c.y-2*u*Math.sin(i)}),pm=k(c,pe),g=w%2,y=0;50>=y;y++){n=2*Math.PI*y/100+g*Math.PI;var x="left";pm.x<c.x&&(way="right"),f=j(c,pm,n,u,x),o.addPoint(f)}r.addGeometry(o),c.x=c.x+2*u*Math.cos(i),c.y=c.y-2*u*Math.sin(i)}p=new d,pe=this.newPoints[v+1],p.addPoint(c),p.addPoint(pe),r.addGeometry(p)}a=c,b=new e({x:c.x-2*u*Math.cos(i),y:c.y+2*u*Math.sin(i)}),pm=k(a,b),q=new d;for(var y=0;100>=y;y++)n=2*Math.PI*y/100,q.addPoint(new e({x:pm.x+u*Math.cos(n),y:pm.y+u*Math.sin(n)}));return r.addGeometry(q),[r,pm]},n.prototype.getType=function(){return"coveredwireline2"},n}(b,Rd,Sd,B,v,C,F,E),zg=function(a,b,c,d,e,f,g,i){var j=a.extend2,k=(a.deepCopy,c.getThirdPoint),l=c.vertex,m=c.midPoint,n=c.angle,o=(c.bzLine,c.bTypeline,c.gainPt1,c.pathLength,c.distance),p=function(a){this.$type="CoveredWireLine3Algorithm,http://www.Gs.com";var a={minCpt:2,maxCpt:10};b.call(this,a),this.newPoints=[],this.p1=null,this.p2=null};return j(p,b),p.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),e=c.length;if(1===e){this.p1=c[0],this.p2=b;var f=new d,g=new i;return f.addPoint(this.p1),f.addPoint(this.p2),g.addGeometry(f),[g]}this.newPoints=[];for(var h=0;e-1>h;h++)(c[h].x!==c[h+1].x||c[h].y!==c[h+1].y)&&this.newPoints.push(c[h]);return this.newPoints.push(c[e-1]),null!=b&&(b.x!==c[e-1].x||b.y!==c[e-1].y)&&this.newPoints.push(b),this.getGraphParts(1)},p.prototype.getGraphParts=function(){var a,b,c,f,g,j,p,q,r,s,t,u,v,w,x,y;w=new i;for(var z=1e5,A=0;A<this.newPoints.length-1;A++){y=o(this.newPoints[A],this.newPoints[A+1]),r=n(this.newPoints[A],this.newPoints[A+1])*Math.PI/180,x=parseInt(y/2/z),j=this.newPoints[A].copy();for(var B=0;x>B;B++){for(t=new d,pe=new e({x:j.x+2*z*Math.cos(r),y:j.y-2*z*Math.sin(r)}),pm=m(j,pe),q=B%2,h=0;50>=h;h++){s=2*Math.PI*h/100+q*Math.PI;var C="left";pm.x<j.x&&(D="right"),p=k(j,pm,s,z,C),t.addPoint(p)}w.addGeometry(t),j.x=j.x+2*z*Math.cos(r),j.y=j.y-2*z*Math.sin(r)}u=new d,pe=this.newPoints[A+1],u.addPoint(j),u.addPoint(pe),w.addGeometry(u)}a=j,b=new e({x:j.x-2*z*Math.cos(r),y:j.y+2*z*Math.sin(r)}),v=new d;var D=!1;return(B-1)%2&&(D=!0),c=l(b,a,b,2*z,D),f=l(b,a,a,2*z,D),v.addPoint(b),v.addPoint(c),v.addPoint(f),v.addPoint(a),w.addGeometry(v),g=l(b,a,m(b,a),z,D),[w,g]},p.prototype.getType=function(){return"coveredwireline3"},p}(b,Rd,Sd,B,v,C,F,E),Ag=function(a,b,c,d,e,f){var g=a.extend2,h=c.bTypeline,i=function(a){this.$type="CompletedStreetAlgorithm,http://www.Gs.com",this.newPoints=[];var c=a||{};c.minCpt=c.minCpt||3,c.maxCpt=c.maxCpt||30,b.call(this,c)};return g(i,b),i.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),d=c.length;if(1==d){var g=new f,i=new e,j=[c[0],b];return i.addPoint(j),g.addGeometry(i),[g]}this.newPoints=[];for(var k=0;d-1>k;k++)(c[k].x!==c[k+1].x||c[k].y!==c[k+1].y)&&this.newPoints.push(c[k]);return this.newPoints.push(c[d-1]),null!=b&&(b.x!==c[d-1].x||b.y!==c[d-1].y)&&this.newPoints.push(b),this.newPoints=h(this.newPoints,this.newPoints.length),this.getGraphParts(1)},i.prototype.getGraphParts=function(){var a=new e,b=new f;return a.addPoint(this.newPoints),b.addGeometry(a),[b]},i}(b,Rd,Sd,v,B,E),Bg=function(a,b,c,d,e,f){var g=a.extend2,h=c.pathLength,i=c.vertex,j=function(a){this.$type="UnestablishedStreetAlgorithm,http://www.Gs.com";var c=a||{};c.minCpt=c.minCpt||3,c.maxCpt=c.maxCpt||30,b.call(this,c)};return g(j,b),j.prototype.getGraphParts=function(a){for(var b=h(this.newPoints),c=b*a/200,d=new e,g=new e,j=0;j<this.newPoints.length-1;j++)if(this.newPoints[j].x!=this.newPoints[j+1].x){var k=i(this.newPoints[j],this.newPoints[j+1],this.newPoints[j],c,!0),l=i(this.newPoints[j],this.newPoints[j+1],this.newPoints[j],c,!1);d.addPoint(k),g.addPoint(l)}var m=new f;return m.addGeometry(d),m.addGeometry(g),[m]},j}(b,Ag,Sd,v,B,E),Cg=function(a,b,c,d,e,f){var g=a.extend2,h=c.pathLength,i=c.angle,j=c.gainPt1,k=function(a){this.$type="PlanningStreetAlgorithm,http://www.Gs.com";var c=a||{};c.minCpt=c.minCpt||3,c.maxCpt=c.maxCpt||30,b.call(this,c)};return g(k,b),k.prototype.getGraphParts=function(a){var b=new f,c=h(this.newPoints),d=c*a/100;4>d&&(d=4);for(var g=this.newPoints[0].copy(),k=Math.floor(c/2e5),l=1;k>l;l++){var m,n=l/k,o=g.copy(),p=j(this.newPoints,c,n,m)[0],q=i(o,p)*Math.PI/180,r=new e;o.x+=1e5*a*Math.cos(q),o.y-=1e5*a*Math.sin(q),r.addPoint(o),r.addPoint(p),b.addGeometry(r),g.x=p.x,g.y=p.y}return[b]},k}(b,Ag,Sd,v,B,E),Dg=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=c.distance,k=function(a){this.$type="UncleusAirExplodeCircleAlgorithm,http://www.Gs.com",this.newPoints=[];var c=a||{};c.minCpt=c.minCpt||1,c.maxCpt=c.maxCpt||2,b.call(this,c)};return i(k,b),k.prototype.createGeometries=function(a,b){{var c=a.getControlPoints();c.length}return this.newPoints=[],this.newPoints=this.newPoints.concat(c),this.newPoints.push(b),this.getGraphParts(1)},k.prototype.getGraphParts=function(a){for(var b=new g,c=new h,i=j(this.newPoints[0],this.newPoints[1])*a,k=i/4,l=new e,m=new f,n=0;200>=n;n++){var o=Math.PI*n/100,p=Math.sin(o),q=Math.cos(o);l.addPoint(new d({x:this.newPoints[0].x+i*p,y:this.newPoints[0].y+i*q})),m.addPoint(new d({x:this.newPoints[0].x+k*p,y:this.newPoints[0].y+k*q}))}var r=this.drawother(a);return(null!=r||void 0!=r)&&b.addGeometry(r),m.close(),c.addGeometry(m),b.addGeometry(l),[c,b]},k.prototype.drawother=function(){},k}(b,Rd,Sd,v,B,C,E,F),Eg=function(a,b,c,d,e){var f=a.extend2,g=c.distance,h=c.vertex,i=function(a){this.$type="NucleusGroundExplodeCircleAlgorithm,http://www.Gs.com";var c=a||{};c.minCpt=c.minCpt||1,c.maxCpt=c.maxCpt||2,b.call(this,c)};return f(i,b),i.prototype.drawother=function(a){var b=g(this.newPoints[0],this.newPoints[1])*a/4,c=new d({x:this.newPoints[0].x,y:this.newPoints[0].y-b}),f=h(this.newPoints[0],c,c,1.2*b,!1),i=h(this.newPoints[0],c,c,1.2*b,!0),j=new e;return j.addPoint(f),j.addPoint(i),j},i}(b,Dg,Sd,v,B),Fg=function(a,b,c,d,e,f){var g=a.extend2,h=c.distance,i=c.bTypeline,j=c.angle,k=function(a){this.$type="RadioactiveGroundInjuryAreaAlgorithm,http://www.Gs.com";var c=a||{};c.minCpt=c.minCpt||1,c.maxCpt=c.maxCpt||2,b.call(this,c)};return g(k,b),k.prototype.getGraphParts=function(a){for(var b=new f,c=new d,g=new d,k=new d,l=h(this.newPoints[0],this.newPoints[1])*a,m=.75*l,n=.5*l,o=new e,p=new e,q=new e,r=j(this.newPoints[0],this.newPoints[1])*Math.PI/180,s=-Math.PI/6-r,t=Math.PI/180,u=0;60>=u;u++){var v=Math.cos(s),w=Math.sin(s);o.addPoint(new d({x:this.newPoints[0].x+l*v,y:this.newPoints[0].y+l*w})),p.addPoint(new d({x:this.newPoints[0].x+m*v,y:this.newPoints[0].y+m*w})),q.addPoint(new d({x:this.newPoints[0].x+n*v,y:this.newPoints[0].y+n*w})),s+=t}var x=new d;x.x=this.newPoints[0].x<this.newPoints[1].x?this.newPoints[0].x-n*Math.abs(Math.cos(r)):this.newPoints[0].x+n*Math.abs(Math.cos(r)),x.y=this.newPoints[0].y<this.newPoints[1].y?this.newPoints[0].y-n*Math.abs(Math.sin(r)):this.newPoints[0].y+n*Math.abs(Math.sin(r));var y=[];y.push(p.points[0]),y.push(x),y.push(p.points[60]);var z=i(y,y.length),A=new e;A.addPoint(z);var B=new e,C=new e,D=new e;return this.newPoints.pop(),B.addPoint(this.newPoints),C.addPoint(this.newPoints[0]),C.addPoint(o.points[0]),D.addPoint(this.newPoints[0]),D.addPoint(o.points[60]),b.addGeometry(o),b.addGeometry(p),b.addGeometry(q),b.addGeometry(A),b.addGeometry(B),b.addGeometry(C),b.addGeometry(D),c.x=this.newPoints[0].x+.25*l*Math.cos(-r),c.y=this.newPoints[0].y+.25*l*Math.sin(-r),g.x=this.newPoints[0].x+.6125*l*Math.cos(-r),g.y=this.newPoints[0].y+.6125*l*Math.sin(-r),k.x=this.newPoints[0].x+.875*l*Math.cos(-r),k.y=this.newPoints[0].y+.875*l*Math.sin(-r),[b,c,g,k]},k}(b,Dg,Sd,v,B,E),Gg=function(a,b,c,d,e){var f=a.extend2,g=c.bzLine,h=function(a){this.$type="PoisonCloudHazardAlgorithm,http://www.Gs.com";var c=a||{};c.minCpt=c.minCpt||3,c.maxCpt=c.maxCpt||100,b.call(this,c)};return f(h,b),h.prototype.getGraphParts=function(){this.newPoints.pop();var a=g(this.newPoints,this.newPoints.length),b=new d;b.addPoint(a);var c=new e;return c.addGeometry(b),[c]},h}(b,Dg,Sd,B,E),Hg=function(a,b,c,d,e,f){var g=a.extend2,h=c.distance,i=c.vertex,j=c.polarAngle360,k=c.getPolarPointOfCenterPoint,l=function(a){this.$type="PoisonCloudHazardAlgorithm,http://www.Gs.com";var c=a||{};c.minCpt=c.minCpt||1,c.maxCpt=c.maxCpt||2,b.call(this,c)};return g(l,b),l.prototype.getGraphParts=function(){for(var a=h(this.newPoints[0],this.newPoints[1]),b=new f,c=a/8,g=new e,l=0;200>=l;l++){var m=l*Math.PI/100;g.addPoint(new d({x:this.newPoints[0].x+c*Math.cos(m),y:this.newPoints[0].y+c*Math.sin(m)}))}var n=new e;n.addPoint(this.newPoints[0]),n.addPoint(this.newPoints[1]);var o=new e,p=i(this.newPoints[0],this.newPoints[1],this.newPoints[0],c,!1),q=i(this.newPoints[0],this.newPoints[1],this.newPoints[0],c,!0);o.addPoint(p),o.addPoint(q);var r=j(this.newPoints[0],this.newPoints[1]),s=new d,t=new d;s.x=this.newPoints[0].x+a*Math.cos((r-15)*Math.PI/180),s.y=this.newPoints[0].y+a*Math.sin((r-15)*Math.PI/180),t.x=this.newPoints[0].x+a*Math.cos((r+15)*Math.PI/180),t.y=this.newPoints[0].y+a*Math.sin((r+15)*Math.PI/180);var u=new e,v=new e;u.addPoint(p),u.addPoint(t),v.addPoint(q),v.addPoint(s);for(var w=new e,x=r-15;r+15>=x;x++)w.addPoint(k(this.newPoints[0],x,a));return b.addGeometry(g),b.addGeometry(n),b.addGeometry(o),b.addGeometry(u),b.addGeometry(v),b.addGeometry(w),[b]},l}(b,Dg,Sd,v,B,E),Ig=function(a,b,c,d,e,f){var g=a.extend2,h=c.pathLength,i=c.vertex,j=c.midPoint,k=function(a){this.$type="BlockadeLineAlgorithm,http://www.Gs.com";var c=a||{};c.minCpt=c.minCpt||2,c.maxCpt=c.maxCpt||10,b.call(this,c)};return g(k,b),k.prototype.getGraphParts=function(a){for(var b=h(this.newPoints),c=b*a/200,d=new e,g=new e,k=new f,l=0;l<this.newPoints.length-1;l++)if(this.newPoints[l].x!=this.newPoints[l+1].x){var m=i(this.newPoints[l],this.newPoints[l+1],this.newPoints[l],c,!0),n=i(this.newPoints[l],this.newPoints[l+1],this.newPoints[l],c,!1);d.addPoint(m),g.addPoint(n)}for(var o=0;o<=d.points.length/10-1;o++){var p=j(d.points[10*o],d.points[10*o+1]),q=i(d.points[10*o],d.points[10*o+1],p,c,!0),r=new e;r.addPoint(p),r.addPoint(q),k.addGeometry(r);var s=j(g.points[10*o],g.points[10*o+1]),t=i(g.points[10*o],g.points[10*o+1],s,c,!1),u=new e;u.addPoint(s),u.addPoint(t),k.addGeometry(u)}return k.addGeometry(d),k.addGeometry(g),[k]},k}(b,Ag,Sd,v,B,E),Jg=function(a,b,c,d,e,f,g,h){var i=a.extend2,j=c.pathLength,k=c.vertex,l=c.midPoint,m=function(a){this.$type="EvacuateAlgorithm,http://www.Gs.com";var c=a||{};c.minCpt=c.minCpt||2,c.maxCpt=c.maxCpt||10,b.call(this,c)};return i(m,b),m.prototype.getGraphParts=function(a){for(var b=j(this.newPoints),c=b*a/200,d=new e,i=new e,m=new g,n=new h,o=0;o<this.newPoints.length-1;o++)if(this.newPoints[o].x!=this.newPoints[o+1].x){var p=k(this.newPoints[o],this.newPoints[o+1],this.newPoints[o],c,!0),q=k(this.newPoints[o],this.newPoints[o+1],this.newPoints[o],c,!1);d.addPoint(p),i.addPoint(q)}for(var r=0;r<=d.points.length/10-1;r++){var s=l(d.points[10*r],d.points[10*r+1]),t=k(d.points[10*r],d.points[10*r+1],s,c,!0,75),u=k(d.points[10*r],d.points[10*r+1],s,c,!0,105),v=new e;v.addPoint(t),v.addPoint(s),v.addPoint(u),m.addGeometry(v);var w=l(i.points[10*r],i.points[10*r+1]),x=k(i.points[10*r],i.points[10*r+1],w,c/3,!1),y=new e;y.addPoint(w),y.addPoint(x),m.addGeometry(y);var z=k(i.points[10*r],i.points[10*r+1],w,c,!1),A=k(i.points[10*r],i.points[10*r+1],w,c/3,!1,75),B=k(i.points[10*r],i.points[10*r+1],w,c/3,!1,105),C=new f;C.addPoint(z),C.addPoint(A),C.addPoint(B),C.close(),n.addGeometry(C)}return m.addGeometry(d),m.addGeometry(i),[n,m]},m}(b,Ag,Sd,v,B,C,E,F),Kg=function(a,b,c,d,e,f){var g=a.extend2,h=(c.pathLength,c.vertex),i=c.midPoint,j=c.angle,k=c.distance,l=(c.scalePoint,c.bTypeline),m=function(a){this.$type="WithdrawAlgorithm,http://www.Gs.com";var c=a||{};c.minCpt=c.minCpt||3,c.maxCpt=c.maxCpt||3,b.call(this,c)};return g(m,b),m.prototype.createGeometries=function(a,b){var c=a.getControlPoints(),d=c.length;if(this.newPoints=[],this.newPoints=this.newPoints.concat(c),2>d){this.newPoints.push(b);var g=new e;g.addPoint(this.newPoints);var h=new f;return h.addGeometry(g),[h]}return null!=b&&(b.x!==c[d-1].x||b.y!==c[d-1].y)&&this.newPoints.push(b),this.getGraphParts(1)},m.prototype.getGraphParts=function(){var a=[],b=[],c=k(this.newPoints[0],this.newPoints[1])/3*2,g=angle(this.newPoints[0],this.newPoints[1])*Math.PI/180,m=new d({x:this.newPoints[0].x+c*Math.cos(g),y:this.newPoints[0].y-c*Math.sin(g)}),n=h(this.newPoints[0],this.newPoints[1],m,c/3,!0);a.push(this.newPoints[0]),a.push(n),a.push(this.newPoints[1]),b.push(n);var o=k(n,this.newPoints[2])/6,p=(angle(o,this.newPoints[2])*Math.PI/180,new d({x:n.x+o*Math.cos(g),y:n.y-o*Math.sin(g)})),q=h(n,this.newPoints[2],p,4*o,!0);b.push(q),b.push(this.newPoints[2]);var r=new e,s=new e;r.addPoint(l(a,a.length)),s.addPoint(l(b,b.length));var t=s.points[s.points.length-2],u=i(t,this.newPoints[2]),v=j(t,this.newPoints[2])*Math.PI/180,w=h(this.newPoints[2],t,u,o,!0,v+15),x=h(this.newPoints[2],t,u,o,!0,v-15),y=new e;y.addPoint(w),y.addPoint(this.newPoints[2]),y.addPoint(x);var z=new f;return z.addGeometry(r),z.addGeometry(s),z.addGeometry(y),[z]},m}(b,Rd,Sd,v,B,E),window.g2=window.g2||{},window.g2.geom={Geometry:null,GeometryType:null,Envelope:null,Point:null,Curve:null,PolyCurve:null,Segment:null,Path:null,Polygon:null,MultiPolygon:null,Polyline:null,Line:null,Ring:null,Geometrycollection:null,Pointcollection:null,SpatialReference:null,Circle:null,Ellipse:null,Square:null,GeometryFormatter:null,GeometryFactory:null,MultiPoint:null,GeometryBag:null},window.g2.format={GmlFormat:null,IGmlFormat:null},window.g2.feac={FeatureConvertor:null,IFeatureConvertor:null},window.g2.geoc={GeometryConvertor:null,OlGeometryConvertor:null,IGeometryConvertor:null},window.g2.ele={ElementBase:null,Element:null,CompositeElement:null,PlotElement:null,Attribute:null,AttributeSet:null},window.g2.ext={Legend:null,LegendItem:null,LegendWare:null,LocationService:null,MeasureService:null,ProjectService:null,Tooltip:null,TooltipWare:null,Overlay:null,OlMeasureService:null,OlProjectService:null,OlTooltipWare:null,OlOverlayWare:null,OverlayWare:null,IMeasureService:null,IProjectService:null,ITooltipWare:null,IOverlayWare:null},window.g2.lys={ILayer:null,Vectorlayer:null,TileType:null,TileLayer:null,VectorTileLayer:null,LayerType:null,LayerCreator:null,CanvasLayer:null,CanvasLayerExt:null,ElementLayer:null,ElementLayerExt:null,FeatureLayer:null,ImageLayer:null,ClusterLayer:null,GroupLayer:null,PatternLayer:null,CanvasContainer:null,Graphic:null,GraphicSelectionSet:null,Heat:null,HeatMapLayer:null,OlHeatMapLayer:null,OlVectorLayer:null,OlTileLayer:null,OlVectorTileLayer:null,OlFeatureLayer:null,OlFeatureRenderLayer:null,OlLayerCreator:null,OlImageLayer:null,OlElementLayer:null,OlClusterLayer:null,OlPatternLayer:null,OlCanvasLayer:null,OlGroupLayer:null,OlUpdateElement:null,IHeatMapLayer:null,IVectorLayer:null,ITileLayer:null,IFeatureLayer:null,IFeatureRenderLayer:null,ILayerCreator:null,IImageLayer:null,IElementLayer:null,IClusterLayer:null,IPatternLayer:null,ICanvasLayer:null,IUpdateElement:null},window.g2.syms={Color:null,FillSymbol:null,LineSymbol:null,MarkerSymbol:null,SimpleLinesymbol:null,LineCombinedsymbol:null,SimpleFillsymbol:null,SimpleMarkersymbol:null,Symbol:null,Picturemarkersymbol:null,MixSymbol:null,TextSymbol:null,CurrencySymbol:null,SymbolTable:null,Vectormarkersymbol:null},window.g2.carto={PatternType:null,Pattern:null,TextStyle:null,TextLabel:null,PictureLabel:null,NorthArrow:null,StatChart:null,ScaleBar:null,LegendLabel:null,FeatureRenderer:null,PieChart:null,BarChart:null,LineChart:null,ChartRenderer:null,ClassBreaksRenderer:null,DotDensityRenderer:null,SimpleRenderer:null,UniqueValueRenderer:null,Feature:null,VectorTileRenderer:null,SimpleVectorTileRenderer:null},window.g2.symc={SymbolConvertor:null,OlSymbolConvertor:null,ISymbolConvertor:null},window.g2.fea={Feature:null,FeatureSet:null,FeatureFormatter:null,Field:null,Fields:null,Value:null},window.g2.maps={Map:null,OlMap:null,OverviewMapControl:null,PageLayout:null,OlPageLayout:null,IMap:null,IPageLayout:null},window.g2.ani={Animator:null,OlAnimator:null,AnimationPlayer:null,OlAnimationPlayer:null,SimpleFlashParameter:null,PictureFlashParameter:null,SpreadWaterRippleParameter:null,SpreadEarthQuakeParameter:null,SimpleSlideParameter:null,PictureSlideParameter:null},window.g2.cmd={CommandBase:null,CommandManager:null,ToolBase:null,CommandNotify:null},window.g2.stat={ElementStatistics:null,GroupStatInput:null,GroupStatOutput:null,KindCell:null,KindGroup:null,KindItem:null,KindRow:null,KindStatInput:null,KindStatItem:null,KindStatOutput:null,StatField:null,StatInput:null,PlotStatistics:null,StatItem:null,StatOutput:null,StatRow:null,StatWay:null},window.g2.algm={Plot:null,PlotAlgorithm:null,BeelineArrowAlgorithm:null,SlightnessArrowProperty:null,CurveArrowAlgorithm:null,DoubleArrowAlgorithm:null,ShockWayProperty:null,SwallowTailArrowAlgorithm:null,MultiArrowAlgorithm:null,SimpleArrowAlgorithm:null,PolylineAlgorithm:null,CircleAlgorithm:null,PolygonAlgorithm:null,EllipseAlgorithm:null,RectangleAlgorithm:null,Exactpolygonproperty:null,SectorAlgorithm:null,ArcAlgorithm:null,CurveAlgorithm:null,CloseCurveAlgorithm:null,CamberAlgorithm:null,Point:null,PointAlgorithm:null,ProjectAlgorithm:null,AirWayAlgorithm:null,CannonAlgorithm:null,ArtilleryManenCampmentAlgorithm:null,ArsenalAlgorithm:null,AntiairCraftForcesAlgorithm:null,ExpertProtectAlgorithm:null,ArmyAlgorithm:null,FireProtectAlgorithm:null,MedicalCureAlgorithm:null,PowerRepairAlgorithm:null,ProChymicAlgorithm:null,ProSuccorAlgorithm:null,AttackOrderAlgorithm:null,AttackTurnDefend2Algorithm:null,AirMobileAlgorithm:null,AbatisAlgorithm:null,MusketerByTankAlgorithm:null,ArtilleryAlgorithm:null,AttackTurnDefend1Algorithm:null,AttackTurnDefend3Algorithm:null,RecceSearchAlgorithm:null,RendezvousArea1Algorithm:null,RendezvousArea2Algorithm:null,RendezvousArea3Algorithm:null,RendezvousArea4Algorithm:null,OriginalBirthAlgorithm:null,SeaMobileAlgorithm:null,StakeAlgorithm:null,UnderProp2Algorithm:null,UnderProp3Algorithm:null,ImportantPlaceAlgorithm:null,CurrentTaskLineAlgorithm:null,LatterTaskLineAlgorithm:null,TankAttackAlgorithm:null,MusketryAlgorithm:null,NavalShipsAlgorithm:null,PatrollerAlgorithm:null,TankAndMusketerAlgorithm:null,MissileMarchAlgorithm:null,PedrailColumnAlgorithm:null,PolygonTextAlgorithm:null,PipeLayingAlgorithm:null,RailageAlgorithm:null,RoundsLineAlgorithm:null,CommunicateLineAlgorithm:null,PatrolLineAlgorithm:null,WarBoundaryAlgorithm:null,FinderLineAlgorithm:null,FixedPipeLayingAlgorithm:null,LandMobileAlgorithm:null,ForbidFlyLineAlgorithm:null,LineAbatis3Algorithm:null,LineAbatis2Algorithm:null,LineAbatis1Algorithm:null,LaighStakeAlgorithm:null,HighWayAlgorithm:null,HelicopterTransportAlgorithm:null,WaterageAlgorithm:null,MotorbikeTeamAlgorithm:null,Disguise:null,Rescue:null,MedicalTeam:null,PreventionTeam:null,SecurityBlockade:null,ComunicateTeam:null,FirefightingTeam:null,MaterialSupport:null,ElectricRepairTeam:null,WaterwayRepairTeam:null,PipelineRepairTeam:null,GaspipeRepairTeam:null,RailroadRepairTeam:null,HighwayRepairTeam:null,BridgeRepairTeam:null,TransportTeam:null,CivildefenseTeam:null,CivildefenseReserveTeam:null,RescueReserveTeam:null,MedicalReserveTeam:null,PreventionReserveTeam:null,SecurityBlockadeReserver:null,ComunicateReserveTeam:null,TransportReserveTeam:null,FirefightingReserve:null,DisguiseReserveTeam:null,MaterialSupportReserve:null,AirDefenseLineCountyPropety:null,AirDefenseLineDistrictPropety:null,AirDefenseLineRegionPropety:null,AirDefenseLineStreetPropety:null,AirDefenseLineResidentPropety:null,MarchOnFootPropety:null,MarchOnMotorPropety:null,DeliveryWayPropety:null,MarchControlPropety:null,ChuMarchControlPropety:null,DiaoMarchControlPropety:null,ChongMarchControlPropety:null,ReceivingTeamPropety:null,TelecoCable:null,UnderWatercable:null,UnderGroundCable:null,AerialCable:null,CoaxialCable:null,TelecoCable1:null,UnderWatercable1:null,UnderGroundCable1:null,AerialCable1:null,AerialCommunicationOpenwire2:null,AerialCommunicationOpenwire12:null,ArmyRendezvousAreaPropety:null,TankRendezvousAreaPropety:null,MyRendezvousAreaPropety:null,MissilePropety:null,ArtilleryMarchPropety:null,AirDefendMarchPropety:null,CoveredWireLine2:null,CoveredWireLine3:null,CompletedStreetAlgorithm:null,UnestablishedStreetAlgorithm:null,PlanningStreetAlgorithm:null,NucleusAirExplodeCircleAlgorithm:null,NucleusGroundExplodeCircleAlgorithm:null,RadioactiveGroundInjuryAreaAlgorithm:null,PollutedAreaAlgorithm:null,PoisonCloudHazardAlgorithm:null,BlockadeLineAlgorithm:null,EvacuateAlgorithm:null,WithdrawAlgorithm:null},Lg=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,Yb,Zb,$b,_b,ac,bc,cc,dc,ec,fc,gc,hc,ic,jc,kc,lc,mc,nc,oc,pc,qc,rc,sc,tc,uc,vc,wc,xc,yc,zc,Ac,Bc,Cc,Dc,Ec,Fc,Gc,Hc,Ic,Jc,Kc,Lc,Mc,Nc,Oc,Pc,Qc,Rc,Sc,Tc,Uc,Vc,Wc,Xc,Yc,Zc,$c,_c,ad,bd,cd,dd,ed,fd,gd,hd,id,jd,kd,ld,md,nd,od,pd,qd,rd,sd,td,ud,vd,wd,xd,yd,zd,Ad,Bd,Cd,Dd,Ed,Fd,Gd,Hd,Id,Jd,Kd,Ld,Md,Nd,Od,Pd,Qd,Rd,Sd,Td,Ud,Vd,Wd,Xd,Yd,Zd,$d,_d,ae,be,ce,de,ee,fe,ge,he,ie,je,ke,le,me,ne,oe,pe,qe,re,se,te,ue,ve,we,xe,ye,ze,Ae,Be,Ce,De,Ee,Fe,Ge,He,Ie,Je,Ke,Le,Me,Ne,Oe,Pe,Qe,Re,Se,Te,Ue,Ve,We,Xe,Ye,Ze,$e,_e,af,bf,cf,df,ef,ff,gf,hf,jf,kf,lf,mf,nf,of,pf,qf,rf,sf,tf,uf,vf,wf,xf,yf,zf,Af,Bf,Cf,Df,Ef,Ff,Gf,Hf,If,Jf,Kf,Lf,Mf,Nf,Of,Pf,Qf,Rf,Sf,Tf,Uf,Vf,Wf){window.g2.geom.SpatialReference=b,window.g2.geom.Geometry=d,window.g2.geom.GeometryType=c,window.g2.geom.Curve=f,window.g2.geom.Envelope=h,window.g2.geom.Line=g,window.g2.geom.Path=k,window.g2.geom.Point=e,window.g2.geom.PolyCurve=m,window.g2.geom.Polygon=o,window.g2.geom.MultiPolygon=p,window.g2.geom.Polyline=n,window.g2.geom.Ring=l,window.g2.geom.Segment=q,window.g2.geom.Circle=r,window.g2.geom.Ellipse=s,window.g2.geom.Square=t,window.g2.geom.MultiPoint=w,window.g2.geom.GeometryBag=x,window.g2.geom.Geometrycollection=j,window.g2.geom.Pointcollection=i,window.g2.geom.GeometryFormatter=u,window.g2.geom.GeometryFactory=v,window.g2.geoc.GeometryConvertor=z,window.g2.geoc.OlGeometryConvertor=z,window.g2.geoc.IGeometryConvertor=y,window.g2.feac.FeatureConvertor=B,window.g2.feac.IFeatureConvertor=A,window.g2.format.IGmlFormat=C,window.g2.format.GmlFormat=D,window.g2.ele.Element=Hb,window.g2.ele.ElementBase=Gb,window.g2.ele.CompositeElement=Ib,window.g2.ele.PlotElement=Jb,window.g2.ele.Attribute=Kb,window.g2.ele.AttributeSet=Lb,window.g2.lys.Graphic=Mb,window.g2.lys.GraphicSelectionSet=Nb,window.g2.lys.ILayer=Sb,window.g2.lys.LayerType=Ob,window.g2.lys.TileType=Pb,window.g2.lys.ImageType=Qb,window.g2.lys.Heat=$b,window.g2.lys.IClusterLayer=Zb,window.g2.lys.IElementLayer=Wb,window.g2.lys.IFeatureLayer=Xb,window.g2.lys.IGroupLayer=lc,window.g2.lys.IHeatMapLayer=_b,window.g2.lys.IImageLayer=Yb,window.g2.lys.ILayerCreator=Rb,window.g2.lys.IPatternLayer=bc,window.g2.lys.ITileLayer=Ub,window.g2.lys.IVectorlayer=Tb,window.g2.lys.OlUpdateElement=rc,window.g2.lys.OlCanvasLayer=gc,window.g2.lys.OlClusterLayer=kc,window.g2.lys.OlElementLayer=ec,window.g2.lys.OlFeatureLayer=oc,window.g2.lys.OlFeatureRenderLayer=pc,window.g2.lys.OlGroupLayer=mc,window.g2.lys.OlHeatMapLayer=ac,window.g2.lys.OlImageLayer=jc,window.g2.lys.OlLayerCreator=qc,window.g2.lys.OlPatternLayer=nc,window.g2.lys.OlTileLayer=cc,window.g2.lys.OlVectorTileLayer=dc,window.g2.lys.OlVectorLayer=ic,window.g2.lys.CanvasLayer=gc,window.g2.lys.CanvasLayerExt=hc,window.g2.lys.ClusterLayer=kc,window.g2.lys.ElementLayer=ec,window.g2.lys.ElementLayerExt=fc,window.g2.lys.FeatureLayer=oc,window.g2.lys.FeatureRenderLayer=pc,window.g2.lys.GroupLayer=mc,window.g2.lys.HeatMapLayer=ac,window.g2.lys.ImageLayer=jc,window.g2.lys.LayerCreator=qc,window.g2.lys.PatternLayer=nc,window.g2.lys.TileLayer=cc,window.g2.lys.VectorTileLayer=dc,window.g2.lys.VectorLayer=ic,window.g2.syms.Symbol=G,window.g2.syms.Color=E,window.g2.syms.FillSymbol=J,window.g2.syms.LineSymbol=H,window.g2.syms.MarkerSymbol=I,window.g2.syms.SimpleFillsymbol=M,window.g2.syms.SimpleLinesymbol=K,window.g2.syms.LineCombinedsymbol=L,window.g2.syms.SimpleMarkersymbol=N,window.g2.syms.Picturemarkersymbol=O,window.g2.syms.TextSymbol=P,window.g2.syms.CurrencySymbol=Q,window.g2.syms.MixSymbol=R,window.g2.syms.SymbolTable=S,window.g2.syms.Vectormarkersymbol=T,window.g2.carto.PatternType=U,window.g2.carto.Pattern=V,window.g2.carto.TextStyle=W,window.g2.carto.TextLabel=X,window.g2.carto.PictureLabel=Y,window.g2.carto.NorthArrow=Z,window.g2.carto.ScaleBar=$,window.g2.carto.StatChart=_,window.g2.carto.LegendLabel=ab,window.g2.carto.FeatureRenderer=bb,window.g2.carto.PieChart=cb,window.g2.carto.BarChart=db,window.g2.carto.LineChart=eb,window.g2.carto.ChartRenderer=fb,window.g2.carto.ClassBreaksRenderer=gb,window.g2.carto.DotDensityRenderer=hb,window.g2.carto.SimpleRenderer=ib,window.g2.carto.UniqueValueRenderer=jb,window.g2.carto.Feature=mb,window.g2.carto.VectorTileRenderer=kb,window.g2.carto.SimpleVectorTileRenderer=lb,window.g2.stat.ElementStatistics=nb,window.g2.stat.GroupStatInput=ob,window.g2.stat.GroupStatOutput=pb,window.g2.stat.KindCell=qb,window.g2.stat.KindGroup=rb,window.g2.stat.KindItem=sb,window.g2.stat.KindRow=tb,window.g2.stat.KindStatInput=ub,window.g2.stat.KindStatItem=vb,window.g2.stat.KindStatOutput=wb,window.g2.stat.StatField=xb,window.g2.stat.StatInput=yb,window.g2.stat.PlotStatistics=zb,window.g2.stat.StatItem=Ab,window.g2.stat.StatOutput=Bb,window.g2.stat.StatRow=Cb,window.g2.stat.StatWay=Db,window.g2.symc.SymbolConvertor=Fb,window.g2.symc.OlSymbolConvertor=Fb,window.g2.symc.ISymbolConvertor=Eb,window.g2.fea.Feature=sc,window.g2.fea.FeatureSet=tc,window.g2.fea.FeatureFormatter=xc,window.g2.fea.Field=uc,window.g2.fea.Fields=vc,window.g2.fea.Value=wc,window.g2.maps.Map=zc,window.g2.maps.OlMap=zc,window.g2.maps.IMap=yc,window.g2.maps.OverviewMapControl=Ac,window.g2.maps.PageLayout=Cc,window.g2.maps.OlPageLayout=Cc,window.g2.maps.IPageLayout=Bc,window.g2.ext.Legend=Dc,window.g2.ext.LegendItem=Ec,window.g2.ext.LegendWare=Fc,window.g2.ext.LocationService=Gc,window.g2.ext.MeasureService=Lc,window.g2.ext.ProjectService=Mc,window.g2.ext.Tooltip=Jc,window.g2.ext.TooltipWare=Nc,window.g2.ext.OlMeasureService=Lc,window.g2.ext.OlProjectService=Mc,window.g2.ext.OlTooltipWare=Nc,window.g2.ext.OlOverlayWare=Oc,window.g2.ext.OverlayWare=Oc,window.g2.ext.Overlay=Pc,window.g2.ext.IMeasureService=Hc,window.g2.ext.IProjectService=Ic,window.g2.ext.ITooltipWare=Kc,window.g2.ext.IOverlayWare=Qc,window.g2.ani.Animator=Rc,window.g2.ani.AnimationPlayer=Sc,window.g2.ani.OlAnimator=Tc,window.g2.ani.OlAnimationPlayer=Tc,window.g2.ani.SimpleFlashParameter=Uc,window.g2.ani.PictureFlashParameter=Vc,window.g2.ani.SpreadWaterRippleParameter=Wc,window.g2.ani.SpreadEarthQuakeParameter=Xc,window.g2.ani.SimpleSlideParameter=Yc,window.g2.ani.PictureSlideParameter=Zc,window.g2.cmd.CommandBase=$c,window.g2.cmd.CommandManager=ad,window.g2.cmd.ToolBase=_c,window.g2.cmd.CommandNotify=bd,window.g2.algm.Plot=cd,window.g2.algm.PlotAlgorithm=dd,window.g2.algm.BeelineArrowAlgorithm=ed,window.g2.algm.SlightnessArrowProperty=fd,window.g2.algm.CurveArrowAlgorithm=hd,window.g2.algm.ShockWayProperty=jd,window.g2.algm.SwallowTailArrowAlgorithm=kd,window.g2.algm.MultiArrowAlgorithm=ld,window.g2.algm.SimpleArrowAlgorithm=gd,window.g2.algm.DoubleArrowAlgorithm=id,window.g2.algm.PolylineAlgorithm=md,window.g2.algm.CircleAlgorithm=nd,window.g2.algm.PolygonAlgorithm=od,window.g2.algm.EllipseAlgorithm=pd,window.g2.algm.CurveAlgorithm=qd,window.g2.algm.CloseCurveAlgorithm=rd,window.g2.algm.CamberAlgorithm=sd,window.g2.algm.RectangleAlgorithm=ud,window.g2.algm.Exactpolygonproperty=vd,window.g2.algm.SectorAlgorithm=wd,window.g2.algm.ArcAlgorithm=xd,window.g2.algm.Point=td,window.g2.algm.PointAlgorithm=td,window.g2.algm.ProjectAlgorithm=yd,window.g2.algm.AirWayAlgorithm=zd,window.g2.algm.CannonAlgorithm=Ad,window.g2.algm.ArsenalAlgorithm=Bd,window.g2.algm.MotorbikeTeamAlgorithm=Cd,window.g2.algm.AntiairCraftForcesAlgorithm=Dd,window.g2.algm.ExpertProtectAlgorithm=Ed,window.g2.algm.ArmyAlgorithm=Fd,window.g2.algm.FireProtectAlgorithm=Gd,window.g2.algm.MedicalCureAlgorithm=Hd,window.g2.algm.PowerRepairAlgorithm=Id,window.g2.algm.ProChymicAlgorithm=Jd,window.g2.algm.ProSuccorAlgorithm=Kd,window.g2.algm.AttackOrderAlgorithm=Ld,window.g2.algm.AttackTurnDefend2Algorithm=Sd,window.g2.algm.AirMobileAlgorithm=Nd,window.g2.algm.AbatisAlgorithm=Od,window.g2.algm.MusketerByTankAlgorithm=Pd,window.g2.algm.ArtilleryAlgorithm=Qd,window.g2.algm.AttackTurnDefend1Algorithm=Rd,window.g2.algm.AttackTurnDefend3Algorithm=Md,window.g2.algm.RecceSearchAlgorithm=Td,window.g2.algm.RendezvousArea1Algorithm=Ud,window.g2.algm.RendezvousArea2Algorithm=Vd,window.g2.algm.RendezvousArea3Algorithm=Wd,window.g2.algm.RendezvousArea4Algorithm=Xd,window.g2.algm.OriginalBirthAlgorithm=Yd,window.g2.algm.SeaMobileAlgorithm=Zd,window.g2.algm.StakeAlgorithm=$d,window.g2.algm.UnderProp2Algorithm=_d,window.g2.algm.UnderProp3Algorithm=ae,window.g2.algm.ImportantPlaceAlgorithm=be,window.g2.algm.CurrentTaskLineAlgorithm=ce,window.g2.algm.LatterTaskLineAlgorithm=de,window.g2.algm.TankAttackAlgorithm=ee,window.g2.algm.MusketryAlgorithm=fe,window.g2.algm.NavalShipsAlgorithm=ge,window.g2.algm.PatrollerAlgorithm=he,window.g2.algm.ArtilleryManenCampmentAlgorithm=ie,window.g2.algm.TankAndMusketerAlgorithm=je,window.g2.algm.MissileMarchAlgorithm=le,window.g2.algm.PedrailColumnAlgorithm=me,window.g2.algm.PolygonTextAlgorithm=ne,window.g2.algm.PipeLayingAlgorithm=oe,window.g2.algm.RailageAlgorithm=pe,window.g2.algm.RoundsLineAlgorithm=qe,window.g2.algm.CommunicateLineAlgorithm=re,window.g2.algm.PatrolLineAlgorithm=se,window.g2.algm.WarBoundaryAlgorithm=te,window.g2.algm.LandMobileAlgorithm=we,window.g2.algm.ForbidFlyLineAlgorithm=xe,window.g2.algm.LineAbatis3Algorithm=ye,window.g2.algm.LineAbatis2Algorithm=ze,window.g2.algm.LineAbatis1Algorithm=Ae,window.g2.algm.LaighStakeAlgorithm=Be,window.g2.algm.FinderLineAlgorithm=ue,window.g2.algm.FixedPipeLayingAlgorithm=ve,window.g2.algm.TankMusColumnAlgorithm=Ce,window.g2.algm.TrenchAlgorithm=ke,window.g2.algm.WaterageAlgorithm=De,window.g2.algm.HighWayAlgorithm=Fe,window.g2.algm.HelicopterTransportAlgorithm=Ee,window.g2.algm.Disguise=Ge,window.g2.algm.Rescue=He,window.g2.algm.MedicalTeam=Ie,window.g2.algm.PreventionTeam=Je,window.g2.algm.SecurityBlockade=Ke,window.g2.algm.ComunicateTeam=Le,window.g2.algm.FirefightingTeam=Me,window.g2.algm.MaterialSupport=Ne,window.g2.algm.ElectricRepairTeam=Oe,window.g2.algm.WaterwayRepairTeam=Pe,window.g2.algm.PipelineRepairTeam=Qe,window.g2.algm.GaspipeRepairTeam=Re,window.g2.algm.RailroadRepairTeam=Se,window.g2.algm.HighwayRepairTeam=Te,window.g2.algm.BridgeRepairTeam=Ue,window.g2.algm.TransportTeam=Ve,window.g2.algm.CivildefenseTeam=We,window.g2.algm.CivildefenseReserveTeam=Xe,window.g2.algm.RescueReserveTeam=Ye,window.g2.algm.MedicalReserveTeam=Ze,window.g2.algm.PreventionReserveTeam=$e,window.g2.algm.SecurityBlockadeReserver=_e,window.g2.algm.ComunicateReserveTeam=af,window.g2.algm.TransportReserveTeam=bf,window.g2.algm.FirefightingReserve=cf,window.g2.algm.DisguiseReserveTeam=df,window.g2.algm.MaterialSupportReserve=ef,window.g2.algm.AirDefenseLineCountyPropety=ff,window.g2.algm.AirDefenseLineDistrictPropety=gf,window.g2.algm.AirDefenseLineRegionPropety=hf,window.g2.algm.AirDefenseLineStreetPropety=jf,window.g2.algm.AirDefenseLineResidentPropety=kf,window.g2.algm.MarchOnFootPropety=lf,window.g2.algm.MarchOnMotorPropety=mf,window.g2.algm.DeliveryWayPropety=nf,window.g2.algm.MarchControlPropety=of,window.g2.algm.ChuMarchControlPropety=pf,window.g2.algm.DiaoMarchControlPropety=qf,window.g2.algm.ChongMarchControlPropety=rf,window.g2.algm.ReceivingTeamPropety=sf,window.g2.algm.TelecoCable=tf,window.g2.algm.UnderWatercable=uf,window.g2.algm.UnderGroundCable=vf,window.g2.algm.AerialCable=wf,window.g2.algm.CoaxialCable=xf,window.g2.algm.TelecoCable1=yf,window.g2.algm.UnderWatercable1=zf,window.g2.algm.UnderGroundCable1=Af,window.g2.algm.AerialCable1=Bf,window.g2.algm.AerialCommunicationOpenwire2=Cf,window.g2.algm.AerialCommunicationOpenwire12=Df,window.g2.algm.ArmyRendezvousAreaPropety=Ef,window.g2.algm.TankRendezvousAreaPropety=Ff,window.g2.algm.MyRendezvousAreaPropety=Gf,window.g2.algm.MissilePropety=Hf,window.g2.algm.ArtilleryMarchPropety=If,window.g2.algm.AirDefendMarchPropety=Jf,window.g2.algm.CoveredWireLine2=Kf,window.g2.algm.CoveredWireLine3=Lf,window.g2.algm.CompletedStreetAlgorithm=Mf,window.g2.algm.UnestablishedStreetAlgorithm=Nf,window.g2.algm.PlanningStreetAlgorithm=Of,window.g2.algm.NucleusAirExplodeCircleAlgorithm=Pf,window.g2.algm.NucleusGroundExplodeCircleAlgorithm=Qf,window.g2.algm.RadioactiveGroundInjuryAreaAlgorithm=Rf,window.g2.algm.PollutedAreaAlgorithm=Sf,window.g2.algm.PoisonCloudHazardAlgorithm=Tf,window.g2.algm.BlockadeLineAlgorithm=Uf,window.g2.algm.EvacuateAlgorithm=Vf,window.g2.algm.WithdrawAlgorithm=Wf,window.g2.lang.ClassTable.addClassCollection([window.g2.geom,window.g2.ele,window.g2.syms,window.g2.fea,window.g2.algm])
}(ol,q,s,t,v,w,y,u,z,A,B,C,D,E,F,G,x,H,I,J,K,N,L,M,O,P,Q,W,X,Y,Z,_,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,nb,mb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Db,Eb,Gb,Hb,Ib,Jb,Kb,Lb,Yb,Pb,Sb,Ub,Zb,$b,Vb,Qb,_b,Tb,Xb,Nb,Mb,ac,Rb,Wb,Ob,bc,cc,ec,fc,gc,ic,jc,dc,kc,lc,Fb,mc,nc,oc,pc,qc,rc,sc,tc,uc,vc,wc,xc,yc,zc,Ac,Bc,Cc,Kc,Lc,Mc,Nc,Pc,Qc,Rc,Sc,Tc,Uc,Vc,Wc,Xc,Gc,U,V,S,R,T,Yc,Zc,$c,_c,ad,bd,Bb,Cb,cd,dd,ed,fd,gd,hd,id,jd,kd,md,nd,ld,od,pd,Cd,Fd,Gd,Id,Jd,Ld,Md,Nd,Od,Pd,Qd,hc,Rd,Td,Ud,Vd,Wd,Xd,Yd,Zd,$d,_d,ae,be,ce,de,ee,fe,ge,he,ie,je,ke,le,me,ne,oe,qe,re,se,te,ue,ve,we,xe,ye,ze,Ae,Be,Ce,De,Ee,Fe,Ge,He,Ie,Je,Ke,Le,Me,Ne,Oe,Pe,Qe,Re,Se,Te,Ue,Ve,We,Xe,Ye,Ze,$e,_e,af,bf,cf,df,ef,ff,gf,hf,jf,kf,lf,mf,nf,of,pf,qf,rf,sf,tf,uf,vf,wf,xf,yf,zf,Af,Bf,Cf,Df,Ef,Ff,Gf,Hf,If,Jf,Kf,Lf,Mf,Nf,Of,Pf,Qf,Rf,Sf,Tf,Uf,Vf,Wf,Xf,Yf,Zf,$f,_f,ag,bg,cg,dg,eg,fg,gg,hg,ig,jg,kg,lg,mg,ng,og,pg,qg,rg,sg,tg,ug,vg,wg,xg,yg,zg,Ag,Bg,Cg,Dg,Eg,Fg,Gg,Hg,Ig,Jg,Kg),Mg={ActiveView:"ActiveView",CancelSelected:"CancelSelected",ClearLayers:"ClearLayers",CompositeClears:"CompositeClears",Composite:"Composite",DeleteElement:"DeleteElement",DeleteFeature:"DeleteFeature",DeleteGraphic:"DeleteGraphic",DrawEdit:"DrawEdit",Draw:"Draw",SelectElement:"SelectElement",SelectFeature:"SelectFeature",SelectMultiFeature:"SelectMultiFeature",SelectMultiElement:"SelectMultiElement",Select:"Select",ToggleView:"ToggleView",NoopTool:"NoopTool",Buffer:"Buffer",PointBuffer:"PointBuffer",EnvelopeBuffer:"EnvelopeBuffer",PolygonBuffer:"PolygonBuffer",PolylineBuffer:"PolylineBuffer",SelectBufferElement:"SelectBufferElement",SelectBufferFeature:"SelectBufferFeature",ClearBufferResult:"ClearBufferResult",ExportMap:"ExportMap",ExportMapPDF:"ExportMapPDF",FullExtent:"FullExtent",CricleMeasure:"CricleMeasure",EllipseMeasure:"EllipseMeasure",LengthMeasure:"LengthMeasure",CoordinateMeasure:"CoordinateMeasure",PolygonMeasure:"PolygonMeasure",SelectMeasuerLayer:"SelectMeasuerLayer",ClearMeasure:"ClearMeasure",ClearMeasures:"ClearMeasures",ZoomIn:"ZoomIn",ZoomOut:"ZoomOut",Identify:"Identify",IdentifyFeature:"IdentifyFeature",IdentifyRenderFeature:"IdentifyRenderFeature",IdentifyElement:"IdentifyElement",HeatMap:"HeatMap",ClearHeatMap:"ClearHeatMap",ClusterLayer:"ClusterLayer",ClearCluster:"ClearCluster",AddOverlay:"AddOverlay",ClearOverlay:"ClearOverlay",OverlayWare:"OverlayWare",BringElementTop:"BringElementTop",SendElementBottom:"SendElementBottom",Route:"Route",ClearNetwork:"ClearNetwork",ClosestFacility:"ClosestFacility",ServiceArea:"ServiceArea",Plot:"Plot",PlotEdit:"PlotEdit",PlotPlugin:"PlotPlugin",PlotClear:"PlotClear",PlotDelete:"PlotDelete",PlotManager:"PlotManager",PlotSchemaSave:"PlotSchemaSave",PlotSchemaList:"PlotSchemaList",PlotTypeStatistic:"PlotTypeStatistic",PlotAttributeStatistic:"PlotAttributeStatistic",SymbolEditCommand:"SymbolEditCommand",BeelineArrowAlgorithm:"BeelineArrowAlgorithm",SlightnessArrowProperty:"SlightnessArrowProperty",CurveArrowAlgorithm:"CurveArrowAlgorithm",ShockWayProperty:"ShockWayProperty",SwallowTailArrowAlgorithm:"SwallowTailArrowAlgorithm",MultiArrowAlgorithm:"MultiArrowAlgorithm",SimpleArrowAlgorithm:"SimpleArrowAlgorithm",DoubleArrowAlgorithm:"DoubleArrowAlgorithm",PolylineAlgorithm:"PolylineAlgorithm",PolylineAlgorithm1:"PolylineAlgorithm1",CircleAlgorithm:"CircleAlgorithm",PolygonAlgorithm:"PolygonAlgorithm",EllipseAlgorithm:"EllipseAlgorithm",CurveAlgorithm:"CurveAlgorithm",CloseCurveAlgorithm:"CloseCurveAlgorithm",CamberAlgorithm:"CamberAlgorithm",RectangleAlgorithm:"RectangleAlgorithm",Exactpolygonproperty:"Exactpolygonproperty",SectorAlgorithm:"SectorAlgorithm",ArcAlgorithm:"ArcAlgorithm",SimpleMarker:"SimpleMarker",PlottingPoliceman:"PlottingPoliceman",PlottingPoliceman1:"PlottingPoliceman1",PlottingCriminalAccident:"PlottingCriminalAccident",PlottingDoctor:"PlottingDoctor",PlottingFireman:"PlottingFireman",PlottingTruck:"PlottingTruck",PlottingAmbulance:"PlottingAmbulance",PlottingBus:"PlottingBus",PlottingWorker:"PlottingWorker",PlottingOtherAccident:"PlottingOtherAccident",PlottingFireEngine:"PlottingFireEngine",PlottingTrafficAccident:"PlottingTrafficAccident",PlottingSoldier:"PlottingSoldier",PlottingPoint:"PlottingPoint",PlottingText:"PlottingText",PlottingFireAccident:"PlottingFireAccident",PlottingPatrolWagon:"PlottingPatrolWagon",PlottingUser:"PlottingUser",Point:"Point",ProjectAlgorithm:"ProjectAlgorithm",AirWayAlgorithm:"AirWayAlgorithm",CannonAlgorithm:"CannonAlgorithm",ArsenalAlgorithm:"ArsenalAlgorithm",MotorbikeTeamAlgorithm:"MotorbikeTeamAlgorithm",AntiairCraftForcesAlgorithm:"AntiairCraftForcesAlgorithm",ExpertProtectAlgorithm:"ExpertProtectAlgorithm",ArmyAlgorithm:"ArmyAlgorithm",FireProtectAlgorithm:"FireProtectAlgorithm",MedicalCureAlgorithm:"MedicalCureAlgorithm",PowerRepairAlgorithm:"PowerRepairAlgorithm",ProChymicAlgorithm:"ProChymicAlgorithm",ProSuccorAlgorithm:"ProSuccorAlgorithm",AttackOrderAlgorithm:"AttackOrderAlgorithm",AttackTurnDefend2Algorithm:"AttackTurnDefend2Algorithm",AirMobileAlgorithm:"AirMobileAlgorithm",AbatisAlgorithm:"AbatisAlgorithm",MusketerByTankAlgorithm:"MusketerByTankAlgorithm",ArtilleryAlgorithm:"ArtilleryAlgorithm",AttackTurnDefend1Algorithm:"AttackTurnDefend1Algorithm",AttackTurnDefend3Algorithm:"AttackTurnDefend3Algorithm",RecceSearchAlgorithm:"RecceSearchAlgorithm",RendezvousArea1Algorithm:"RendezvousArea1Algorithm",RendezvousArea2Algorithm:"RendezvousArea2Algorithm",RendezvousArea3Algorithm:"RendezvousArea3Algorithm",RendezvousArea4Algorithm:"RendezvousArea4Algorithm",OriginalBirthAlgorithm:"OriginalBirthAlgorithm",SeaMobileAlgorithm:"SeaMobileAlgorithm",StakeAlgorithm:"StakeAlgorithm",UnderProp2Algorithm:"UnderProp2Algorithm",UnderProp3Algorithm:"UnderProp3Algorithm",ImportantPlaceAlgorithm:"ImportantPlaceAlgorithm",CurrentTaskLineAlgorithm:"CurrentTaskLineAlgorithm",LatterTaskLineAlgorithm:"LatterTaskLineAlgorithm",TankAttackAlgorithm:"TankAttackAlgorithm",MusketryAlgorithm:"MusketryAlgorithm",NavalShipsAlgorithm:"NavalShipsAlgorithm",PatrollerAlgorithm:"PatrollerAlgorithm",ArtilleryManenCampmentAlgorithm:"ArtilleryManenCampmentAlgorithm",TankAndMusketerAlgorithm:"TankAndMusketerAlgorithm",MissileMarchAlgorithm:"MissileMarchAlgorithm",PedrailColumnAlgorithm:"PedrailColumnAlgorithm",PolygonTextAlgorithm:"PolygonTextAlgorithm",PipeLayingAlgorithm:"PipeLayingAlgorithm",RailageAlgorithm:"RailageAlgorithm",RoundsLineAlgorithm:"RoundsLineAlgorithm",CommunicateLineAlgorithm:"CommunicateLineAlgorithm",PatrolLineAlgorithm:"PatrolLineAlgorithm",WarBoundaryAlgorithm:"WarBoundaryAlgorithm",LandMobileAlgorithm:"LandMobileAlgorithm",ForbidFlyLineAlgorithm:"ForbidFlyLineAlgorithm",LineAbatis3Algorithm:"LineAbatis3Algorithm",LineAbatis2Algorithm:"LineAbatis2Algorithm",LineAbatis1Algorithm:"LineAbatis1Algorithm",LaighStakeAlgorithm:"LaighStakeAlgorithm",FinderLineAlgorithm:"FinderLineAlgorithm",FixedPipeLayingAlgorithm:"FixedPipeLayingAlgorithm",TankMusColumnAlgorithm:"TankMusColumnAlgorithm",TrenchAlgorithm:"TrenchAlgorithm",WaterageAlgorithm:"WaterageAlgorithm",HighWayAlgorithm:"HighWayAlgorithm",HelicopterTransportAlgorithm:"HelicopterTransportAlgorithm",Disguise:"Disguise",Rescue:"Rescue",MedicalTeam:"MedicalTeam",PreventionTeam:"PreventionTeam",SecurityBlockade:"SecurityBlockade",ComunicateTeam:"ComunicateTeam",FirefightingTeam:"FirefightingTeam",MaterialSupport:"MaterialSupport",ElectricRepairTeam:"ElectricRepairTeam",WaterwayRepairTeam:"WaterwayRepairTeam",PipelineRepairTeam:"PipelineRepairTeam",GaspipeRepairTeam:"GaspipeRepairTeam",RailroadRepairTeam:"RailroadRepairTeam",HighwayRepairTeam:"HighwayRepairTeam",BridgeRepairTeam:"BridgeRepairTeam",TransportTeam:"TransportTeam",CivildefenseTeam:"CivildefenseTeam",CivildefenseReserveTeam:"CivildefenseReserveTeam",RescueReserveTeam:"RescueReserveTeam",MedicalReserveTeam:"MedicalReserveTeam",PreventionReserveTeam:"PreventionReserveTeam",SecurityBlockadeReserver:"SecurityBlockadeReserver",ComunicateReserveTeam:"ComunicateReserveTeam",TransportReserveTeam:"TransportReserveTeam",FirefightingReserve:"FirefightingReserve",DisguiseReserveTeam:"DisguiseReserveTeam",MaterialSupportReserve:"MaterialSupportReserve",AirDefenseLineCountyPropety:"AirDefenseLineCountyPropety",AirDefenseLineDistrictPropety:"AirDefenseLineDistrictPropety",AirDefenseLineRegionPropety:"AirDefenseLineRegionPropety",AirDefenseLineStreetPropety:"AirDefenseLineStreetPropety",AirDefenseLineResidentPropety:"AirDefenseLineResidentPropety",MarchOnFootPropety:"MarchOnFootPropety",MarchOnMotorPropety:"MarchOnMotorPropety",DeliveryWayPropety:"DeliveryWayPropety",MarchControlPropety:"MarchControlPropety",ChuMarchControlPropety:"ChuMarchControlPropety",ChongMarchControlPropety:"ChongMarchControlPropety",ReceivingTeamPropety:"ReceivingTeamPropety",TelecoCable:"TelecoCable",UnderWatercable:"UnderWatercable",UnderGroundCable:"UnderGroundCable",AerialCable:"AerialCable",CoaxialCable:"CoaxialCable",TelecoCable1:"TelecoCable1",DiaoMarchControlPropety:"DiaoMarchControlPropety",UnderWatercable1:"UnderWatercable1",UnderGroundCable1:"UnderGroundCable1",AerialCable1:"AerialCable1",AerialCommunicationOpenwire2:"AerialCommunicationOpenwire2",AerialCommunicationOpenwire12:"AerialCommunicationOpenwire12",ArmyRendezvousAreaPropety:"ArmyRendezvousAreaPropety",TankRendezvousAreaPropety:"TankRendezvousAreaPropety",MyRendezvousAreaPropety:"MyRendezvousAreaPropety",MissilePropety:"MissilePropety",ArtilleryMarchPropety:"ArtilleryMarchPropety",AirDefendMarchPropety:"AirDefendMarchPropety",CoveredWireLine2:"CoveredWireLine2",CoveredWireLine3:"CoveredWireLine3",CompletedStreetAlgorithm:"CompletedStreetAlgorithm",UnestablishedStreetAlgorithm:"UnestablishedStreetAlgorithm",PlanningStreetAlgorithm:"PlanningStreetAlgorithm",NucleusAirExplodeCircleAlgorithm:"NucleusAirExplodeCircleAlgorithm",NucleusGroundExplodeCircleAlgorithm:"NucleusGroundExplodeCircleAlgorithm",RadioactiveGroundInjuryAreaAlgorithm:"RadioactiveGroundInjuryAreaAlgorithm",PollutedAreaAlgorithm:"PollutedAreaAlgorithm",PoisonCloudHazardAlgorithm:"PoisonCloudHazardAlgorithm",BlockadeLineAlgorithm:"BlockadeLineAlgorithm",EvacuateAlgorithm:"EvacuateAlgorithm",WithdrawAlgorithm:"WithdrawAlgorithm"},Ng=function(a,b){var c=function(a){var c=a||{};b.call(this,a),this.enabled=!1,this.checked=!1,this.id=c.id};a.extend2(c,b);var d=null,e=null,f=null,g=null;return c.prototype.onCreate=function(a){d=a.commandNotify,e=a.localize,f=a.logwriter,g=a.messagebox},c.prototype.onClick=function(){},c.prototype.isEnabled=function(){return this.enabled},c.prototype.isChecked=function(){return this.checked},c.prototype.localize=function(a){return e.localization(a)},c.prototype.log={info:function(a){f.info(a)},error:function(a){f.error(a)},warn:function(a){f.warn(a)}},c.prototype.activeCommand=function(a,b){d&&d.activeCommand(a,b)},c.prototype.messageBox=function(a,b,c){return g.show(a,b,c)},c.prototype.notify=function(){d&&d.notify()},c}(b,Nd),Og=function(a,b){var c=function(a){b.call(this,a||{}),this.facade=null};return a.extend2(c,b),c.prototype.onCreate=function(a){c.prototype.uber.onCreate(this,a),this.facade=a.viewFacade},c.prototype.onClick=function(a,b,c,d){this.facade.activeView(a,b,c,d)},c}(b,Ng),Pg=function(a,b){var c=function(a){var c=a||{};b.call(this,a),this.layerIds=c.layerIds,this.map=null,this.tooltipWare=null,this.selectionSet=null};return a.extend2(c,b),c.prototype.isEnabled=function(){for(var a=0,b=0;b<this.layerIds.length;++b){var c=this.layerIds[b],d=this.map.findLayer(c);!d||(a+=d.getCount())}return!(a>0)},c.prototype.onCreate=function(a){c.prototype.uber.onCreate(a),this.map=a.map,this.tooltipWare=a.tooltipWare,this.selectionSet=a.graphicSelectionSet},c.prototype.onClick=function(a){c.prototype.uber.onClick();var b=this.getLayers();if(a){var d=this;this.messageBox(a).result.then(function(){d.onClear(b),d.clearLayer(b,d.tooltipWare),d.selectionSet.clear(),d.notify()})}else this.onClear(b),this.clearLayer(b,this.tooltipWare),this.selectionSet.clear(),this.notify()},c.prototype.clearLayer=function(a,b){var c=this;!a||a.forEach(function(a){var d=c.findLayerGrahpic(a.getLayerId());d.forEach(function(b){!a||a.unSelect(b)}),a.clear(),b.remove(a.getLayerId())})},c.prototype.onClear=function(){},c.prototype.findLayerGrahpic=function(a){for(var b=[],c=0,d=this.selectionSet.getCount();d>c;++c){var e=this.selectionSet.getGraphic(0),f=e.layer;!!f&&f.getLayerId()===a&&b.push(e)}return b},c.prototype.getLayers=function(){if(!this.layerIds)return this.map.getLayers();for(var a=[],b=0;b<this.layerIds.length;b++){var c=this.layerIds[b],d=this.map.findLayer(c);a.push(d)}return a},c}(b,Ng),Qg=function(a,b){var c=function(a){var c=a||{};b.call(this,c)};return a.extend2(c,b),c.prototype.onClick=function(a){c.prototype.uber.onClick();for(var b=0;b<a.length;++b){var d=a[b];this.activeCommand(d)}},c}(b,Ng),Rg=function(a,b){var c=function(a){var c=a||{};b.call(this,a),this.cmds=c.cmds,this.tooltipWare=null};return a.extend2(c,b),c.prototype.onCreate=function(a){c.prototype.uber.onCreate(a),this.tooltipWare=a.tooltipWare},c.prototype.onClick=function(a){var b=this;this.messageBox(a).result.then(function(){!b.cmds||c.prototype.uber.onClick(b.cmds),b.tooltipWare.clear()})},c}(b,Qg),Sg=function(a,b){var c=function(a){var c=a||{};b.call(this,c),this.layerId=c.layerId,this.selectionSet=null};return a.extend2(c,b),c.prototype.onCreate=function(a){c.prototype.uber.onCreate.call(this,a),this.selectionSet=a.graphicSelectionSet},c.prototype.onClick=function(){c.prototype.uber.onClick();for(var a=0;a<this.selectionSet.getCount();++a){var b=this.selectionSet.getGraphic(a),d=b.layer;!!d&&d.getLayerId()===this.layerId&&(d.unselect(b),this.selectionSet.remove(b))}},c}(b,Ng),Tg=function(a,b){var c=function(a){var c=a||{};b.call(this,c),this.layer=c.layer,this.selectionSet=null};return a.extend2(c,b),c.prototype.isEnabled=function(){var a=this.findLayerGrahpic();return a.length>0?!1:!0},c.prototype.findLayerGrahpic=function(){for(var a=[],b=0,c=this.selectionSet.getCount();c>b;++b){var d=this.selectionSet.getGraphic(0),e=d.layer;!!e&&e.getLayerId()===this.layer.getLayerId()&&a.push(d)}return a},c.prototype.onCreate=function(a){c.prototype.uber.onCreate.call(this,a),this.selectionSet=a.graphicSelectionSet},c.prototype.onClick=function(a){if(c.prototype.uber.onClick.call(this,a),a){var b=this;this.messageBox(a).result.then(function(){b.cancelSelected(),b.deleteSelected(),b.selectionSet.clear()})}else this.cancelSelected(),this.deleteSelected(),this.selectionSet.clear()},c.prototype.onDeleteGraphic=function(){},c.prototype.cancelSelected=function(){var a=this.findLayerGrahpic();a.forEach(function(a){var b=a.layer;!b||b.unSelect(a)})},c.prototype.deleteSelected=function(){var a=this.findLayerGrahpic(),b=this;a.forEach(function(a){var c=a.layer;!c||b.onDeleteGraphic(c,a),b.selectionSet.remove(a)}),this.notify()},c}(b,Ng),Ug=function(a,b){var c=function(a){var c=a||{};b.call(this,c),this.tooltipWare=null};return a.extend2(c,b),c.prototype.onCreate=function(a){c.prototype.uber.onCreate.call(this,a),this.tooltipWare=a.tooltipWare},c.prototype.onDeleteGraphic=function(a,b){var c=b.element;a.remove(c),this.tooltipWare.remove(c.id),this.onDeleteElement(a,c)},c.prototype.onDeleteElement=function(){},c}(b,Tg),Vg=function(a,b){var c=function(a){var c=a||{};b.call(this,c)};return a.extend2(c,b),c.prototype.onDeleteGraphic=function(a,b){a.remove(b.feature),this.onDeleteFeature(b.feature)},c.prototype.onDeleteFeature=function(){},c}(b,Tg),Wg=function(a,b,c){var d=function(a){var d=a||{};b.call(this,d),c.call(this,d),this.cursor=d.cursor||"pointer"};a.extend2(d,b),a.extend2(d,c);var e=null;return d.prototype.onCreate=function(a){d.prototype.uber.onCreate.call(this,a),e=a.map},d.prototype.onClick=function(){e.currentTool(this),this.setCursor(this.cursor),this.checked=!0},d.prototype.setCursor=function(a){e.setCursor(a)},d.prototype.deactivate=function(){this.checked=!1},d}(b,Od,Ng),Xg=function(a,b,c){var d=function(a){var c=a||{};c.cursor=c.cursor||"crosshair",b.call(this,c),this.layerId=c.layerId,this.drawLayer=c.drawLayer,this.map=null,this.currentElement=null,this.editElement=null,this.mousedownFlag=!1};return a.extend2(d,b),d.prototype.deactivate=function(){d.prototype.uber.deactivate.call(this),this.stopEdit()},d.prototype.onCreate=function(a){d.prototype.uber.onCreate(a),this.map=a.map},d.prototype.onClick=function(a){d.prototype.uber.onClick.call(this,a),this.layerId=a.layer.id},d.prototype.switch=function(a){this.currentElement=a,this.drawLayer.add(a);var b=new c({layer:this.drawLayer,element:a});this.drawLayer.selectEdit(b)},d.prototype.onMouseDown=function(a,b,c,d){this.mousedownFlag=!0;var e=this.map.findLayer(this.layerId);if(e){var f=e.hitTest(c,d),g=this.drawLayer.hitTest(c,d);this.canEdit(f,g)?this.beginEdit(f,g):(this.map.stopDragPan(),this.map.resumeDragPan(),this.map.setCursor("crosshair"))}},d.prototype.onMouseUp=function(){this.mousedownFlag=!1,this.map.stopDragPan(),this.map.resumeDragPan(),this.map.setCursor("crosshair"),this.editElement=null},d.prototype.onMouseMove=function(a,b,c,d,e,f){if(this.mousedownFlag&&this.editElement){var g=this.editElement.geometry;g.x=e,g.y=f,this.drawLayer.update(this.currentElement),this.onDrawingEdit(this.currentElement)}},d.prototype.beginEdit=function(a,b){if(!a)if(b){var c=b.element;c!==this.currentElement&&(this.map.stopDragPan(),this.editElement=c)}else this.stopEdit()},d.prototype.stopEdit=function(){this.map.stopDragPan(),this.map.resumeDragPan(),this.onEndDraw(this.currentElement),this.drawLayer.clear(),this.currentElement=null,this.editElement=null,this.mousedownFlag=!1},d.prototype.canEdit=function(){return!0},d.prototype.onDrawingEdit=function(){},d.prototype.onEndDraw=function(){},d}(b,Wg,kc),Yg=function(a){function b(a,b){return a.x=b.x,a.y=b.y,a}function c(a,b,c){switch(c){case 1:a.addPoint(b.copy()),a.addPoint(b.copy());break;case 2:a.addPoint(b.copy());break;case 3:var d=a.last(),e=d.endPoint();e.x=b.x,e.y=b.y;break;case 4:a.normalize()}}function d(a,b,c){switch(c){case 1:a.addPoint(b.copy()),a.addPoint(b.copy()),a.addPoint(b.copy());break;case 2:a.addPoint(b.copy());break;case 3:var d=a.last(),e=d.endPoint();e.x=b.x,e.y=b.y;break;case 4:a.normalize()}}function e(a,b,c){switch(c){case 1:a.center=b.copy(),a.radius=0;break;case 2:case 3:var d=a.center;a.radius=Math.sqrt(Math.pow(b.x-d.x,2)+Math.pow(b.y-d.y,2));break;case 4:a.normalize()}}function f(a,b,c){switch(c){case 1:a.minx=b.x,a.miny=b.y,a.maxx=b.x,a.maxy=b.y;break;case 2:case 3:a.maxx=b.x,a.maxy=b.y;break;case 4:a.normalize()}}function g(a,b,c){switch(c){case 1:a.center=b.copy(),a.axisX=0,a.axisY=0;break;case 2:break;case 3:var d=a.center;a.axisX=Math.abs(d.x-b.x),a.axisY=Math.abs(d.y-b.y);break;case 4:a.normalize()}}function h(){}var i=function(){};return i.prototype.build=function(i,j,k,l){if(j){var m=i.getGeometryType();switch(m){case a.Point:return b(i,j);case a.Polyline:return c(i,j,k,l);case a.Polygon:return d(i,j,k,l);case a.Circle:return e(i,j,k);case a.Ellipse:return g(i,j,k);case a.Envelope:return f(i,j,k);case a.Square:return h(i,j,k)}return null}},i}(s),Zg=function(a,b,c,d,e,f){function g(a){switch(a){case c.Point:return 1;case c.Polyline:return 99;case c.Polygon:return 99;case c.Circle:return 2;case c.Ellipse:return 2;case c.Envelope:return 2}return-1}var h=12,i=function(a){var c=a||{};c.cursor=c.cursor||"crosshair",b.call(this,c||{}),this.drawElement=null,this.map=null,this.srid=0,this.drawLayer=c.drawLayer,this.geoBuilder=new d,this.templateElement=c.templateElement,!this.templateElement||(this.maxcps=g(this.templateElement.geometry.getGeometryType())),this.isDraw=!1,this.canContinue=c.canContinue,this.finishCoordinate=null};return a.extend2(i,b),i.prototype.onCreate=function(a){i.prototype.uber.onCreate(a),this.map=a.map,this.srid=a.spatialRef.srid},i.prototype.onClick=function(a){i.prototype.uber.onClick.call(this,a),this.pushNum=0},i.prototype.isDrawing=function(){return this.isDraw},i.prototype.switch=function(a){this.templateElement=a,this.templateElement&&(this.maxcps=g(this.templateElement.geometry.getGeometryType()))},i.prototype.onMouseDown=function(a,b,c,d,e,f){99==this.pushNum?(this.pushNum=0,this.endDraw()):this.entryDraw(a,e,f,c,d)},i.prototype.onMouseUp=function(a,b,c,d,f,g){if(2===a)this.onDblclick(null);else{var h=new e({x:f,y:g,spatialReference:this.srid});this.pushNum>=this.maxcps&&this.endDraw(h)}},i.prototype.onMouseMove=function(a,b,c,d,f,g){if(this.isDraw&&this.pushNum>=1&&this.pushNum<99){var h=new e({x:f,y:g});this.drawing(h)}},i.prototype.onMouseClick=function(){},i.prototype.onDblclick=function(){},i.prototype.entryDraw=function(a,b,c,d,f){var g=new e({x:b,y:c,spatialReference:this.srid});0==a?0==this.pushNum?this.beginDraw(g):this.pushNum>=1&&this.pushNum<99&&this.pauseDraw(g,[d,f]):this.endDraw()},i.prototype.beginDraw=function(a){if(this.templateElement){this.map.stopDbClick(),this.isDraw=!0,this.pushNum++,this.drawElement=this.templateElement.copy();var b=this.drawElement.geometry;this.geoBuilder.build(b,a,1,this.pushNum),this.drawLayer.add(this.drawElement),this.pushNum==this.maxcps&&this.endDraw(),this.onBeginDraw()}},i.prototype.pauseDraw=function(a,b){this.pushNum++;var c=this.drawElement.geometry;return this.atFinish(b)?void this.endDraw():(this.geoBuilder.build(c,a,2,this.pushNum),this.drawLayer.update(this.drawElement),this.pushNum>=this.maxcps&&this.endDraw(),this.onPauseDraw(),void 0)},i.prototype.drawing=function(a){var b=this.drawElement.geometry;this.geoBuilder.build(b,a,3,this.pushNum),this.drawLayer.update(this.drawElement),this.onDrawing(this.drawElement)},i.prototype.deactivate=function(){i.prototype.uber.deactivate(),this.isDraw&&(this.drawLayer.clear(),this.isDraw=!1,this.finishCoordinate=null,this.pushNum=0,this.map.resumeDbClick(),this.notify()),this.map.resumeDragPan()},i.prototype.endDraw=function(){this.isDraw=!1;var a=this.drawElement.geometry;a.normalize(),this.geoBuilder.build(a,null,4,this.pushNum),this.drawLayer.remove(this.drawElement),this.canContinue?(this.onEndDraw(this.drawElement),this.drawElement=this.templateElement.copy()):(this.activeCommand(f.NoopTool,null),this.onEndDraw(this.drawElement),this.drawElement=null),this.finishCoordinate=null,this.pushNum=0,this.map.resumeDbClick(),this.notify()},i.prototype.atFinish=function(a){var b=!1;if(this.finishCoordinate){var c=a[0]-this.finishCoordinate[0],d=a[1]-this.finishCoordinate[1];b=Math.sqrt(c*c+d*d)<h}return this.finishCoordinate=a,b&&(this.finishCoordinate=null),b},i.prototype.onBeginDraw=function(){},i.prototype.onDrawing=function(){},i.prototype.onPauseDraw=function(){},i.prototype.onEndDraw=function(){},i}(b,Wg,s,Yg,v,Mg),$g=function(a,b){var c=function(a){var c=a||{};b.call(this,c),this.layerTypes=c.layerTypes,this.map=null,this.selectionSet=null,this.layers=[]};return a.extend2(c,b),c.prototype.deactivate=function(){this.cancelSelected(),this.onUnSelectGraphic()},c.prototype.onCreate=function(a){c.prototype.uber.onCreate.call(this,a),this.selectionSet=a.graphicSelectionSet,this.map=a.map},c.prototype.onClick=function(a){if(c.prototype.uber.onClick.call(this,a),a&&0==this.layers.length)for(var b=a,d=0;d<b.length;++d){var e=b[d],f=this.map.findLayer(e);this.layers.push(f)}},c.prototype.onMouseDown=function(a,b,c,d){this.canContinue(this.selectionSet)||this.cancelSelected(),this.select(c,d)},c.prototype.canContinue=function(){return!1},c.prototype.selectGraphic=function(a,b){b.layer=a,a.select(b),this.selectionSet.add(b)},c.prototype.unSelectGraphic=function(a,b){a.unSelect(b),this.selectionSet.remove(b)},c.prototype.cancelSelected=function(){for(var a=0;a<this.selectionSet.getCount();++a){var b=this.selectionSet.getGraphic(a),c=b.layer;!c||c.unSelect(b)}this.selectionSet.clear()},c.prototype.getLayers=function(){for(var a=[],b=0;b<this.map.getLayerCount();++b){var c=this.map.getLayer(b),d=c.getLayerType();this.contains(d)&&a.push(c)}return a},c.prototype.select=function(a,b){if(0!=this.layers.length)this.selectLayers(this.layers,a,b);else{var c=this.getLayers();this.selectLayers(c,a,b)}},c.prototype.selectLayers=function(a,b,c){var d=this.getSelectedGraphic(a,b,c);return d?(this.onSelectGraphic(d.layer,d.graphic),!0):(this.onUnSelectGraphic(),!1)},c.prototype.getSelectedGraphic=function(a,b,c){for(var d=0;d<a.length;++d){var e=a[d],f=e.hitTest(b,c);if(f)return this.selectGraphic(e,f),{layer:e,graphic:f}}return null},c.prototype.contains=function(a){for(var b=0;b<this.layerTypes.length;++b){var c=this.layerTypes[b];if(c==a)return!0}return!1},c.prototype.onSelectGraphic=function(){},c.prototype.onUnSelectGraphic=function(){},c}(b,Wg),_g=function(a,b,c){var d=function(a){var d=a||{};d.layerTypes=[c.ElementLayer,c.CanvasLayer,c.ClusterLayer],b.call(this,d)};return a.extend2(d,b),d.prototype.onSelectGraphic=function(a,b){this.onSelectElement(a,b.element)},d.prototype.onUnSelectGraphic=function(){this.onUnSelectElement()},d.prototype.onSelectElement=function(){},d.prototype.onUnSelectElement=function(){},d}(b,$g,Fb),ah=function(a,b,c,d){var e=function(a){var c=a||{};c.layerTypes=[d.FeatureLayer],b.call(this,c)};return a.extend2(e,b),e.prototype.onCreate=function(a){e.prototype.uber.onCreate.call(this,a)},e.prototype.selectFeature=function(a,b){var d=new c({feature:b});this.selectGraphic(a,d)},e.prototype.unSelectFeature=function(a,b){var d=new c({feature:b});this.unSelectGraphic(a,d)},e.prototype.onSelectGraphic=function(a,b){this.onSelectFeature(a,b.feature)},e.prototype.onUnSelectGraphic=function(){this.onUnSelectFeature()},e.prototype.onSelectFeature=function(){},e.prototype.onUnSelectFeature=function(){},e}(b,$g,kc,Fb),bh=function(a,b,c,d){var e=function(a){var c=a||{};c.layerTypes=[d.VectorTileLayer],b.call(this,c)};return a.extend2(e,b),e.prototype.onCreate=function(a){e.prototype.uber.onCreate.call(this,a)},e.prototype.selectFeature=function(a,b){var d=new c({feature:b});this.selectGraphic(a,d)},e.prototype.unSelectFeature=function(a,b){var d=new c({feature:b});this.unSelectGraphic(a,d)},e.prototype.onSelectGraphic=function(a,b){this.onSelectFeature(a,b.feature)},e.prototype.onUnSelectGraphic=function(){this.onUnSelectFeature()},e.prototype.onSelectFeature=function(){},e.prototype.onUnSelectFeature=function(){},e}(b,$g,kc,Fb),ch=function(a,b){var c=function(a){b.call(this,a||{})};return a.extend2(c,b),c.prototype.onCreate=function(a){c.prototype.uber.onCreate(a),facade=a.viewFacade},c.prototype.onClick=function(a,b){facade.showView(a,b)},c}(b,Ng),dh=function(a,b){var c=function(a){var c=a||{};b.call(this,c)};return a.extend2(c,b),c}(b,Wg),eh=function(a,b,c){var d=function(a){var d=a||{};b.call(this,d),c.call(this,d),this.cursor=d.cursor||"pointer"};a.extend2(d,b),a.extend2(d,c);var e=null;return d.prototype.onCreate=function(a){d.prototype.uber.onCreate.call(this,a),e=a.pageLayout},d.prototype.onClick=function(){e.currentTool(this),e.setCursor(this.cursor),this.checked=!0},d.prototype.setCursor=function(a){e.setCursor(a)},d.prototype.deactivate=function(){this.checked=!1},d}(b,Od,Ng),fh=function(a,b){var c=function(a){var c=a||{};b.call(this,c),this.selectCount=c.selectCount};return a.extend2(c,b),c.prototype.canContinue=function(a){return a.getCount()!=this.selectCount},c.prototype.onUnSelectGraphic=function(){this.cancelSelected()},c}(b,$g),gh=function(){var a=function(a){this.$type="QueryFilter,http://www.Gs.com",this.subFields=a.subFields||"*",this.where=a.where,this.returnGeometry=a.returnGeometry||!1};return a}(),hh=function(a,b){var c=function(a){b.call(this,a),this.$type="SpatialFilter,http://www.Gs.com",this.geometry=a.geometry,this.spatialRel=a.spatialRel};return a.extend2(c,b),c}(b,gh),ih={Contains:0,Crosses:1,Disjoint:2,Equals:3,Intersects:4,Overlaps:5,Touches:6,Within:7},jh=function(a,b,c,d,e,f){var g=function(a){var e=a||{};b.call(this,e),this.inputlayer=e.inputlayer,this.outputlayer=e.outputlayer,this.viewFacade=null,this.progress=null,this.selectionSet=null,this.map=null,this.spatialFilter=new c({spatialRel:d.Intersects,returnGeometry:!0})};return a.extend2(g,b),g.prototype.isEnabled=function(){return this.progress.status()||!this.inputlayer.visible||!this.outputlayer.visible},g.prototype.onMouseClick=function(){},g.prototype.deactivate=function(){g.prototype.uber.deactivate.call(this),this.viewFacade.showView("bufferInputView",!1),this.cancelSelected()},g.prototype.onCreate=function(a){g.prototype.uber.onCreate.call(this,a),this.viewFacade=a.viewFacade,this.selectionSet=a.graphicSelectionSet,this.progress=a.progress,this.map=a.map},g.prototype.onBeginDraw=function(){this.cancelSelected()},g.prototype.onEndDraw=function(a){this.spatialFilter.geometry=a.geometry,this.activeCommand(e.SelectBufferElement,null),this.viewFacade.activeView("centerView","bufferInputView",{spatialFilter:this.spatialFilter,bufferLayers:{inputlayer:this.inputlayer,outputlayer:this.outputlayer}}),this.inputlayer.add(a);var b=new f({layer:this.inputlayer,element:a});this.inputlayer.select(b),this.selectionSet.add(b)},g.prototype.cancelSelected=function(){if(this.inputlayer)for(var a=0;a<this.selectionSet.getCount();++a){var b=this.selectionSet.getGraphic(a);this.inputlayer.unSelect(b),this.selectionSet.remove(b)}},g}(b,Zg,hh,ih,Mg,kc),kh=function(a,b,c,d){var e=function(a){var e=a||{};b.call(this,e),this.inputlayer=e.inputlayer,this.outputlayer=e.outputlayer,this.progress=null,this.viewFacade=null,this.spatialFilter=new c({spatialRel:d.Intersects,returnGeometry:!0})};return a.extend2(e,b),e.prototype.isEnabled=function(){return this.progress.status()||!this.inputlayer.visible||!this.outputlayer.visible},e.prototype.deactivate=function(){e.prototype.uber.deactivate.call(this),this.viewFacade.showView("bufferInputView",!1),this.cancelSelected()},e.prototype.onCreate=function(a){e.prototype.uber.onCreate.call(this,a),this.viewFacade=a.viewFacade,this.progress=a.progress},e.prototype.onSelectElement=function(a,b){this.spatialFilter.geometry=b.geometry,this.viewFacade.activeView("centerView","bufferInputView",{spatialFilter:this.spatialFilter,bufferLayers:{inputlayer:this.inputlayer,outputlayer:this.outputlayer}})},e.prototype.onUnSelectElement=function(){this.viewFacade.showView("bufferInputView",!1)},e}(b,_g,hh,ih),lh=function(a,b){var c=function(a){var c=a||{};b.call(this,c),this.facade=null,this.spatialFilter=new SpatialFilter({SpatialRel:SpatialRel.contains})};return a.extend2(c,b),c.prototype.onCreate=function(a){c.prototype.uber.onCreate.call(this,a),this.facade=a.viewFacade},c.prototype.onSelectFeature=function(a,b){this.spatialFilter.geometry=b.geometry,this.facade.showView("","","",this.spatialFilter)},c}(b,ah),mh=function(a,b,c){var d=function(a){var c=a||{};b.call(this,c),this.viewFacade=null};a.extend2(d,b),d.prototype.onCreate=function(a){d.prototype.uber.onCreate.call(this,a),this.viewFacade=a.viewFacade},d.prototype.onClick=function(a){d.prototype.uber.onClick.call(this,a)},d.prototype.onClear=function(){for(var a=["bufferInputView","bufferOutputView"],b=0;b<a.length;b++)this.viewFacade.showView(a[b],!1);this.activeCommand(c.NoopTool,null)};var e=d;return e}(b,Pg,Mg),nh=function(a,b){var c=function(a){var c=a||{};b.call(this,c),this.map=null};return a.extend2(c,b),c.prototype.onCreate=function(a){c.prototype.uber.onCreate.call(this,a),this.map=a.map},c.prototype.onClick=function(){this.map.export("地图")},c}(b,Ng),oh=function(a,b){var c=function(a){var c=a||{};b.call(this,c),this.map=null};return a.extend2(c,b),c.prototype.onCreate=function(a){c.prototype.uber.onCreate.call(this,a),this.map=a.map},c.prototype.onClick=function(){this.map.exportPDF("地图")},c}(b,Ng),ph=function(a,b){var c=function(a){var c=a||{};b.call(this,c),this.map=null};return a.extend2(c,b),c.prototype.onCreate=function(a){c.prototype.uber.onCreate.call(this,a),this.map=a.map},c.prototype.onClick=function(){this.map.fullExtent()},c}(b,Ng),qh=function(a,b,c,d,e,f){var g=function(a){var c=a||{};c.canContinue=!1,b.call(this,c),this.templateElement=c.templateElement,this.layer=c.layer,this.measureService=null,this.tooltipWare=null};return a.extend2(g,b),g.prototype.isEnabled=function(){return!this.layer.visible
},g.prototype.onCreate=function(a){g.prototype.uber.onCreate.call(this,a),this.tooltipWare=a.tooltipWare,this.measureService=a.measureService},g.prototype.onEndDraw=function(a){var b=a.geometry;switch(b.getGeometryType()){case c.Point:this.measurePoint(a);break;case c.Circle:this.measureCircle(a);break;case c.Polyline:this.measurePolyline(a);break;case c.Polygon:this.measurePolygon(a);break;case c.Ellipse:this.measureEllipse(a);break;case c.Rectangle:this.measureRectangle(a)}this.addElement(a),this.activeCommand(e.SelectMeasuerLayer,[this.layer.getLayerId()])},g.prototype.addElement=function(a){this.layer.add(a)},g.prototype.measurePoint=function(a){var b=this.measureService.position(a.geometry);this.showPositon(a,b,"坐标测量")},g.prototype.measurePolyline=function(a){var b=a.geometry,c=this.measureService.length(b),d=b.middlePoint();this.showLength(a,d,c,"长度测量")},g.prototype.measureCircle=function(a){var b=a.geometry,c=this.measureService.length(b),d=this.measureService.area(b),e=b.getCenter();this.showLengthArea(a,e,c,d,"面积测量")},g.prototype.measurePolygon=function(a){var b=a.geometry,c=this.measureService.length(b),d=this.measureService.area(b),e=b.envelope(),f=e.center();this.showLengthArea(a,f,c,d,"面积测量")},g.prototype.measureEllipse=function(a){var b=a.geometry,c=this.measureService.length(b),d=this.measureService.area(b),e=b.getCenter();this.showLengthArea(a,e,c,d,"面积测量")},g.prototype.showPositon=function(a,b,c){var d=null;d=b.getSpatialReference()===f.EPSG4326||b.getSpatialReference()===f.EPSG4490?[{key:"经度:",value:b.x.toFixed(4)},{key:"纬度:",value:b.y.toFixed(4)}]:[{key:"X:",value:b.x.toFixed(4)},{key:"Y:",value:b.y.toFixed(4)}],this.show(a,b,d,c)},g.prototype.showLength=function(a,b,c,d){var e=[{key:"长度:",value:this.length(c)}];this.show(a,b,e,d)},g.prototype.showLengthArea=function(a,b,c,d,e){var f=[{key:"周长:",value:this.length(c)},{key:"面积:",value:this.area(d)}];this.show(a,b,f,e)},g.prototype.show=function(a,b,c,e){for(var f,g="<div>{0}</div>",h=a.id,i='<label style=" display: block; white-space: nowrap;line-height: 20px; min-width: 120px;">{0}{1}</label>',j="",k=c.length,l=0;k>l;++l)f=c[l],j+=i.replace("{0}",f.key).replace("{1}",f.value)+"";var m=this,n=g.replace("{0}",j),o=new d({anchor:b,content:n,id:h,layerId:this.layer.getLayerId(),title:e,onClose:function(){m.layer.remove(a)},offset:[0,0],autoPan:!0});this.tooltipWare.add(o,!1)},g.prototype.length=function(a){return a>1e3?(a/1e3).toFixed(2)+"km":a.toFixed(0)+"m"},g.prototype.area=function(a){return a>1e6?(a/1e6).toFixed(2)+"km²":a.toFixed(0)+"m²"},g}(b,Zg,s,gd,Mg,q),rh=function(a,b,c,d){var e=function(a){var c=a||{};b.call(this,c),this.layerId=c.layerId,this.map=null,this.selectionSet=null,this.identifyService=null,this.progress=null,this.viewFacade=null,this.promptbox=null};return a.extend2(e,b),e.prototype.onCreate=function(a){e.prototype.uber.onCreate(a),this.map=a.map,this.selectionSet=a.graphicSelectionSet,this.progress=a.progress,this.identifyService=a.identifyService,this.viewFacade=a.viewFacade,this.promptbox=a.promptbox},e.prototype.isEnabled=function(){return this.progress.status()},e.prototype.onMouseDown=function(a,b,c,e){this.cancelSelected(),this.progress.show();var f=this,g=this.map.findLayer(this.layerId);this.identifyService.identify(this.map.getViewSize(),this.map.getExtent(),c,e,function(a){f.viewFacade.activeView("centerView","identifyView",{layer:g,featureSet:a,selectionSet:f.selectionSet}),f.progress.close()},function(a){f.log.error(a),f.progress.close(),f.promptbox.error("调用元素识别服务异常")}),this.activeCommand(d.NoopTool)},e.prototype.onMouseUp=function(){},e.prototype.onEndSelect=function(){},e.prototype.cancelSelected=function(){var a=this.map.getLayers(),b=this;!a||a.forEach(function(a){for(var c=0;c<b.selectionSet.getCount();++c){var d=b.selectionSet.getGraphic(c);a.unSelect(d)}}),this.selectionSet.clear()},e}(b,Wg,kc,Mg),sh=function(a,b,c,d,e){function f(a,b){var c=a.area(b);return c>1e6?(c/1e6).toFixed(2)+"km²":c.toFixed(0)+"m²"}function g(a,b){var c=a.length(b);return c>1e3?(c/1e3).toFixed(2)+"km":c.toFixed(0)+"m"}function h(a){var b=a.getGeometryType();switch(b){case e.Point:return a;case e.Polygon:return a.envelope().center();case e.Polyline:return a.middlePoint();case e.MultiPolygon:return a.envelope().center()}}var i=function(a){var c=a||{};b.call(this,c),this.locationService=null,this.lastLayer=null,this.tooltipWare=null,this.localize=null,this.measureService=null};return a.extend2(i,b),i.prototype.onCreate=function(a){i.prototype.uber.onCreate.call(this,a),this.locationService=a.locationService,this.tooltipWare=a.tooltipWare,this.localize=a.localize,this.measureService=a.measureService},i.prototype.onClick=function(a){if(i.prototype.uber.onClick.call(this,a),a){var b=a.layer,c=a.feature;this.cancelSelected(),this.selectFeature(b,c),this.location(b,c,!0)}},i.prototype.onSelectFeature=function(a,b){this.location(a,b,!1)},i.prototype.onUnSelectFeature=function(){!this.lastLayer||this.tooltipWare.remove(this.lastLayer.getLayerId())},i.prototype.location=function(a,b,d){this.lastLayer=a;for(var e,f="<div>{0}</div>",g='<label style=" display: block; white-space: nowrap;line-height: 20px; min-width: 120px;">{0}: {1}</label>',i=this.featureDes(b),j="",k=i.length,l=0;k>l;++l)e=i[l],j+=g.replace("{0}",e.key).replace("{1}",e.value)+"";var m=f.replace("{0}",j),n=h(b.geometry),o=b.objectId,p=this,q=new c({title:"要素识别",anchor:n,content:m,id:o,layerId:a.getLayerId(),offset:a.getOffset(),onClose:function(){p.cancelSelected()}});this.locationService.location(d?n:null,q,-1,!0)},i.prototype.featureDes=function(a){for(var b=[],c=a.getFields(),d=0;d<c.getCount();++d){var e=c.getField(d);"shape"!=e.name&&b.push({key:this.localize.localization(e.name),value:a.getValue(e.name).getValue()})}for(var f=this.shapeDes(a.geometry),d=0;d<f.length;++d){var g=f[d];b.push(g)}return b},i.prototype.shapeDes=function(a){if(!a)return[];var b=a.getGeometryType();switch(b){case e.Point:switch(a.getSpatialReference()){case d.EPSG4326:case d.EPSG4490:return[{key:"经度",value:a.x.toFixed(4)},{key:"纬度",value:a.y.toFixed(4)}];case d.EPSG3857:return[{key:"X ",value:a.x.toFixed(4)},{key:"Y ",value:a.y.toFixed(4)}]}case e.Polygon:return[{key:"周长:",value:g(this.measureService,a)},{key:"面积:",value:f(this.measureService,a)}];case e.Polyline:return[{key:"长度:",value:g(this.measureService,a)}];case e.MultiPolygon:return[{key:"周长:",value:g(this.measureService,a)},{key:"面积:",value:f(this.measureService,a)}]}},i}(b,ah,gd,q,s),th=function(a,b,c){var d=function(a){var c=a||{};b.call(this,c),this.locationService=null,this.lastLayer=null,this.tooltipWare=null};return a.extend2(d,b),d.prototype.onCreate=function(a){d.prototype.uber.onCreate.call(this,a),this.locationService=a.locationService,this.tooltipWare=a.tooltipWare},d.prototype.onClick=function(a){if(d.prototype.uber.onClick.call(this,a),a){var b=a.layer,c=a.feature;this.cancelSelected(),this.selectFeature(b,c),this.location(b,c,!0)}},d.prototype.onSelectFeature=function(a,b){this.location(a,b,!1)},d.prototype.onUnSelectFeature=function(){!this.lastLayer||this.tooltipWare.remove(this.lastLayer.getLayerId())},d.prototype.location=function(a,b,d){this.lastLayer=a;for(var e,f="<div>{0}</div>",g='<label style=" display: block; white-space: nowrap;line-height: 20px; min-width: 120px;">{0}: {1}</label>',h=b.getProperties(),i="",j=h.length,k=0;j>k;++k)e=h[k],i+=g.replace("{0}",e.key).replace("{1}",e.value)+"";var l=f.replace("{0}",i),m=b.getExtent().center(),n=b.objectId,o=this,p=new c({title:"矢量切片渲染要素识别",anchor:m,content:l,id:n,layerId:a.getLayerId(),offset:a.getOffset(),onClose:function(){o.cancelSelected()}});this.locationService.location(d?m:null,p,-1,!0)},d}(b,bh,gd),uh=function(a,b){var c=function(b){a.call(this,b||{})};return b.extend2(c,a),c.prototype.onClick=function(){this.map.zoomIn()},c}(Ng,b),vh=function(a,b){var c=function(b){a.call(this,b||{})};return b.extend2(c,a),c.prototype.onClick=function(){this.map.zoomOut()},c}(Ng,b),wh=function(a,b,c){var d=function(a){var c=a||{};b.call(this,c),this.heatInputLayer=c.heatInputLayer,this.heatLayer=c.heatLayer};return a.extend2(d,b),d.prototype.deactivate=function(){d.prototype.uber.deactivate.call(this),this.viewFacade.showView("bufferInputView",!1)},d.prototype.isEnabled=function(){return this.heatLayer?this.heatLayer.getCount()>0:!1},d.prototype.onCreate=function(a){d.prototype.uber.onCreate.call(this,a),this.viewFacade=a.viewFacade,this.selectionSet=a.graphicSelectionSet},d.prototype.onEndDraw=function(a){this.heatInputLayer.add(a);var b=new c({layer:this.heatInputLayer,element:a});this.heatInputLayer.select(b),this.selectionSet.add(b),this.viewFacade.activeView("centerView","heatMapRenderView",{heatLayer:this.heatLayer,element:a,selectionSet:this.selectionSet,heatInputLayer:this.heatInputLayer})},d}(b,Zg,kc,Mg),xh=function(a,b,c){var d=function(a){var c=a||{};b.call(this,c),this.viewFacade=null};return a.extend2(d,b),d.prototype.onCreate=function(a){d.prototype.uber.onCreate.call(this,a),this.viewFacade=a.viewFacade},d.prototype.onClick=function(a){d.prototype.uber.onClick.call(this,a)},d.prototype.onClear=function(){for(var a=["heatMapRenderView"],b=0;b<a.length;b++)this.viewFacade.showView(a[b],!1);this.activeCommand(c.NoopTool,null)},d}(b,Pg,Mg),yh=function(a,b,c,d,e,f,g){function h(){i.clusterLayer=i.map.findLayer(o.mods.LayerName.clusterLayer),i.clusterLayer||(i.clusterLayer=new c({id:"clusterLayer",name:"聚类图层",layerType:d.ClusterLayer,opacity:1,visible:!1,fillColor:[255,255,0],textFillColor:[255,255,255,1],fillStrokeColor:[255,255,0,.2],fillStrokeWidth:20,map:i.map,clusterLevel:10,symbolConvertor:i.symbolConvertor,geometryConvertor:i.geometryConvertor}),i.map.addLayer(i.clusterLayer))}var i,j=[],k=function(a){var c=a||{};b.call(this,c),this.symbol=c.symbol,this.map=null,this.clusterLayer=null,this.featureClassService=null,this.progress=null,this.projectService=null,this.spatialRef=null,this.symbolConvertor=null,this.geometryConvertor=null,i=this};a.extend2(k,b),k.prototype.isEnabled=function(){return!!this.clusterLayer&&this.clusterLayer.getCount()>0||this.progress.status()},k.prototype.onCreate=function(a){k.prototype.uber.onCreate.call(this,a),this.map=a.map,this.featureClassService=a.featureClassService,this.progress=a.progress,this.projectService=a.projectService,this.spatialRef=a.spatialRef.srid,this.symbolConvertor=a.symbolConvertor,this.geometryConvertor=a.geometryConvertor};return k.prototype.onClick=function(a){k.prototype.uber.onClick.call(this,a),h();var b=Date.now();console.log(b);var c=this.clusterLayer.getCount();if(0==c){this.clusterLayer.clear();var d=new e({subFields:"*",where:"objectid< 10000",returnGeometry:!0,geometry:null,spatialRel:0}),g=this;j=[],g.progress.show(),this.featureClassService.query("gis_poi",d,function(a){console.log(Date.now()-b);for(var c=0,d=a.features.length;d>c;++c){var e=a.features[c],h=e.geometry;h=g.projectService.transform(h,g.spatialRef);var i=new f({geometry:h,symbol:g.symbol});j.push(i)}g.clusterLayer.addElements(j);var k=Date.now();console.log(k),console.log(k-b),g.progress.close()},function(a){g.promptBox.error("查询失败！"),g.progress.close(),g.log.error(a)})}},k}(b,Ng,Rc,Fb,hh,fc,ol),zh=function(a,b,c){var d=function(a){var c=a||{};b.call(this,c),this.viewFacade=null};return a.extend2(d,b),d.prototype.onCreate=function(a){d.prototype.uber.onCreate.call(this,a),this.viewFacade=a.viewFacade},d.prototype.onClick=function(a){d.prototype.uber.onClick.call(this,a)},d.prototype.onClear=function(){this.activeCommand(c.NoopTool,null)},d}(b,Pg,Mg),Ah=function(a,b,c){var d=function(a){var c=a||{};this.layer=c.layer,b.call(this,c)};return a.extend2(d,b),d.prototype.onCreate=function(a){d.prototype.uber.onCreate(this,a),this.overlayWare=a.overlayWare,this.viewFacade=a.viewFacade},d.prototype.isEnabled=function(){return!this.overlayWare.getCount()},d.prototype.onClick=function(a){if(d.prototype.uber.onClick(),a){var b=this;this.messageBox(a).result.then(function(){b.onClear(),b.notify()})}else this.onClear(),this.notify()},d.prototype.onClear=function(){this.overlayWare.clear(),this.layer.clear(),this.viewFacade.activeView(null,"overlayWareView",{layer:this.layer}),this.activeCommand(c.NoopTool,null)},d}(b,Ng,Mg),Bh=function(a,b,c){var d=function(a){var c=a||{};this.layer=c.layer,b.call(this,c)};return a.extend2(d,b),d.prototype.onCreate=function(a){d.prototype.uber.onCreate.call(this,a),this.viewFacade=a.viewFacade},d.prototype.onClick=function(){d.prototype.uber.onClick.call(),this.viewFacade.activeView("rightView","overlayWareView",{layer:this.layer}),this.activeCommand(c.NoopTool,null)},d}(b,Ng,Mg),Ch=function(a,b){var c=function(a){var c=a||{};c.canContinue=!1,this.layer=c.layer,this.templateElement=c.templateElement,b.call(this,c)};return a.extend2(c,b),c.prototype.onCreate=function(a){c.prototype.uber.onCreate.call(this,a),this.map=a.map,this.viewFacade=a.viewFacade},c.prototype.isEnabled=function(){return!this.layer.visible},c.prototype.onEndDraw=function(a){this.viewFacade.activeView("centerView","addOverlayView",{layer:this.layer,ele:a,map:this.map}),this.map.setCursor("default")},c}(b,Zg,Mg),Dh=function(a,b){var c=function(a){var c=a||{};b.call(this,c)};return a.extend2(c,b),c.prototype.onSelectElement=function(a,b){null!=b&&a.bringTop(b)},c.prototype.onUnSelectElement=function(){},c}(b,_g,Fb),Eh=function(a,b){var c=function(a){var c=a||{};b.call(this,c)};return a.extend2(c,b),c.prototype.onSelectElement=function(a,b){null!=b&&a.sendBottom(b)},c.prototype.onUnSelectElement=function(){},c}(b,_g,Fb),Fh={drawNone:"drawNone",drawStopPoint:"drawStopPoint",drawIncidentPoint:"drawIncidentPoint",drawBarrierPoint:"drawBarrierPoint",drawBarrierPolyline:"drawBarrierPolyline",drawBarrierPolygon:"drawBarrierPolygon"},Gh=function(a,b,c,d,e){var f=null,g=function(a){var c=a||{};b.call(this,c),this.barrierPointElement=c.barrierPointElement,this.barrierPolylineElement=c.barrierPolylineElement,this.barrierPolygonElement=c.barrierPolygonElement,this.layer=c.layer};return a.extend2(g,b),g.prototype.isEnabled=function(){return this.progress.status()},g.prototype.onCreate=function(a){g.prototype.uber.onCreate.call(this,a)},g.prototype.onClick=function(a){g.prototype.uber.onClick.call(this,a),f=this},g.prototype.drawBarrier=function(a){switch(a){case c.drawBarrierPoint:this.setCursor("crosshair"),this.switch(this.barrierPointElement);break;case c.drawBarrierPolyline:this.setCursor("crosshair"),this.switch(this.barrierPolylineElement);break;case c.drawBarrierPolygon:this.setCursor("crosshair"),this.switch(this.barrierPolygonElement);break;case c.drawNone:this.setCursor("default"),this.switch(null)}},g.prototype.addElement=function(a){this.layer.add(a)},g.prototype.updateElement=function(a){this.layer.update(a)},g.prototype.removeElement=function(a){this.layer.remove(a)},g.prototype.clear=function(){this.layer.clear()},g.prototype.removeBarrier=function(){},g.prototype.clearBarrier=function(a){for(var b=[],c=f.layer.getCount(),d=0;c>d;d++){var e=f.layer.get(d);f.isMask(e,a)&&b.push(e)}for(var g=0;g<b.length;g++)f.removeElement(b[g]),f.removeBarrier(b[g].geometry)},g.prototype.onDrawing=function(){return f.isDrawing()},g.prototype.isMask=function(a,b){return a.tag?b?a.tag==b?!0:!1:"barrierPoint"==a.tag||"barrierPolyline"==a.tag||"barrierPolygon"==a.tag?!0:!1:!1},g.prototype.onEndDraw=function(a){this.addElement(a)},g.prototype.zoomFacilities=function(a,b){for(var c=new e,f=b.getCount(),g=0;f>g;g++){var h=b.getFacility(g),i=new d({x:h.x,y:h.y});c.addPoint(i)}var j=c.envelope();j=j.expand(.5),a.pan(j)},g}(b,Zg,Fh,v,B),Hh=function(){var a=function(){this.$type="BaseRouteParameters,http://www.Gs.com",this.barriers=[],this.impedanceAttribute="length",this.useHierarchy=!1};return a.prototype.addBarrier=function(a){this.barriers.push(a)},a.prototype.removeBarrier=function(a){var b=this.barriers.indexOf(a);this.barriers.splice(b,1)},a.prototype.clearBarriers=function(){this.barriers.length=0},a.prototype.setImpedanceAttribute=function(a){this.impedanceAttribute=a},a.prototype.setUseHierarchy=function(a){this.useHierarchy=a},a.prototype.isValid=function(){return!0},a.prototype.normalize=function(){},a}(),Ih=function(a,b){var c=function(){b.call(this),this.$type="RouteParameters,http://www.Gs.com",this.stops=[],this.travelPlanning=1,this.ignoreInvalidLocations=!0};return a.extend2(c,b),c.prototype.addStop=function(a){this.stops.push(a)},c.prototype.getStop=function(a){return this.stops[a]},c.prototype.setIgnoreInvalidLocations=function(a){this.ignoreInvalidLocations=a},c.prototype.setTravelPlanning=function(a){this.travelPlanning=a},c.prototype.isValid=function(){return this.stops.length>=2},c.prototype.normalize=function(){for(var a=0;a<this.stops.length;a++)for(var b=this.stops[a],c=a+1;c<this.stops.length;c++){var d=this.stops[c];this.isEqual(b,d)&&(this.stops.splice(c,1),c--)}},c.prototype.isEqual=function(a,b){var c=1e-4;return Math.abs(a.x-b.x)<c&&Math.abs(a.y-b.y)<c},c}(b,Hh),Jh=function(a,b,c,d,e,f,g){var h=null,i=function(a){var c=a||{};b.call(this,c),this.routeSymbol=c.routeSymbol,this.roadElement=c.roadElement,this.stopPointElement=c.stopPointElement,this.routePointElement=c.routePointElement,this.routeParamters=null,this.drawType=e.drawNone,this.animation=!1,this.promptbox=null,this.networkAnalysisService=null,this.viewFacade=null,this.progress=null,this.map=null,this.tooltipWare=null,this.toolip=null,h=this};return a.extend2(i,b),i.prototype.onCreate=function(a){i.prototype.uber.onCreate.call(this,a),this.promptbox=a.promptbox,this.map=a.map,this.tooltipWare=a.tooltipWare,this.viewFacade=a.viewFacade,this.progress=a.progress,this.networkAnalysisService=a.networkAnalysis},i.prototype.onClick=function(a){this.activeCommand(f.ClearNetwork,null),this.routeParamters=new c,this.viewFacade.activeView("centerView","routeInputView",{switchDraw:this.switchDraw,setAnimation:this.setAnimation,routeParamters:this.routeParamters,analysis:this.analysis,clearBarrier:this.clearBarrier,onDrawing:this.onDrawing}),i.prototype.uber.onClick.call(this,a),this.setCursor("default")},i.prototype.removeBarrier=function(a){this.routeParamters.removeBarrier(a)},i.prototype.analysis=function(){h.routeParamters.normalize(),h.routeParamters.isValid()?(h.viewFacade.showView("routeInputView",!1),h.activeCommand(f.NoopTool,null),h.progress.show(),h.networkAnalysisService.route(h.routeParamters,function(a){h.progress.close(),h.showResult(a)},function(a){h.promptbox.error("最短路径分析失败!"),h.progress.close(),h.log.error(a)})):h.promptbox.notify("在进行最短路径分析之前请设置2个或2个以上的停靠点。")},i.prototype.showResult=function(a){if(a.route){if(a.normalize(this.routeParamters.getStop(0)),this.addElement(new d({geometry:a.route,symbol:this.routeSymbol})),this.animation){var b=a.route.paths[0],c=new d({geometry:b.startPoint(),symbol:this.routePointElement.symbol});this.addElement(c),this.displayAnimation(c,b)}a.road&&this.viewFacade.activeView("centerView","routeDetailView",{road:a.road,displayRoad:this.displayRoad})}else this.promptbox.notify("无分析结果")},i.prototype.displayRoad=function(a,b,c){if(h.tooltip&&h.tooltipWare.remove(h.tooltip.id),h.removeElement(h.roadElement),c&&a&&(h.roadElement.geometry=a,h.addElement(h.roadElement),void 0!=b)){b>=179&&180>=b||b>=-180&&-179>=b?tip="前方调头":b>0&&179>b?tip="前方右转{0}度".replace("{0}",b):b>-179&&0>b&&(tip="前方左转{0}度".replace("{0}",-b)),(b>=0&&1>=b||b>=-1&&0>=b)&&(tip="前方直行");var d=a.getPointCount(),e=a.getPoint(d-1);h.showTip(a,e,[{key:"提示:",value:tip}])}},i.prototype.showTip=function(a,b,c){for(var d,e="<div>{0}</div>",f=a.id,i='<label style=" display: block; white-space: nowrap;line-height: 20px; min-width: 120px;">{0}{1}</label>',j="",k=c.length,l=0;k>l;++l)d=c[l],j+=i.replace("{0}",d.key).replace("{1}",d.value)+"";var m=e.replace("{0}",j);h.tooltip=new g({anchor:b,content:m,id:f,layerId:this.layer.getLayerId(),onClose:function(){h.layer.remove(a)},offset:[0,0]}),h.tooltipWare.add(h.tooltip,!1),h.map.setCenter(b)},i.prototype.setAnimation=function(a){h.animation=a},i.prototype.switchDraw=function(a){switch(h.map.currentTool(h),h.drawBarrier(a),h.drawType=a,a){case e.drawStopPoint:h.setCursor("crosshair"),h.switch(h.stopPointElement)}},i.prototype.displayAnimation=function(a,b){var c=b.getPointCount(),d=1,e=setInterval(function(){return d>c?(h.removeElement(a),void clearInterval(e)):(a.geometry=b.getPoint(d),h.updateElement(a),d++,void 0)},100)},i.prototype.onEndDraw=function(a){switch(i.prototype.uber.onEndDraw.call(this,a),this.drawType){case e.drawBarrierPoint:case e.drawBarrierPolyline:case e.drawBarrierPolygon:this.routeParamters.addBarrier(a.geometry);break;case e.drawStopPoint:this.routeParamters.addStop(a.geometry)}},i}(b,Gh,Ih,fc,Fh,Mg,gd),Kh=function(a,b){var c=function(a){var c=a||{};b.call(this,c),this.viewFacade=null};a.extend2(c,b),c.prototype.onCreate=function(a){c.prototype.uber.onCreate.call(this,a),this.viewFacade=a.viewFacade},c.prototype.onClear=function(){for(var a=["routeInputView","closestFacilityInputView","closestFacilityDetailView","serviceAreaInputView","routeDetailView"],b=0;b<a.length;b++)this.viewFacade.showView(a[b],!1)};var d=c;return d}(b,Pg,Mg),Lh=function(a,b){var c=function(){b.call(this),this.$type="ClosestFacilityParameters,http://www.Gs.com",this.facilities=[],this.incidents=[],this.targetFacilityCount=null,this.defaultCutoff=1e3};return a.extend2(c,b),c.prototype.addFacility=function(a){this.facilities.push(a)},c.prototype.addIncident=function(a){this.incidents.push(a)},c.prototype.setTargetFacilityCount=function(a){this.targetFacilityCount=a},c.prototype.setDefaultCutoff=function(a){this.defaultCutoff=a},c.prototype.clearFacilities=function(){this.facilities.length=0},c.prototype.isValid=function(){return this.incidents.length>0&&this.facilities.length>0},c.prototype.isEqual=function(a,b){var c=1e-4;return Math.abs(a.x-b.x)<c&&Math.abs(a.y-b.y)<c},c.prototype.normalize=function(){this.targetFacilityCount=this.targetFacilityCount>this.facilities.length?this.facilities.length:this.targetFacilityCount;for(var a=0;a<this.incidents.length;a++)for(var b=this.incidents[a],c=a+1;c<this.incidents.length;c++){var d=this.incidents[c];this.isEqual(b,d)&&(this.incidents.splice(c,1),c--)}},c}(b,Hh),Mh=function(a,b,c,d,e,f,g,h){var i=null,j=function(a){var c=a||{};b.call(this,c),this.routeSymbol=c.routeSymbol,this.routeShowSymbol=c.routeShowSymbol,this.incidentPointElement=c.incidentPointElement,this.map=null,this.drawType=h.drawNone,this.symbolTable=null,this.facilitySchemas=null,this.lastElement=null,this.promptbox=null,this.networkAnalysisService=null,this.viewFacade=null,this.progress=null,i=this,this.lastFacilitiesElement=[]};return a.extend2(j,b),j.prototype.onCreate=function(a){j.prototype.uber.onCreate.call(this,a),this.symbolTable=a.symbolTable,this.map=a.map,this.promptbox=a.promptbox,this.viewFacade=a.viewFacade,this.progress=a.progress,this.networkAnalysisService=a.networkAnalysis},j.prototype.onClick=function(a){this.activeCommand(g.ClearNetwork,null),this.closestFacilityParameters=new c,this.viewFacade.activeView("centerView","closestFacilityInputView",{closestFacilityParameters:this.closestFacilityParameters,switchDraw:this.switchDraw,switchFacilities:this.switchFacilities,zoomTo:this.zoomTo,analysis:this.analysis,clearBarrier:this.clearBarrier,onDrawing:this.onDrawing}),j.prototype.uber.onClick.call(this,a),this.setCursor("default")},j.prototype.removeBarrier=function(a){this.closestFacilityParameters.removeBarrier(a)},j.prototype.switchFacilities=function(a){for(var b=0;b<i.lastFacilitiesElement.length;b++)i.removeElement(i.lastFacilitiesElement[b]);i.lastFacilitiesElement.length=0,i.facilitySchema=a;for(var c=i.symbolTable.find(a.getTypeName()),f=a.getCount(),b=0;f>b;b++){var g=a.getFacility(b),h=new e({x:g.x,y:g.y}),j=new d({geometry:h,symbol:c});i.addElement(j),i.lastFacilitiesElement.push(j)}},j.prototype.zoomTo=function(a){i.zoomFacilities(i.map,a)},j.prototype.switchDraw=function(a){switch(i.map.currentTool(i),i.drawBarrier(a),i.drawType=a,a){case h.drawIncidentPoint:i.setCursor("crosshair"),i.switch(i.incidentPointElement)}},j.prototype.onEndDraw=function(a){switch(j.prototype.uber.onEndDraw.call(this,a),this.drawType){case h.drawBarrierPoint:case h.drawBarrierPolyline:case h.drawBarrierPolygon:this.closestFacilityParameters.addBarrier(a.geometry);break;case h.drawIncidentPoint:this.closestFacilityParameters.addIncident(a.geometry)}},j.prototype.analysis=function(){i.closestFacilityParameters.normalize(),i.closestFacilityParameters.isValid()?(i.viewFacade.showView("closestFacilityInputView",!1),i.activeCommand(g.NoopTool,null),i.progress.show(),i.networkAnalysisService.closestFacility(i.closestFacilityParameters,function(a){i.progress.close(),i.showResult(a)},function(a){i.promptbox.error("最近设施分析失败!"),i.progress.close(),i.log.error(a)})):i.promptbox.notify("在进行最近设施分析之前请设置事件点和设施点。")},j.prototype.showResult=function(a){this.activeCommand(g.NoopTool,null);var b=a.group(this.facilitySchema);if(b){if(null!=b&&b.length>0){for(var c=0;c<b.length;c++){var e=b[c].group[0];if(e){var f=new d({geometry:e.route,symbol:this.routeSymbol});this.addElement(f)}}for(var c=0;c<b.length;c++)b[c].incident.name=this.localize("incident")+(c+1);this.viewFacade.activeView("centerView","closestFacilityDetailView",{groups:b,showRoute:this.showRoute})}}else this.promptbox.notify("无分析结果")},j.prototype.showRoute=function(a){null!=i.lastElement&&i.removeElement(i.lastElement),null==i.lastElement?i.lastElement=new d({geometry:a,symbol:i.routeShowSymbol}):i.lastElement.geometry=a,i.addElement(i.lastElement)},j}(b,Gh,Lh,fc,v,B,Mg,Fh),Nh=function(a,b){var c=function(){b.call(this),this.$type="ServiceAreaParameters,http://www.Gs.com",this.facilities=[],this.defaultBreaks=[],this.trimPolygonDistance=0};return a.extend2(c,b),c.prototype.addFacility=function(a){this.facilities.push(a)},c.prototype.addDefaultBreak=function(a){this.defaultBreaks.push(a)},c.prototype.clearDefaultBreaks=function(){this.defaultBreaks.length=0},c.prototype.clearFacilities=function(){this.facilities.length=0},c.prototype.setTrimPolygonDistance=function(a){this.trimPolygonDistance=a},c.prototype.isValid=function(){return this.facilities.length>0},c.prototype.normalize=function(){if(this.defaultBreaks.length<=0)this.defaultBreaks.push("length"==this.impedanceAttribute?500:.5);else for(var a=0;a<this.defaultBreaks.length;a++)for(var b=this.defaultBreaks[a],c=a+1;c<this.defaultBreaks.length;c++){var d=this.defaultBreaks[c];d==b&&(this.defaultBreaks.splice(c,1),c--)}},c}(b,Hh),Oh=function(a,b,c,d,e,f,g){var h=null,i=function(a){var c=a||{};b.call(this,c),this.symbolTable=null,this.serviceAreaParameters=null,this.promptbox=null,this.networkAnalysisService=null,this.viewFacade=null,this.progress=null,this.map=null,h=this,this.lastFacilitiesElement=[]};return a.extend2(i,b),i.prototype.onCreate=function(a){i.prototype.uber.onCreate.call(this,a),this.symbolTable=a.symbolTable,this.map=a.map,this.promptbox=a.promptbox,this.viewFacade=a.viewFacade,this.progress=a.progress,this.networkAnalysisService=a.networkAnalysis},i.prototype.onClick=function(a){this.activeCommand(g.ClearNetwork,null),this.serviceAreaParameters=new c,this.viewFacade.activeView("centerView","serviceAreaInputView",{serviceAreaParameters:this.serviceAreaParameters,switchDraw:this.switchDraw,switchFacilities:this.switchFacilities,zoomTo:this.zoomTo,analysis:this.analysis,clearBarrier:this.clearBarrier,onDrawing:this.onDrawing}),i.prototype.uber.onClick.call(this,a),this.setCursor("default")},i.prototype.removeBarrier=function(a){this.serviceAreaParameters.removeBarrier(a)},i.prototype.switchFacilities=function(a){for(var b=0;b<h.lastFacilitiesElement.length;b++)h.removeElement(h.lastFacilitiesElement[b]);h.lastFacilitiesElement.length=0;for(var c=h.symbolTable.find(a.getTypeName()),e=a.getCount(),b=0;e>b;b++){var g=a.getFacility(b),i=new d({x:g.x,y:g.y}),j=new f({geometry:i,symbol:c});h.addElement(j),h.lastFacilitiesElement.push(j)}},i.prototype.zoomTo=function(a){h.zoomFacilities(h.map,a)},i.prototype.switchDraw=function(a){h.map.currentTool(h),h.drawBarrier(a)},i.prototype.onEndDraw=function(a){i.prototype.uber.onEndDraw.call(this,a),this.serviceAreaParameters.addBarrier(a.geometry)},i.prototype.analysis=function(){h.serviceAreaParameters.normalize(),h.serviceAreaParameters.isValid()?(h.viewFacade.showView("serviceAreaInputView",!1),h.activeCommand(g.NoopTool,null),h.progress.show(),h.networkAnalysisService.serviceArea(h.serviceAreaParameters,function(a){h.progress.close(),h.showResult(a)},function(a){h.promptbox.error("服务范围分析失败!"),h.progress.close(),h.log.error(a)})):h.promptbox.notify("必须要有设施点！")},i.prototype.showResult=function(a){var b=a.group();if(b){if(b.length>0)for(var c=0;c<b.length;c++)for(var d=b[c].length-1;d>=0;d--){var e=this.symbolTable.find("ServiceArea"+(d+1)),g=new f({geometry:b[c][d].serviceArea,symbol:e});this.addElement(g)}}else this.promptbox.notify("无分析结果")},i}(b,Gh,Nh,v,B,fc,Mg),Ph=function(){var a=function(a){var b=a||{};this.name=b.name,this.x=b.x,this.y=b.y};return a}(),Qh=function(a){var b=function(a){var b=a||{};this.typeCode=b.typeCode,this.typeName=b.typeName,this.alias=b.alias,this.facilities=[]};return b.prototype.addFacility=function(b){b instanceof a&&this.facilities.push(b)},b.prototype.getCount=function(){return this.facilities.length},b.prototype.getFacility=function(a){return this.facilities[a]},b.prototype.getTypeCode=function(){return this.typeCode},b.prototype.getTypeName=function(){return this.typeName},b}(Ph),Rh=function(a){var b=function(){this.facilitySchemas=[]};return b.prototype.add=function(b){b instanceof a&&this.facilitySchemas.push(b)},b.prototype.find=function(a){for(var b=0;b<this.facilitySchemas.length;b++)if(this.facilitySchemas[b].typeCode==a)return this.facilitySchemas[b];return null},b.prototype.list=function(){return this.facilitySchemas},b}(Qh,Ph),Sh=function(a,b){var c=function(a){var c=a||{};b.call(this,c),this.plotPlugin=null,this.viewFacade=null};return a.extend2(c,b),c.prototype.onCreate=function(a){this.uber.onCreate.call(this,a),this.plotPlugin=a.plotPlugin,this.viewFacade=a.viewFacade},c.prototype.onClear=function(a){this.viewFacade.showView("plotPropertyView",!1);for(var b=a[0];0!=b.getCount();){var c=b.get(0);this.plotPlugin.removeElement(this,c.id),b.remove(c)}this.plotPlugin.clear()},c}(b,Pg),Th=function(a,b){var c=function(a){b.call(this,a),this.plotPlugin=null,this.viewFacade=null};return a.extend2(c,b),c.prototype.onCreate=function(a){this.uber.onCreate.call(this,a),this.plotPlugin=a.plotPlugin,this.viewFacade=a.viewFacade},c.prototype.onDeleteElement=function(a,b){this.viewFacade.showView("plotPropertyView",!1),this.plotPlugin.removeElement(this,b.id)},c}(b,Ug),Uh=function(a,b,c,d,e,f,g,h){function i(){var h=new b;h.addPoint(new a),h.addPoint(new a);var i=new c;i.addGeometry(h);var j=new e({width:1,color:new d({r:0,g:0,b:0}),style:0}),k=new g;return k.add(new f({geometry:i,symbol:j})),k}var j=h.getRotateAngle,k={none:-1,update:1,move:2,rotate:3},l=function(a){this.plotLayer=a.plotLayer,this.editElement=null,this.rotateElement=i(),this.lastPoint=null,this.editPoint=null,this.drawOp=k.none,this.srid=a.srid};return l.prototype.beginEdit=function(a,b){this.editElement=a,this.drawOp=k.move,this.lastPoint=b},l.prototype.editingElement=function(a,b){this.editElement=a,this.drawOp=k.move,this.lastPoint=b.copy()},l.prototype.editingPoint=function(a,b){this.editPoint=a,this.lastPoint=b;var c=this.editElement.plot;c.isCenterPoint(a)?this.drawOp=k.move:c.isRotatePoint(a)?(this.drawOp=k.rotate,this.updateRotateLine(),this.plotLayer.add(this.rotateElement)):c.isControlPoint(a)&&(this.drawOp=k.update)},l.prototype.endEdit=function(){this.plotLayer.remove(this.rotateElement),this.drawOp=k.none},l.prototype.drag=function(a){switch(this.drawOp){case k.move:this.move({x:a.x-this.lastPoint.x,y:a.y-this.lastPoint.y}),this.lastPoint=a;break;case k.rotate:this.rotate(a),this.updateRotateLine(),this.plotLayer.update(this.rotateElement);break;
case k.update:this.update({x:a.x-this.lastPoint.x,y:a.y-this.lastPoint.y}),this.lastPoint=a}},l.prototype.move=function(a){var b=this.editElement.plot;b.offset(a,2);for(var c=this.editElement.getCount(),d=0;c>d;++d){var e=this.editElement.getItem(d),f=e.geometry.copy();f.offset(a),e.geometry=f}this.plotLayer.update(this.editElement)},l.prototype.update=function(a){this.editPoint.offset(a),this.updateElement(!0)},l.prototype.rotate=function(a){var b=this.rotateAngle(a);if(b){var c=this.editElement.plot;c.offset(b,8),this.updateElement(!1)}},l.prototype.updateElement=function(a){var b=this.editElement.plot,c=this.editElement.algorithm,d=c.createGeometries(b);this.updateGeos(d),a&&b.update(d),this.plotLayer.update(this.editElement)},l.prototype.updateGeos=function(a){for(var b=this.editElement,c=0,d=a.length;d>c;++c){var e=b.elements[c];e.geometry=a[c],e.geometry.spatialReference=this.srid}},l.prototype.rotateAngle=function(a){var b=this.editElement.plot,c=b.getCenterPoint(),d=(b.getRotatePoint(),j(c,this.editPoint,a));return d},l.prototype.updateRotateLine=function(){var a=this.editElement.plot,b=a.getCenterPoint(),c=a.getRotatePoint(),d=this.rotateElement.getItem(0).geometry,e=d.first(),f=e.startPoint(),g=e.endPoint();f.x=b.x,f.y=b.y,g.x=c.x,g.y=c.y},l}(v,B,E,Z,eb,fc,ic,Sd),Vh=function(a,b,c,d,e,f){var g=function(a){var c=a||{};b.call(this,c),this.plotLayer=c.layer,this.map=null,this.selectionSet=null,this.plotPlugin=null,this.currentPlotElement=null,this.mousedownFlag=!1,this.hitNum=0,this.editMode=null};return a.extend2(g,b),g.prototype.deactivate=function(){this.uber.deactivate.call(this),this.endEdit(),this.activeCommand(f.SymbolEditCommand,null)},g.prototype.isEnabled=function(){return g.prototype.uber.isEnabled.call(this),this.plotLayer&&this.plotLayer.getCount()>0?!1:!0},g.prototype.onCreate=function(a){g.prototype.uber.onCreate.call(this,a),this.map=a.map,this.selectionSet=a.graphicSelectionSet,this.plotPlugin=a.plotPlugin;var b=a.spatialRef;this.editMode=new c({plotLayer:this.plotLayer,srid:b.srid})},g.prototype.onClick=function(a){g.prototype.uber.onClick.call(this,a),this.mousedownFlag=!1,this.hitNum=0},g.prototype.onMouseDown=function(a,b,c,e,g,h){this.mousedownFlag=!0;var i=this.plotLayer.hitTest(c,e);if(i){this.hitNum++,this.map.stopDragPan();var j=new d({x:g,y:h}),k=this.editOp(i);switch(k){case 1:this.cancelEdit(this.currentPlotElement),this.beginEdit(i,j),this.activeCommand(f.SymbolEditCommand,i.element);break;case 2:this.editElement(i.element,j),this.activeCommand(f.SymbolEditCommand,i.element);break;case 3:this.editPoint(i.element,j)}}else this.endEdit(),this.activeCommand(f.SymbolEditCommand,null)},g.prototype.onMouseMove=function(a,b,c,e,f,g){if(this.currentPlotElement&&this.mousedownFlag){var h=new d({x:f,y:g});this.editMode.drag(h)}},g.prototype.onMouseUp=function(){this.editMode.endEdit(),!!this.plotPlugin&&!!this.currentPlotElement&&this.plotPlugin.updateElement(this,this.currentPlotElement),this.mousedownFlag=!1},g.prototype.onKeyDown=function(a){46==a&&this.activeCommand(f.PlotDelete,"是否删除该标绘?")},g.prototype.onKeyUp=function(){},g.prototype.editOp=function(a){var b=a.element,c=b.parent;return this.currentPlotElement!==c&&null!=c?1:b&&c?2:b&&!c?3:-1},g.prototype.beginEdit=function(a,b){var c=a.element,d=c.parent;this.currentPlotElement=d;var f=new e({element:d,layer:this.plotLayer});this.selectionSet.add(f),this.plotLayer.selectEdit(f),!this.plotPlugin||this.plotPlugin.selectElement(this,f.element),this.editMode.beginEdit(d,b)},g.prototype.editElement=function(a,b){var c=a.parent;this.editMode.editingElement(c,b)},g.prototype.editPoint=function(a,b){var c=a.geometry;this.editMode.editingPoint(c,b)},g.prototype.endEdit=function(){this.map.resumeDragPan(),this.cancelEdit(this.currentPlotElement),this.editMode.endEdit(),this.activeCommand(f.symboleditCommandName,null),this.hitNum=0,this.currentPlotElement=null},g.prototype.cancelEdit=function(a){var b=new e({element:a});this.plotLayer.unSelectEdit(b),!this.plotPlugin||this.plotPlugin.unSelectElement(this,b.element),this.selectionSet.clear()},g}(b,Wg,Uh,v,kc,Mg),Wh=function(){var a=function(){this.plugins=[]};return a.prototype.addSucessor=function(a){this.plugins.push(a)},a.prototype.addElement=function(a,b){if(this.plugins)for(var c=0;c<this.plugins.length;++c){var d=this.plugins[c];!d.addElement||d.addElement(a,b)}},a.prototype.removeElement=function(a,b){if(this.plugins)for(var c=0;c<this.plugins.length;++c){var d=this.plugins[c];!d.removeElement||d.removeElement(a,b)}},a.prototype.updateElement=function(a,b){if(this.plugins)for(var c=0;c<this.plugins.length;++c){var d=this.plugins[c];!d.updateElement||d.updateElement(a,b)}},a.prototype.showElement=function(a,b,c){if(this.plugins)for(var d=0;d<this.plugins.length;++d){var e=this.plugins[d];!e.showElement||e.showElement(a,b,c)}},a.prototype.clear=function(a){if(this.plugins)for(var b=0;b<this.plugins.length;++b){var c=this.plugins[b];!c.clear||c.clear(a)}},a.prototype.selectElement=function(a,b){if(this.plugins)for(var c=0;c<this.plugins.length;++c){var d=this.plugins[c];!d.selectElement||d.selectElement(a,b)}},a.prototype.unSelectElement=function(a,b){if(this.plugins)for(var c=0;c<this.plugins.length;++c){var d=this.plugins[c];!d.unSelectElement||d.unSelectElement(a,b)}},a}(),Xh=function(a,b,c,d,e,f,g,h){function i(a,b,c,d){for(var f=new e({algorithm:b,kind:d,attributeSet:c}),g=0,h=a.length;h>g;++g){var i=a[g].copy();i.symbol=a[g].symbol,i.kind=d,i.attributeSet=c,f.add(i),f.attributeSet=c}return f}function j(a){var b=new h;if(null!=a&&"undefined"!=typeof a)for(var c=0;c<a.length;c++){var d=new g(a[c]);b.add(d)}return b}var k=12,l=function(a){var b=a||{};b.cursor=b.cursor||"crosshair",c.call(this,b),this.name=b.name,this.plotElementTemplate=i(b.elements,a.algorithm,j(b.plotAttribute),this.name),!b.drawTemplate||(this.drawElement=i([b.drawTemplate]),this.drawElement.reset()),this.plotLayer=b.plotLayer,this.plotElement=null,this.spatialRef=null,this.map=null,this.plotPlugin=null,this.pushNum=0,this.finishCoordinate=null,this.isEndDraw=!1};return a.extend2(l,c),l.prototype.isEnabled=function(){return!this.plotLayer.visible},l.prototype.onCreate=function(a){l.prototype.uber.onCreate.call(this,a),this.map=a.map,this.spatialRef=a.spatialRef,this.plotPlugin=a.plotPlugin},l.prototype.onClick=function(a){l.prototype.uber.onClick.call(this,a),this.pushNum=0,this.plotElement=this.plotElementTemplate.copy()},l.prototype.deactivate=function(){0==this.isEndDraw&&(this.plotLayer.remove(this.plotElement),this.plotLayer.remove(this.drawElement),this.drawElement.getItem(0).geometry=null)},l.prototype.onMouseDown=function(a,b,c,d,e,f){99==this.pushNum?this.pushNum=0:this.entryDraw(a,e,f)},l.prototype.onMouseUp=function(){},l.prototype.onMouseMove=function(a,b,c,e,f,g){if(this.pushNum>=1){var h=new d({x:f,y:g,spatialReference:this.spatialRef.srid});this.drawing(h)}},l.prototype.entryDraw=function(a,b,c){var e=new d({x:b,y:c,spatialReference:this.spatialRef.srid});this.isEndDraw=!1,0==a?0==this.pushNum?this.beginDraw(e):1==this.pushNum&&this.pauseDraw(e):this.endDraw(null)},l.prototype.beginDraw=function(a){this.map.stopDbClick();var c=new Date;this.plotElement=this.plotElementTemplate.copy(),this.plotElement.id=b.newGuid();var d=null,e=null,f=null;d=2!=c.getHours().toString().length?"0"+c.getHours().toString():c.getHours().toString(),e=2!=c.getMinutes().toString().length?"0"+c.getMinutes().toString():c.getMinutes().toString(),f=2!=c.getSeconds().toString().length?"0"+c.getSeconds().toString():c.getSeconds().toString(),this.plotElement.name=this.name+"_"+d+e+f;var g=this.plotElement.plot;g.addControlPoint(a),!this.drawElement||this.plotLayer.add(this.drawElement),this.plotLayer.add(this.plotElement),this.pushNum++,g.controlPointCount()==this.plotElement.algorithm.maxCpt&&this.endDraw(a)},l.prototype.pauseDraw=function(a){var b=this.map.getPixelFromCoordinate([a.x,a.y]);if(this.atFinish(b))return void this.endDraw(null);var c=this.plotElement.algorithm,d=this.plotElement.plot;d.addControlPoint(a);var e=d.controlPointCount();if(e<c.maxCpt){var f=c.createGeometries(d,a);this.updateElement(f)}else this.endDraw(a)},l.prototype.drawing=function(a){var b=this.plotElement.plot,c=this.plotElement.algorithm,d=b.controlPointCount();if(d>=2&&!!this.drawElement&&this.plotLayer.remove(this.drawElement),1==d){var e=c.createGeometries(b,a);e&&!!this.drawElement&&(this.drawElement.getItem(0).geometry=e[0],this.plotLayer.update(this.drawElement))}else{var e=c.createGeometries(b,a);this.updateElement(e)}},l.prototype.updateElement=function(a){this.updatePlotGeometry(a),this.plotLayer.update(this.plotElement)},l.prototype.updatePlotGeometry=function(a){for(var b=this.plotElement.elements,c=0,d=b.length;d>c;++c){var e=b[c],f=a[c];f.setSpatialReference(this.spatialRef.srid),e.geometry=f}},l.prototype.endDraw=function(a){this.isEndDraw=!0,this.finishCoordinate=null;var b=this.plotElement.algorithm;if(this.plotElement.setName(this.plotElement.name),this.plotElement.tag={toolId:this.id,name:this.name},this.plotElement.plot.controlPointCount()>=b.minCpt){for(var c=this.plotElement.plot,d=b.createGeometries(c.copy(),a),e=0;e<d.length;++e)d[e].spatialReference=this.spatialRef.srid;c.update(d),this.normalizeGeos(d),this.updateElement(d)}else this.plotLayer.remove(this.plotElement);!this.plotPlugin||this.plotPlugin.addElement(this,this.plotElement),this.plotElement.reset(),this.reset(),this.onEndDraw(this.plotElement)},l.prototype.onEndDraw=function(){},l.prototype.reset=function(){this.pushNum=0,this.map.resumeDbClick(),this.activeCommand(f.PlotEdit,null),!this.drawElement||(this.drawElement.getItem(0).geometry=null,this.plotLayer.remove(this.drawElement))},l.prototype.normalizeGeos=function(a){for(var b=0,c=a.length;c>b;++b){var d=a[b];d.normalize()}},l.prototype.atFinish=function(a){var b=!1;if(this.finishCoordinate){var c=a[0]-this.finishCoordinate[0],d=a[1]-this.finishCoordinate[1];b=Math.sqrt(c*c+d*d)<k}return this.finishCoordinate=a,b&&(this.finishCoordinate=null),b},l}(b,d,Wg,v,ic,Mg,jc,dc),Yh=function(a,b){var c=null,d=function(a){var c=a||{};b.call(this,c),this.plotLayer=c.layer,this.user=c.user};return a.extend2(d,b),d.prototype.onCreate=function(a){d.prototype.uber.onCreate.call(this,a);var b=a.plotPlugin;b.addSucessor(this)},d.prototype.onClick=function(){d.prototype.uber.onClick.call(this,"rightView","plotManagerView",{plotLayer:this.plotLayer,user:this.user,selectedElement:c})},d.prototype.selectElement=function(a,b){c=b},d.prototype.unSelectElement=function(){c=null},d.prototype.removeElement=function(a,b){!!c&&c.id==b&&(c=null)},d}(b,Og),Zh=function(a,b){var c=function(a){var c=a||{};b.call(this,c),this.user=c.user,this.plotLayer=c.layer,this.viewFacade=null,this.progress=null};a.extend2(c,b),c.prototype.isEnabled=function(){return 0==this.plotLayer.getCount()||this.progress.status()},c.prototype.onCreate=function(a){c.prototype.uber.onCreate.call(this,a),this.viewFacade=a.viewFacade,this.progress=a.progress},c.prototype.onClick=function(a){c.prototype.uber.onClick.call(this,a),this.viewFacade.activeView("centerView","plotSchemaSaveView",{plotLayer:this.plotLayer,user:this.user})};var d=c;return d}(b,Ng),$h=function(a,b){var c=function(a){var c=a||{};b.call(this,c),this.plotLayer=c.layer,this.user=c.user,this.viewFacade=null,this.progress=null};return a.extend2(c,b),c.prototype.isEnabled=function(){return this.progress.status()},c.prototype.onCreate=function(a){c.prototype.uber.onCreate.call(this,a),this.viewFacade=a.viewFacade,this.progress=a.progress},c.prototype.onClick=function(a){c.prototype.uber.onClick.call(this,a),this.viewFacade.activeView("rightView","plotSchemaListView",{plotLayer:this.plotLayer,user:this.user})},c}(b,Ng),_h=function(a,b){var c=function(a){var c=a||{};b.call(this,c),this.plotLayer=c.layer,this.user=c.user,this.viewFacade=null,this.progress=null,this.plotAtrributeConfig=c.plotAtrributeConfig};return a.extend2(c,b),c.prototype.isEnabled=function(){return this.progress.status()},c.prototype.onCreate=function(a){c.prototype.uber.onCreate.call(this,a),this.viewFacade=a.viewFacade,this.progress=a.progress},c.prototype.onClick=function(a){c.prototype.uber.onClick.call(this,a),this.viewFacade.activeView("rightView","plotTypeStatisticView",{plotLayer:this.plotLayer,user:this.user,plotAtrributeConfig:this.plotAtrributeConfig})},c}(b,Ng),ai=function(a,b){var c=function(a){var c=a||{};b.call(this,c),this.plotLayer=c.layer,this.user=c.user,this.plotAtrributeConfig=c.plotAtrributeConfig,this.viewFacade=null,this.progress=null};return a.extend2(c,b),c.prototype.isEnabled=function(){return this.progress.status()},c.prototype.onCreate=function(a){c.prototype.uber.onCreate.call(this,a),this.viewFacade=a.viewFacade,this.progress=a.progress},c.prototype.onClick=function(a){c.prototype.uber.onClick.call(this,a),this.viewFacade.activeView("rightView","plotAttributeStatisticView",{plotLayer:this.plotLayer,user:this.user,plotAtrributeConfig:this.plotAtrributeConfig})},c}(b,Ng),bi=function(a,b,c,d,e,f,g,h,i){var j=function(a){b.call(this,a||{}),this.viewFacade=null,this.plotLayer=a.layer,this.plotAtrributeConfig=a.plotAtrributeConfig};return a.extend2(j,b),j.prototype.onCreate=function(a){j.prototype.uber.onCreate.call(this,a),this.viewFacade=a.viewFacade},j.prototype.onClick=function(a){a?this.showEditView(a,a.symbol):this.closeEditView()},j.prototype.showEditView=function(a,b){var j=a.parent,k={plotLayer:this.plotLayer,element:a,plotAtrributeConfig:this.plotAtrributeConfig};j.attributeSet.attributes.length>0&&"undefined"!=typeof j.attributeSet.attributes?this.viewFacade.activeView("plotPropertyView","plotAttributeView",k):j.getCount()>1?j.elements[1].symbol instanceof h&&b instanceof e?this.viewFacade.activeView("plotPropertyView","fillPropertyView",k):j.elements[1].symbol instanceof h&&b instanceof h||this.viewFacade.activeView("plotPropertyView","complexPropertyView",k):b instanceof f?this.viewFacade.activeView("plotPropertyView","pictureMarkerView",k):b instanceof g?this.viewFacade.activeView("plotPropertyView","simpleMarkerView",k):b instanceof i?this.viewFacade.activeView("plotPropertyView","vectorMarkerView",k):b instanceof e?this.viewFacade.activeView("plotPropertyView","fillPropertyView",k):b instanceof c?this.viewFacade.activeView("plotPropertyView","linePropertyView",k):b instanceof d?this.viewFacade.activeView("plotPropertyView","lineCombinedPropertyView",k):b instanceof h&&this.viewFacade.activeView("plotPropertyView","textPropertyView",k)},j.prototype.closeEditView=function(){this.viewFacade.showView("plotPropertyView",!1)},j}(b,Ng,eb,fb,gb,ib,hb,jb,mb),ci=function(){var a=function(){this.builder=null};return a.prototype.setBuilder=function(a){this.builder=a},a.prototype.build=function(a){return this.builder?this.builder.build(a):void 0},a}(),di=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=function(a){b.call(this),this.map=a.map};return a.extend2(o,b),o.prototype.build=function(a){var b=this.map.findLayer(a);switch(a){case"plotLayer":return this.getPlotLegend(b);case"modelLayer":break;default:if(this.builder)return this.builder.build(b)}},o.prototype.getPlotLegend=function(a){for(var b="{0}图例".replace("{0}",a.getLayerName()),e=new d({id:"",name:b,layerId:""}),f=[],g=a.getCount(),h=0;g>h;h++){var i=a.get(h),j=i.kind,k=f.indexOf(j);if(-1==k){var l=new c({content:j,svg:this.convert(i)});e.add(l),f.push(j)}}return e},o.prototype.convert=function(a){var b=document.createElement("div");if(a instanceof j){var c=a.geometry.envelope(),d=this.createSvg(c),e=this.createPath(a.geometry,a.symbol);return d.appendChild(e),b.appendChild(d),b}if(!(a instanceof k)&&a instanceof l){for(var f=a.getCount(),o=[],p=new m,e=new n,q=0;f>q;q++){var r=a.getItem(q),s=r.geometry,t=s.getGeometryType();if(t==i.Point){var u=r.symbol;if(u instanceof g){var v=this.createImg(u);return b.appendChild(v),b}if(u instanceof h){var w=this.createText();return b.appendChild(w),b}}for(var x=s.getPointCount(),y=0;x>y;y++)e.addPoint(s.getPoint(y));o.push(this.createPath(s,r.symbol))}p.addGeometry(e);for(var c=p.envelope(),d=this.createSvg(c),q=0;q<o.length;q++)d.appendChild(o[q]);return b.appendChild(d),b}},o.prototype.createSvg=function(a){var b=document.createElementNS("http://www.w3.org/2000/svg","svg"),c=this.map.getPixelFromCoordinate([a.minx,a.miny]),d=this.map.getPixelFromCoordinate([a.maxx,a.maxy]),e=Math.abs(parseInt(d[0]-c[0])),f=Math.abs(parseInt(d[1]-c[1])),g=c[0]+" "+(c[1]-f)+" "+e+" "+f;return b.setAttribute("viewBox",g),b.setAttribute("width","30px"),b.setAttribute("height","30px"),b},o.prototype.createPath=function(a,b){for(var c=document.createElementNS("http://www.w3.org/2000/svg","path"),d=a.getPointCount(),e=[],f=0;d>f;f++){var g=a.getPoint(f);e.push(this.map.getPixelFromCoordinate([g.x,g.y]))}for(var h="M"+e[0][0]+" "+e[0][1],f=1;f<e.length;f++)h+=" L"+e[f][0]+" "+e[f][1];var j=a.getGeometryType();switch(j){case i.Polygon:var k=b.fillColor.copy();k.a=null,c.setAttribute("fill",k.toHex());var l=b.borderColor.copy();l.a=null,c.setAttribute("stroke",l.toHex());break;case i.Polyline:var k=b.color.copy();k.a=null,c.setAttribute("stroke",k.toHex()),c.setAttribute("fill","none"),c.setAttribute("style","stroke-width:3px;")}return c.setAttribute("d",h),c},o.prototype.createImg=function(a){var b=document.createElement("img");b.setAttribute("width","30"),b.setAttribute("height","30");var c="data:image/png;base64,"+a.source;return b.setAttribute("src",c),b.setAttribute("draggable","false"),b},o.prototype.createText=function(){var a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttribute("width","30px"),a.setAttribute("height","30px");var b=document.createElementNS("http://www.w3.org/2000/svg","text");return b.setAttribute("x","0"),b.setAttribute("y","15"),b.innerHTML="Text",a.appendChild(b),a},o}(b,ci,Cb,Bb,eb,gb,ib,jb,s,fc,gc,ic,E,B),ei=function(){var a=function(a){var b=a||{};this.id=b.id,this.name=b.name,this.online=b.online,this.x=b.x,this.y=b.y,this.onlineSymbol=b.onlineSymbol,this.offlineSymbol=b.offlineSymbol,this.tag=b.tag};return a}(),fi=function(){var a=function(){};return a.prototype.play=function(){},a.prototype.isPlaying=function(){},a}(),gi=function(a,b,c,d,e,f){function g(a,b,c,d,e){var f={device:a,timer:null,index:0,count:c,isPause:!1,play:function(){f.timer=setInterval(function(){f.isPause||(f.index<f.count?d(f.device,f.index++):f.stop())},b)},pause:function(){f.isPause=!0},"continue":function(){f.isPause=!1},stop:function(){f.index=0,clearInterval(f.timer),e()}};return f}var h,i=function(a){var b=a||{};f.call(this),this.animater=null,this.layer=b.layer,this.trackSymbol=b.trackSymbol,this.map=Zc,this.playing=!1,h=this};return a.extend2(i,f),i.prototype.play=function(a,b,c){this.createPlayDevice(a,c),this.playing=!0;var d=this.calcInterval(b,c),e=c.length;this.animater=g(a,d,e,function(a,b){var d=c[b];h.update(a,d)},function(){this.playing=!1}),this.animater.play()},i.prototype.isPlaying=function(){return this.playing},i.prototype.calcInterval=function(a,b){return a/b.length},i.prototype.createPlayDevice=function(a,b){a.locationEle=this.createLocationEle(a,b),a.trackLineEle=this.createTrackEle(a,b),this.layer.add(a.locationEle),this.layer.add(a.trackLineEle)},i.prototype.update=function(a,b){a.locationEle.geometry.x=b.x,a.locationEle.geometry.y=b.y,this.layer.update(a.locationEle,!1)},i.prototype.createLocationEle=function(a,c){var d=new b({x:c[0].x,y:c[0].y}),f=new e({geometry:d,symbol:a.onlineSymbol});return f},i.prototype.createTrackEle=function(a,f){var g=this.map.spatialReference,h=new d({spatialReference:g}),i=new c({spatialReference:g});h.addGeometry(i);for(var j=0;j<f.length;j++){var k=new b({x:f[j].x,y:f[j].y,spatialReference:g});h.addPoint(k)}var l=new e({geometry:h,symbol:this.trackSymbol});return l},i}(b,v,B,E,fc,fi),hi=function(){var a=function(a){var b=a||{};this.date=b.date,this.x=b.x,this.y=b.y};return a}(),ii=function(){var a=function(a){};return a.prototype.list=function(){},a.prototype.historyPos=function(){},a.prototype.position=function(){},a}(),ji=function(){var a=function(){};return a.prototype.startTrack=function(){},a.prototype.stopAll=function(){},a.prototype.stopDevice=function(){},a}(),ki=function(a,b,c,d,e,f){var g,h=function(a){var b=a||{};f.call(this,b),g=this,this.devices=[],this.deviceProviderMock=b.deviceProviderMock,this.layer=b.layer,this.trackSymbol=b.trackSymbol,this.srid=b.srid,this.timer=setInterval(function(){g.do()},b.interval)};return a.extend2(h,f),h.prototype.startTrack=function(a){this.devices.push(a),a.locationEle=this.createLocationEle(a),a.trackLineEle=this.createTrackEle(a),this.layer.add(a.locationEle),this.layer.add(a.trackLineEle)},h.prototype.do=function(){for(var a=0;a<this.devices.length;++a){var b=this.devices[a];this.track(b)}},h.prototype.track=function(a){var c=this.deviceProviderMock.position(a.id);a.x=c.x,a.y=c.y,a.locationEle.geometry.x=c.x,a.locationEle.geometry.y=c.y,this.layer.update(a.locationEle,!1);var d=new b({x:c.x,y:c.y});a.trackLineEle.geometry.addPoint(d),this.layer.update(a.trackLineEle,!1)},h.prototype.stopAll=function(){for(var a=0;a<this.devices.length;++a){var b=this.devices[a];this.layer.remove(b.locationEle),this.layer.remove(b.trackLineEle)}this.devices=[]},h.prototype.stopDevice=function(a){var b=this.devices.indexOf(a);this.devices.splice(b,1),this.layer.remove(a.locationEle),this.layer.remove(a.trackLineEle)},h.prototype.createLocationEle=function(a){var c=new b({x:a.x,y:a.y}),d=new e({geometry:c,symbol:a.onlineSymbol});return d},h.prototype.createTrackEle=function(a){var f=new b({x:a.x,y:a.y}),g=new d,h=new c({spatialReference:this.sird});g.addGeometry(h),g.addPoint(f);var i=new e({geometry:g,symbol:this.trackSymbol});return i},h}(b,v,B,E,fc,ji),li={CreateMeeting:"CreateMeeting",JoinMeeting:"JoinMeeting",ManageMeeting:"ManageMeeting",BringToTop:"BringToTop",SendToBottom:"SendToBottom",Model:"Model",EarthQuake:"EarthQuake",Fire:"Fire",ModelPlayer:"ModelPlayer",ClearModel:"ClearModel",AddFeature:"AddFeature",EditFeature:"EditFeature",TopologicalRelation:"TopologicalRelation",CenterPointRegion:"CenterPointRegion",Boundary:"Boundary",GeometryBuffer:"GeometryBuffer",ConvexHull:"ConvexHull",Difference:"Difference",Intersect:"Intersect",Union:"Union",SymmetricDifference:"SymmetricDifference",Clip:"Clip",EnvelopeClip:"EnvelopeClip",DrawTopologicalOperator:"DrawTopologicalOperator",Simplify:"Simplify",Cut:"Cut",LineCut:"LineCut",ClearTopology:"ClearTopology",Thematic:"Thematic",ThematicAddTool:"ThematicAddTool",ThematicEditTool:"ThematicEditTool",Chart:"Chart",ClassBreaks:"ClassBreaks",DotDensity:"DotDensity",ClearRender:"ClearRender",Gps:"Gps",ClearGps:"ClearGps",CutVectorLayer:"CutVectorLayer",CutRasterLayer:"CutRasterLayer",ClearCut:"ClearCut",ReGeocoder:"ReGeocoder",SearchAroundAddr:"SearchAroundAddr",IdentifySearchAddr:"IdentifySearchAddr",ClearGeoCoder:"ClearGeoCoder",IdentifySearchAround:"IdentifySearchAround",SimpleFlashAnimationTool:"SimpleFlashAnimationTool",PictureFlashAnimationTool:"PictureFlashAnimationTool",PointSlideAlongLineTool:"PointSlideAlongLineTool",PointSpreadAnimationTool:"PointSpreadAnimationTool"},mi=function(a,b,c,d){var e=null,f=function(a){b.call(this,a||{}),this.consultService=null,this.consultState=null,this.viewFacade=null,this.promptbox=null,this.progress=null,e=this};return a.extend2(f,b),f.prototype.isEnabled=function(){return this.consultState.isInMeeting()||this.progress.status()},f.prototype.onCreate=function(a){f.prototype.uber.onCreate.call(this,a),this.consultService=a.consultService,this.consultState=a.consultState,this.viewFacade=a.viewFacade,this.promptbox=a.promptbox,this.progress=a.progress},f.prototype.onClick=function(a){f.prototype.uber.onClick.call(this,a),this.viewFacade.activeView("centerView","createConsultInputView",{createMeeting:this.createMeeting})},f.prototype.createMeeting=function(a){e.progress.show(),e.consultService.getMeetingSummaries(function(b){e.isExistMeeting(b.summaries,a)?e.messageBox("会议名称重复，是否忽略？").result.then(function(){e.createMeeting2(a)},function(){e.progress.close()}):e.createMeeting2(a)},function(a){e.progress.close(),e.promptbox.error("创建会议失败!"),e.log.error(a)})},f.prototype.isExistMeeting=function(a,b){for(var c=0;c<a.length;c++)if(a[c].name==b)return!0;return!1},f.prototype.createMeeting2=function(a){var b=c.newGuid();this.consultService.createMeeting(b,a,"test",function(a){e.afterMeeting(a)},function(a){e.progress.close(),e.promptbox.error("创建会议失败!"),e.log.error(a)})},f.prototype.afterMeeting=function(a){e.progress.close(),this.activeCommand(d.ManageMeeting,a),this.viewFacade.showView("createConsultInputView",!1)},f}(b,Ng,d,li),ni=function(a,b,c){var d=null,e=function(a){b.call(this,a||{}),this.consultService=null,this.consultState=null,this.viewFacade=null,this.promptbox=null,this.progress=null,d=this};return a.extend2(e,b),e.prototype.isEnabled=function(){return this.consultState.isInMeeting()||this.progress.status()},e.prototype.onCreate=function(a){e.prototype.uber.onCreate.call(this,a),this.consultService=a.consultService,this.consultState=a.consultState,this.viewFacade=a.viewFacade,this.promptbox=a.promptbox,this.progress=a.progress},e.prototype.onClick=function(a){e.prototype.uber.onClick.call(this,a),this.progress.show(),this.consultService.getMeetingSummaries(function(a){var a=a.summaries;a.length>0?(d.progress.close(),d.viewFacade.activeView("centerView","joinConsultInputView",{meetingSummaries:a,joinMeeting:d.joinMeeting})):(d.progress.close(),d.promptbox.notify("当前服务器上没有可用的会议，你可以创建会议！"))},function(a){d.progress.close(),d.promptbox.error("获取会议列表失败!"),d.log.error(a)})},e.prototype.joinMeeting=function(a){this.progress.show(),d.consultService.joinMeeting(a,function(a){d.afterMeeting(a)},function(a){d.progress.close(),d.promptbox.error("加入会议失败!"),d.log.error(a)})},e.prototype.afterMeeting=function(a){d.progress.close(),this.activeCommand(c.ManageMeeting,a),this.viewFacade.showView("joinConsultInputView",!1)},e}(b,Ng,li),oi=function(a,b){var c=null,d=function(a){var d=a||{};b.call(this,d),this.plotLayer=d.plotLayer,this.userId=null,this.viewFacade=null,this.consultState=null,this.promptbox=null,c=this};return a.extend2(d,b),d.prototype.isEnabled=function(){return!this.consultState.isInMeeting()},d.prototype.onCreate=function(a){d.prototype.uber.onCreate.call(this,a),this.consultState=a.consultState,this.viewFacade=a.viewFacade,this.promptbox=a.promptbox;var b=a.user;this.userId=b.userId},d.prototype.onClick=function(a){d.prototype.uber.onClick.call(this,a);var b=a;this.viewFacade.showView("meetingView",{afterEndMeeting:this.afterEndMeeting,reJoinMeeting:this.reJoinMeeting,plotLayer:this.plotLayer,meeting:b,memberId:this.userId}),this.viewFacade.showView("meetingMemberView",{meeting:b}),this.viewFacade.showView("meetingMessageView",{meeting:b})},d.prototype.afterEndMeeting=function(){c.viewFacade.showView("meetingView",!1),c.viewFacade.showView("meetingMemberView",!1),c.viewFacade.showView("meetingMessageView",!1)},d.prototype.reJoinMeeting=function(a){c.onClick(a)},d}(b,Ng),qi=function(){var a=function(){this.handlers=[]};return a.prototype.addHandler=function(a){this.handlers.push(a)},a.prototype.addTextMessage=function(a){for(var b=0;b<this.handlers.length;++b){var c=this.handlers[b];!c.addTextMessage||c.addTextMessage(a)}},a.prototype.addFileMessage=function(a){for(var b=0;b<this.handlers.length;++b){var c=this.handlers[b];!c.addFileMessage||c.addFileMessage(a)}},a.prototype.addUrlMessage=function(a){for(var b=0;b<this.handlers.length;++b){var c=this.handlers[b];!c.addUrlMessage||c.addUrlMessage(a)}},a.prototype.addImageMessage=function(a){for(var b=0;b<this.handlers.length;++b){var c=this.handlers[b];!c.addImageMessage||c.addImageMessage(a)}},a.prototype.addPlotMessage=function(a){for(var b=0;b<this.handlers.length;++b){var c=this.handlers[b];!c.addPlotMessage||c.addPlotMessage(a)}},a.prototype.addMapMessage=function(a){for(var b=0;b<this.handlers.length;++b){var c=this.handlers[b];!c.addMapMessage||c.addMapMessage(a)}},a.prototype.updateMapMessage=function(a){for(var b=0;b<this.handlers.length;++b){var c=this.handlers[b];!c.updateMapMessage||c.updateMapMessage(a)}},a.prototype.removePlotMessage=function(a){for(var b=0;b<this.handlers.length;++b){var c=this.handlers[b];!c.removePlotMessage||c.removePlotMessage(a)}},a.prototype.removeMapMessage=function(a){for(var b=0;b<this.handlers.length;++b){var c=this.handlers[b];!c.removeMapMessage||c.removeMapMessage(a)}},a.prototype.removeFileMessage=function(a){for(var b=0;b<this.handlers.length;++b){var c=this.handlers[b];!c.removeFileMessage||c.removeFileMessage(a)}},a}(),ri=function(){var a=function(){this.handlers=[]};return a.prototype.addHandler=function(a){this.handlers.push(a)},a.prototype.onJoinMember=function(a){for(var b=0;b<this.handlers.length;++b){var c=this.handlers[b];!c.onJoinMember||c.onJoinMember(a)}},a.prototype.onMemberOnline=function(a){for(var b=0;b<this.handlers.length;++b){var c=this.handlers[b];!c.onMemberOnline||c.onMemberOnline(a)}},a.prototype.onExitMember=function(a){for(var b=0;b<this.handlers.length;++b){var c=this.handlers[b];!c.onExitMember||c.onExitMember(a)}},a.prototype.onEndMeeting=function(){for(var a=0;a<this.handlers.length;++a){var b=this.handlers[a];!b.onEndMeeting||b.onEndMeeting()}},a.prototype.onForceExit=function(){for(var a=0;a<this.handlers.length;++a){var b=this.handlers[a];!b.onForceExit||b.onForceExit()}},a.prototype.onTransferChairman=function(a,b){for(var c=0;c<this.handlers.length;++c){var d=this.handlers[c];!d.onTransferChairman||d.onTransferChairman(a,b)}},a.prototype.onDisconnect=function(){for(var a=0;a<this.handlers.length;++a){var b=this.handlers[a];!b.onDisconnect||b.onDisconnect()}},a.prototype.onReconnecting=function(){for(var a=0;a<this.handlers.length;++a){var b=this.handlers[a];!b.onReconnecting||b.onReconnecting()}},a.prototype.onReconnect=function(a){for(var b=0;b<this.handlers.length;++b){var c=this.handlers[b];!c.onReconnect||c.onReconnect(a)}},a}(),si=function(){var a=function(a){};return a.prototype.visit=function(){},a}(),ti=function(){var a={Message:"Message",TextMessage:"TextMessage",ImageMessage:"ImageMessage",UrlMessage:"UrlMessage",FileMessage:"FileMessage",PlotMessage:"PlotMessage",MapMessage:"MapMessage"};return a}(),ui=function(a,b,c){var d=function(a){var c=a||{};b.call(this,c),this.plotLayer=c.plotLayer,this.messageHandler=c.messageHandler,this.map=c.map,this.projectService=c.projectService,this.spatialRef=c.spatialRef};return a.extend2(d,b),d.prototype.addPlotMessage=function(a){this.plotLayer.add(a.element),this.messageHandler.addPlotMessage(a)},d.prototype.addMapMessage=function(a){a.extent.spatialReference!=this.spatialRef.srid&&(a.extent=this.projectService.transform(a.extent,this.spatialRef.srid)),this.map.pan(a.extent,[0,0,0,0])},d.prototype.visit=function(a){var b=a.getType();switch(b){case c.TextMessage:this.messageHandler.addTextMessage(a);break;case c.ImageMessage:this.messageHandler.addImageMessage(a);break;case c.UrlMessage:this.messageHandler.addUrlMessage(a);break;case c.FileMessage:this.messageHandler.addFileMessage(a);break;case c.PlotMessage:this.addPlotMessage(a);break;case c.MapMessage:this.addMapMessage(a)}},d}(b,si,ti),vi=function(a,b){var c=function(b){this.$type="Message,http://www.Gs.com";var c=b||{};this.id=a.newGuid(),this.time=new Date,this.name=c.name,this.from=c.from,this.memberId=c.memberId};return c.prototype.getType=function(){return b.Message},c.prototype.accept=function(){},c.prototype.replace=function(){},c.prototype.reset=function(){},c.prototype.copy=function(){},c}(d,ti),wi=function(a,b,c){var d=function(a){var c=a||{};b.call(this,c),this.$type="TextMessage,http://www.Gs.com",this.fontSize=c.fontSize,this.text=c.text,this.frontFamily=c.frontFamily,this.color=c.color,this.fontWeight=c.fontWeight,this.fontStyle=c.fontStyle};return a.extend2(d,b),d.prototype.getType=function(){return c.TextMessage},d.prototype.accept=function(a){a&&a.visit(this)},d.prototype.copy=function(){return new d(this)
},d}(b,vi,ti),xi=function(a,b,c){var d=function(a){var c=a||{};b.call(this,c),this.plotLayer=c.plotLayer,this.messageHandler=c.messageHandler,this.projectService=c.projectService,this.spatialRef=c.spatialRef};return a.extend2(d,b),d.prototype.removePlotMessage=function(a){this.plotLayer.remove(a.element),this.messageHandler.removePlotMessage(a)},d.prototype.visit=function(a){var b=a.getType();switch(b){case c.PlotMessage:this.removePlotMessage(a);break;case c.MapMessage:this.messageHandler.removeMapMessage(a);break;case c.FileMessage:this.messageHandler.removeFileMessage(a)}},d}(b,si,ti),yi=function(a,b,c){var d=function(a){var c=a||{};b.call(this,c),this.plotLayer=c.plotLayer,this.graphicSelectSet=c.graphicSelectSet,this.messageHandler=c.messageHandler,this.map=c.map,this.projectService=c.projectService,this.spatialRef=c.spatialRef};return a.extend2(d,b),d.prototype.updatePlotMessage=function(a){if(this.plotLayer&&a.element){this.plotLayer.update(a.element),this.plotLayer.update(a.element,!0);for(var b=this.graphicSelectSet.getCount(),c=0;b>c;c++){var d=this.graphicSelectSet.getGraphic(c);if(d.element.id==a.element.id){this.plotLayer.unSelectEdit(d),this.plotLayer.selectEdit(d);break}}}},d.prototype.updateMapMessage=function(a){a.extent.spatialReference!=this.spatialRef.srid&&(a.extent=this.projectService.transform(a.extent,this.spatialRef.srid)),this.map.pan(a.extent,[0,0,0,0])},d.prototype.visit=function(a){var b=a.getType();switch(b){case c.PlotMessage:this.updatePlotMessage(a);break;case c.MapMessage:this.updateMapMessage(a)}},d}(b,si,ti),zi=function(){var a=function(){};return a.prototype.isInMeeting=function(){},a}(),Ai=function(){var a=function(){this.addVisitor=null,this.updateVisitor=null,this.removeVisitor=null};return a.prototype.setAddVisitor=function(a){this.addVisitor=a},a.prototype.setUpdateVisitor=function(a){this.updateVisitor=a},a.prototype.setRemoveVisitor=function(a){this.removeVisitor=a},a.prototype.addMessage=function(a){this.addVisitor&&a.accept(this.addVisitor)},a.prototype.updateMessage=function(a){this.updateVisitor&&a.accept(this.updateVisitor)},a.prototype.removeMessage=function(a){this.removeVisitor&&a.accept(this.removeVisitor)},a}(),window.g2=window.g2||{},window.g2.cmds={CommandNames:null,ActiveViewCommand:null,CancelSelectedCommand:null,ClearLayersCommand:null,Command:null,CompositeClearsCommand:null,CompositeCommand:null,DeleteElementCommand:null,DeleteFeatureCommand:null,DeleteGraphicCommand:null,DrawEditTool:null,DrawTool:null,GeometryBuilder:null,NoopTool:null,PageLayoutTool:null,SelectElementTool:null,SelectFeatureTool:null,SelectRenderFeatureTool:null,SelectMultiTool:null,SelectTool:null,ToggleViewCommand:null,Tool:null,BufferTool:null,SelectBufferElementTool:null,SelectBufferFeatureTool:null,ClearBufferResultCommand:null,ClearLayersCommand:null,ExportMapCommand:null,ExportMapPDFCommand:null,FullExtentCommand:null,MeasureTool:null,IdentifyElementTool:null,IdentifyFeatureTool:null,IdentifyRenderFeatureTool:null,ZoomInCommand:null,ZoomOutCommand:null,HeatMapTool:null,ClearHeatMapCommand:null,ClusterLayerCommand:null,ClearClusterCommand:null,ClearOverlayCommand:null,OverlayWareCommand:null,AddOverlayTool:null,BringElementTopTool:null,SendElementBottomTool:null,RouteTool:null,ClearNetworkCommand:null,ClosestFacilityTool:null,ServiceAreaTool:null,NetworkTool:null,PlotTool:null,PlotEditTool:null,PlotPlugin:null,PlotClearCommand:null,PlotDeleteCommand:null,SymbolEditCommand:null,CreateMeetingCommand:null,JoinMeetingCommand:null,ManageMeetingcommand:null},window.g2.models={Facility:null,FacilitySchema:null,FacilityProvider:null,LegendBuilder:null,DefaultLegendBuilder:null,MessageHandler:null,MeetingHandler:null,AddMessageVisitor:null,RemoveMessageVisitor:null,UpdateMessageVisitor:null,ConsultStatus:null,ConsultVisitor:null,Device:null,DevicePlayer:null,DevicePlayerImpl:null,DevicePosition:null,DeviceProvider:null,DeviceTrackor:null,DeviceTrackorImpl:null},Bi=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb){window.g2.cmds.CommandNames=a,window.g2.cmds.ActiveViewCommand=b,window.g2.cmds.ClearLayersCommand=c,window.g2.cmds.CompositeClearsCommand=d,window.g2.cmds.CancelSelectedCommand=e,window.g2.cmds.Command=f,window.g2.cmds.CompositeCommand=g,window.g2.cmds.DeleteElementCommand=h,window.g2.cmds.DeleteFeatureCommand=i,window.g2.cmds.DeleteGraphicCommand=j,window.g2.cmds.DrawEditTool=k,window.g2.cmds.DrawTool=l,window.g2.cmds.SelectElementTool=m,window.g2.cmds.SelectFeatureTool=n,window.g2.cmds.SelectRenderFeatureTool=o,window.g2.cmds.SelectTool=p,window.g2.cmds.ToggleViewCommand=q,window.g2.cmds.NoopTool=r,window.g2.cmds.Tool=s,window.g2.cmds.PageLayoutTool=t,window.g2.cmds.SelectMultiTool=u,window.g2.cmds.GeometryBuilder=v,window.g2.cmds.BufferTool=w,window.g2.cmds.SelectBufferElementTool=x,window.g2.cmds.SelectBufferFeatureTool=y,window.g2.cmds.ClearBufferResultCommand=z,window.g2.cmds.ExportMapCommand=A,window.g2.cmds.ExportMapPDFCommand=B,window.g2.cmds.FullExtentCommand=C,window.g2.cmds.MeasureTool=D,window.g2.cmds.IdentifyElementTool=E,window.g2.cmds.IdentifyFeatureTool=F,window.g2.cmds.IdentifyRenderFeatureTool=G,window.g2.cmds.ZoomInCommand=H,window.g2.cmds.ZoomOutCommand=I,window.g2.cmds.HeatMapTool=J,window.g2.cmds.ClearHeatMapCommand=K,window.g2.cmds.ClusterLayerCommand=L,window.g2.cmds.ClearClusterCommand=M,window.g2.cmds.ClearOverlayCommand=N,window.g2.cmds.OverlayWareCommand=O,window.g2.cmds.AddOverlayTool=P,window.g2.cmds.BringElementTopTool=Q,window.g2.cmds.SendElementBottomTool=R,window.g2.cmds.RouteTool=T,window.g2.cmds.ClearNetworkCommand=U,window.g2.cmds.ClosestFacilityTool=V,window.g2.cmds.ServiceAreaTool=W,window.g2.cmds.NetworkTool=X,window.g2.models.Facility=Y,window.g2.models.FacilityProvider=$,window.g2.models.FacilitySchema=Z,window.g2.cmds.PlotTool=db,window.g2.cmds.PlotEditTool=bb,window.g2.cmds.PlotClearCommand=_,window.g2.cmds.PlotDeleteCommand=ab,window.g2.cmds.PlotPlugin=cb,window.g2.cmds.PlotManagerCommand=eb,window.g2.cmds.PlotSchemaSaveCommand=fb,window.g2.cmds.PlotSchemaListCommand=gb,window.g2.cmds.PlotTypeStatisticCommand=hb,window.g2.cmds.PlotAttributeStatisticCommand=ib,window.g2.cmds.SymbolEditCommand=jb,window.g2.models.LegendBuilder=kb,window.g2.models.DefaultLegendBuilder=lb,window.g2.models.Device=mb,window.g2.models.DevicePlayer=nb,window.g2.models.DevicePlayerImpl=ob,window.g2.models.DevicePosition=pb,window.g2.models.DeviceProvider=qb,window.g2.models.DeviceTrackor=rb,window.g2.models.DeviceTrackorImpl=sb,window.g2.cmds.CreateMeetingCommand=tb,window.g2.cmds.JoinMeetingCommand=ub,window.g2.cmds.ManageMeetingcommand=vb,window.g2.models.MeetingHandler=xb,window.g2.models.MessageHandler=wb,window.g2.models.AddMessageVisitor=yb,window.g2.models.RemoveMessageVisitor=zb,window.g2.models.UpdateMessageVisitor=Ab,window.g2.models.ConsultStatus=Bb,window.g2.models.ConsultVisitor=Cb}(Mg,Og,Pg,Rg,Sg,Ng,Qg,Ug,Vg,Tg,Xg,Zg,_g,ah,bh,$g,ch,dh,Wg,eh,fh,Yg,jh,kh,lh,mh,nh,oh,ph,qh,rh,sh,th,uh,vh,wh,xh,yh,zh,Ah,Bh,Ch,Dh,Eh,Fh,Jh,Kh,Mh,Oh,Gh,Ph,Qh,Rh,Sh,Th,Vh,Wh,Xh,Yh,Zh,$h,_h,ai,bi,ci,di,ei,fi,gi,hi,ii,ji,ki,mi,ni,oi,qi,ri,ui,xi,yi,zi,Ai),Ci=function(){var a=function(){};return a.prototype.delete=function(){},a.prototype.get=function(){},a.prototype.post=function(){},a.prototype.put=function(){},a}(),Di=function(){var a=function(a){var b=this;a.done(function(a){b.$done(a)}).fail(function(a){b.$error(a)})};return a.prototype.$done=function(){},a.prototype.$error=function(){},a.prototype.success=function(a){return this.$done=a,this},a.prototype.error=function(a){return this.$error=a,this},a}(),Ei=function(a,b,c){var d=function(a){var c=a||{};d.token=c.token,b.call(this)};return a.extend(d,b),d.token="",d.prototype.delete=function(a,b){return new c(d.ajax("delete",a,b))},d.prototype.get=function(a,b,e){return new c(d.ajax("get",a,b,e))},d.prototype.post=function(a,b,e){return new c(d.ajax("post",a,b,e))},d.prototype.put=function(a,b,e){return new c(d.ajax("put",a,b,e))},d.ajax=function(a,b,c,e){return jQuery.ajax({type:a,url:b,data:c,dataType:e,contentType:"application/json",beforeSend:function(a){a.setRequestHeader("Authorization",d.token)}})},d}(b,Ci,Di),Fi=function(){var a=function(a){var b=a||{};this.name=b.name,this.alias=b.alias,this.districtCode=b.districtCode,this.x=b.x,this.y=b.y,this.spatialReference=b.spatialReference};return a}(),Gi=function(){var a=function(){};return a.prototype.list=function(){},a.prototype.listPage=function(){},a.prototype.search=function(){},a}(),Hi=function(a,b,c,d){var e=function(a){b.call(this,a);this.fcs=a.fcs};a.extend2(e,b);var f=[];return e.prototype.list=function(a,b){f.length>0?a(f):this.load(a,b)},e.prototype.listPage=function(a,b,c,d){this.loadPage(a,b,c,d)},e.prototype.search=function(){},e.prototype.load=function(a,b){var e=new c({subFields:"name,districtcode,alias",returnGeometry:!0});this.fcs.query("gis_poi",e,function(b){if(b){for(var c=b.fields.findIndex("name"),e=b.fields.findIndex("districtcode"),g=b.fields.findIndex("alias"),h=0,i=b.getCount();i>h;++h){var j=b.features[h];f.push(new d({name:c>=0?j.values[c].value:"",alias:e>=0?j.values[e].value:"",districtCode:g>=0?j.values[g].value:"",x:null!=j.geometry?j.geometry.x:0,y:null!=j.geometry?j.geometry.y:0,spatialReference:null!=j.geometry?j.geometry.spatialReference:void 0}))}a(f)}},function(){b(f)})},e.prototype.loadPage=function(a,b,e,f){var g=[],h=new c({subFields:"name,districtcode,alias",returnGeometry:!0});this.fcs.pageQuery("gis_poi",h,a,b,function(a){var b=a.featureSet,c=a.count;if(b){for(var f=b.fields.findIndex("name"),h=b.fields.findIndex("alias"),i=b.fields.findIndex("districtcode"),j=0,k=b.getCount();k>j;++j){var l=b.features[j];g.push(new d({name:f>=0?l.values[f].value:"",alias:h>=0?l.values[h].value:"",districtCode:i>=0?l.values[i].value:"",x:null!=l.geometry?l.geometry.x:0,y:null!=l.geometry?l.geometry.y:0,spatialReference:null!=l.geometry?l.geometry.spatialReference:void 0}))}e(g,c)}},function(){f(g)})},e}(b,Gi,gh,Fi),Ii=function(a,b,c){var d,e=function(a){b.call(this,a),this.addresses=null,this.container=a.container,d=this};return a.extend2(e,b),e.prototype.list=function(){},e.prototype.search=function(){},e.prototype.loadAddresses=function(a){if(d.addresses){if(a)return void a(d.addresses)}else{var b=d.container.featureClassService,e="name,districtcode,alias";if(b){var f=new c({subFields:e,returnGeometry:!0});b.query("gis_poi",f,function(b){if(b){d.addresses=[];for(var c=b.fields.findIndex("name"),e=b.fields.findIndex("alias"),f=b.fields.findIndex("districtcode"),g=0,h=b.count();h>g;++g){var i=b.features[g];d.addresses.push(new Object({name:c>=0?i.values[c].value:"",alias:e>=0?i.values[e].value:"",districtCode:f>=0?i.values[f].value:"",x:null!=i.geometry?i.geometry.x:0,y:null!=i.geometry?i.geometry.y:0}))}if(a)return void a(d.addresses)}else if(a)return void a(d.addresses)})}else if(a)return void a(d.addresses)}},e}(b,Gi,gh),Ji=function(){var a=function(a){var b=a||{};this.$type="BufferInput,http://www.Gs.com",this.tableName=b.tableName,this.spatialFilter=b.spatialFilter,this.distance=b.distance};return a}(),Ki=function(){var a=function(a){this.$type="BufferOutput,http://www.Gs.com",a&&(this.featureSet=a.featureSet,this.bufferArea=a.bufferArea)};return a}(),Li=function(){var a=function(){this.alias=null,this.featureType=null,this.name=null,this.fields=null,this.$type="FeatureClassDes,http://www.Gs.com"};return a}(),Mi=function(){var a=function(){this.$type="QueryOutput,http://www.Gs.com",this.count=null,this.featureSet=null};return a}(),Ni=function(){var a=function(){};return a.prototype.list=function(){},a.prototype.find=function(){},a}(),Oi=function(){var a=function(){};return a.prototype.query=function(){},a.prototype.pageQuery=function(){},a.prototype.add=function(){},a.prototype.addFeatures=function(){},a.prototype.delete=function(){},a.prototype.deleteByFilter=function(){},a.prototype.update=function(){},a.prototype.updateByFilter=function(){},a}(),Pi=function(){var a=function(){};return a.prototype.buffer=function(){},a}(),Qi=function(a,b){var c=function(b){a.call(this),this.url=b.url,this.http=b.http,this.deserializer=b.deserializer};return b.extend2(c,a),c.prototype.buffer=function(a,b,c){var d=this.deserializer,e=this.url+"/bufferQuery";this.http.post(e,JSON.stringify(a)).success(function(a){var c=d.createJsInstance(a);c.featureSet.reset(),b(c)}).error(function(a){c(a)})},c}(Pi,b),Ri=function(a,b){var c=function(b){a.call(this),this.url=b.url,this.deserializer=b.deserializer,this.http=b.http};return b.extend2(c,a),c.prototype.find=function(a,b,c){var d=this.deserializer,e=this.url+"/find?tableName="+a;this.http.get(e).success(function(a){b(d.createJsInstance(a))}).error(function(a){c(a)})},c.prototype.list=function(a,b){var c=this.deserializer,d=this.url+"/list";this.http.get(d).success(function(b){a(c.createJsInstance(b))}).error(function(a){b(a)})},c}(Ni,b),Si=function(a,b){var c=function(b){a.call(this),this.url=b.url,this.deserializer=b.deserializer,this.http=b.http};return b.extend2(c,a),c.prototype.query=function(a,b,c,d){var e=this.deserializer,f=this.url+"/query?tableName="+a;this.http.post(f,JSON.stringify(b)).success(function(a){var b=e.createJsInstance(a);b.reset(),c(b)}).error(function(a){d(a)})},c.prototype.pageQuery=function(a,b,c,d,e,f){var g=this.deserializer,h=this.url+"/queryByPagination?tableName="+a+"&count="+c+"&offset="+d;this.http.post(h,JSON.stringify(b)).success(function(a){var b=g.createJsInstance(a);b.featureSet.reset(),e(b)}).error(function(a){f(a)})},c.prototype.add=function(a,b,c,d){var e=this.url+"/add?tableName="+a;this.http.post(e,JSON.stringify(b)).success(function(a){c(a)}).error(function(a){d(a)})},c.prototype.addFeatures=function(a,b,c,d){var e=this.url+"/addFeatureSet?tableName="+a;this.http.post(e,JSON.stringify(b)).success(function(a){c(a)}).error(function(a){d(a)})},c.prototype.delete=function(a,b,c,d){var e=this.url+"/delete?tableName="+a+"&id="+b;this.http.delete(e).success(function(a){c(a)}).error(function(a){d(a)})},c.prototype.deleteByFilter=function(a,b,c,d){var e=this.url+"/DeleteByFilter?tableName="+a;this.http.delete(e,JSON.stringify(b)).success(function(a){c(a)}).error(function(a){d(a)})},c.prototype.update=function(a,b,c,d){var e=this.url+"/update?tableName="+a;this.http.put(e,JSON.stringify(b)).success(function(a){c(a)}).error(function(a){d(a)})},c.prototype.updateByFilter=function(a,b,c,d,e){var f=this.url+"/updateByFilter?filter="+c+"&tableName="+a;this.http.put(f,JSON.stringify(b)).success(function(a){d(a)}).error(function(a){e(a)})},c}(Oi,b),Ti=function(){var a=function(){this.$type="RoadInfo,http://www.Gs.com",this.name=null,this.length=null,this.time=null,this.shortname=null,this.sign=null,this.traveltype=null,this.road=null,this.nextRoad=null};return a.prototype.corner=function(){if(null!=this.nextRoad){var a=this.road,b=this.nextRoad.road,c=a.getPointCount(),d=b.getPointCount(),e=a.getPoint(0),f=a.getPoint(c-1),g=a.getPoint(c-2),h=b.getPoint(0),i=b.getPoint(d-1),j=b.getPoint(1);if(this.isEqual(e,i)&&this.isEqual(h,f))return 180;var k=this.angle(g,h),l=this.angle(h,j),m=k-l;return m>180&&360>m?m-=360:m>-360&&-180>m&&(m+=360),m}return void 0},a.prototype.angle=function(a,b){var c=0;return c=b.x===a.x?b.y>=a.y?Math.PI/2:-Math.PI/2:Math.atan2(b.y-a.y,b.x-a.x),180*c/Math.PI},a.prototype.isEqual=function(a,b){var c=1e-4;return Math.abs(a.x-b.x)<c&&Math.abs(a.y-b.y)<c},a}(),Ui=function(){var a=function(){this.$type="RouteResult,http://www.Gs.com",this.route=null,this.road=null,this.cost=null};return a.prototype.normalize=function(a){if(this.road){var b=this.road.road,c=b.getPoint(0),d=b.getPoint(b.getPointCount()-1),e=this.distance(a,c),f=this.distance(a,d);e>f&&(this.road.road=this.reverse(b)),b=this.road.road;for(var g=this.road,h=this.road.nextRoad;h;){var i=h.road;d=b.getPoint(b.getPointCount()-1),c=i.getPoint(0);var j=i.getPoint(i.getPointCount()-1);(!this.isEqual(d,c)||this.isEqual(d,j))&&(h.road=this.reverse(i)),b=h.road,h=h.nextRoad}this.road=g}},a.prototype.distance=function(a,b){return Math.sqrt(Math.pow(a.x-b.x,2)+Math.pow(a.y-b.y,2))},a.prototype.reverse=function(a){for(var b=a.copy(),c=a.getPointCount(),d=0;c>d;d++)b.removePoint(d);for(var d=c;d>0;d--)b.addPoint(a.getPoint(d-1));return b},a.prototype.isEqual=function(a,b){var c=1e-4;return Math.abs(a.x-b.x)<c&&Math.abs(a.y-b.y)<c},a}(),Vi=function(){var a=function(){this.$type="ClosestFacilityResultItem,http://www.Gs.com",this.route=null,this.facility=null,this.incident=null};return a}(),Wi=function(){var a=function(){this.$type="ClosestFacilityResult,http://www.Gs.com",this.items=[]};return a.prototype.group=function(a){if(this.items.length<1)return null;for(var b=[],c=this.replace(a),d=0;d<c.length;d++){for(var e=[],f=0;f<this.items.length;f++)this.items[f]&&this.isEqual(c[d],this.items[f].incident)&&e.push(this.items[f]);b.push({incident:c[d],group:e})}return b},a.prototype.replace=function(a){for(var b=[],c=a.getCount(),d=0;c>d;d++)for(var e=a.getFacility(d),f=0;f<this.items.length;f++)this.items[f]&&this.isEqual(this.items[f].facility,e)&&(this.items[f].facility=e,b.push(this.items[f].incident));for(var g=0;g<b.length;g++)for(var h=b[g],i=g+1;i<b.length;i++){var j=b[i];this.isEqual(h,j)&&(b.splice(i,1),i--)}return b},a.prototype.isEqual=function(a,b){var c=1e-4;return Math.abs(a.x-b.x)<c&&Math.abs(a.y-b.y)<c},a}(),Xi=function(){var a=function(){this.$type="ServiceAreaResultItem,http://www.Gs.com",this.serviceArea=null,this.routes=[],this.facility=null};return a}(),Yi=function(){var a=function(){this.$type="ServiceAreaResult,http://www.Gs.com",this.items=[]};return a.prototype.group=function(){if(this.items.length<1)return null;for(var a=[],b=this.getFacilities(),c=0;c<b.length;c++){for(var d=[],e=0;e<this.items.length;e++)this.items[e]&&this.isEqual(b[c],this.items[e].facility)&&d.push(this.items[e]);a.push(d)}return a},a.prototype.getFacilities=function(){var a=[];a.push(this.items[0].facility);for(var b=1;b<this.items.length;b++)if(this.items[b]){for(var c=this.items[b].facility,d=0;d<a.length&&!this.isEqual(c,a[d]);d++);if(d<a.length)continue;this.isEqual(c,a[d-1])||a.push(c)}return a},a.prototype.isEqual=function(a,b){var c=1e-4;return Math.abs(a.x-b.x)<c&&Math.abs(a.y-b.y)<c},a}(),Zi=function(){var a=function(){};return a.prototype.route=function(){},a.prototype.closestFacility=function(){},a.prototype.serviceArea=function(){},a}(),$i=function(a,b){var c=function(a){var c=a||{};b.call(this,c),this.url=c.url,this.http=c.http,this.deserializer=a.deserializer};return a.extend2(c,b),c.prototype.route=function(a,b,c){this.solve("/route",a,b,c)},c.prototype.closestFacility=function(a,b,c){this.solve("/closestFacility",a,b,c)},c.prototype.serviceArea=function(a,b,c){this.solve("/serviceArea",a,b,c)},c.prototype.solve=function(a,b,c,d){var e=this.deserializer,f=this.url+a;this.http.post(f,JSON.stringify(b)).success(function(a){c(e.createJsInstance(a))}).error(function(a){d(a)})},c}(b,Zi),_i=function(){var a=function(a){this.$type="PlotSchema,http://www.Gs.com";var b=a||{};this.id=b.id,this.name=b.name,this.userId=b.userId,this.createTime=null,this.elements=[]};return a.prototype.addElement=function(a){this.elements.push(a)},a.prototype.getCount=function(){return this.elements.length},a.prototype.getElement=function(a){return this.elements[a]},a}(),aj=function(){var a=function(){this.$type="PlotSchemaSummary,http://www.Gs.com",this.name=null,this.createTime=null,this.id=null};return a}(),bj=function(){var a=function(){};return a.prototype.list=function(){},a.prototype.save=function(){},a.prototype.load=function(){},a.prototype.delete=function(){},a}(),cj=function(a,b){var c=function(a){b.call(this,a||{});var c=a||{};this.url=c.url,this.http=c.http,this.deserializer=a.deserializer};return a.extend2(c,b),c.prototype.list=function(a,b,c,d,e){var f=this.deserializer,g=this.url+"/history?userId="+a+"&beginTime="+encodeURIComponent(b)+"&endTime="+encodeURIComponent(c);this.http.get(g).success(function(a){d(f.createJsInstance(a))}).error(function(a){e(a)})},c.prototype.save=function(a,b,c){var d=this.url;this.http.post(d,JSON.stringify(a)).success(function(a){b(a)}).error(function(a){c(a)})},c.prototype.load=function(a,b,c){var d=this.url+"?schemaId="+a,e=this.deserializer;this.http.get(d).success(function(a){b(e.createJsInstance(a))}).error(function(a){c(a)})},c.prototype.delete=function(a,b,c){var d=this.url+"?schemaId="+a;this.http.delete(d).success(function(){b()}).error(function(){c()})},c}(b,bj),dj=function(a){var b="{0}?REQUEST=GetFeatureInfo&EXCEPTIONS=application/json&BBOX={1}&X={x}&Y={y}&INFO_FORMAT=application/json&QUERY_LAYERS={2}&FEATURE_COUNT={3}&Layers={2}&Srs={4}&WIDTH={5}&HEIGHT={6}&format={7}",c=function(a){var b=a||{};this.url=b.url,this.layer=b.layer,this.format=b.format||"image/png",this.infoFormat=b.infoFormat||"application/json",this.count=b.count||50,this.srs=b.srs};return c.prototype.identify=function(c,d,e,f,g,h){var i=b.replace("{0}",this.url).replace("{1}",[d.minx,d.miny,d.maxx,d.maxy]).replace("{x}",Math.round(e)).replace("{y}",Math.round(f)).replace("{2}",this.layer).replace("{2}",this.layer).replace("{3}",this.count).replace("{4}",this.srs).replace("{5}",c[0]).replace("{6}",c[1]).replace("{7}",this.format);jQuery.ajax({method:"get",url:i,datatype:"json",contenttype:"application/json"}).success(function(b){!g||g(a.fromJson(b))}).error(function(a){!h||h(a)})},c}(Yc),ej=function(){var a=function(){};return a.prototype.contains=function(){},a.prototype.crosses=function(){},a.prototype.disjoint=function(){},a.prototype.equals=function(){},a.prototype.intersects=function(){},a.prototype.overlaps=function(){},a.prototype.touches=function(){},a.prototype.within=function(){},a.prototype.judgeTopoRelation=function(){},a}(),fj=function(a,b){var c=function(a){var c=a||{};b.call(this),this.url=c.url,this.deserializer=c.deserializer,this.http=c.http};return a.extend2(c,b),c.prototype.contains=function(a,b,c,d){this.solve("/contains",a,b,c,d)},c.prototype.crosses=function(a,b,c,d){this.solve("/crosses",a,b,c,d)},c.prototype.disjoint=function(a,b,c,d){this.solve("/disjoint",a,b,c,d)},c.prototype.equals=function(a,b,c,d){this.solve("/equals",a,b,c,d)},c.prototype.intersects=function(a,b,c,d){this.solve("/intersects",a,b,c,d)},c.prototype.overlaps=function(a,b,c,d){this.solve("/overlaps",a,b,c,d)},c.prototype.touches=function(a,b,c,d){this.solve("/touches",a,b,c,d)},c.prototype.within=function(a,b,c,d){this.solve("/within",a,b,c,d)},c.prototype.solve=function(a,b,c,d,e){var f=[];f.push(b),f.push(c);var g=this.url+a;this.http.post(g,JSON.stringify(f)).success(function(a){null!=b?d(a,b.target):d(a)}).error(function(a){e(a)})},c.prototype.judgeTopoRelation=function(a,b,c,d,e){var f=this.deserializer,g=[];g.push(a),g.push(b);var h=this.url+"/judgeTopoRelation?topoRelationList="+c;this.http.post(h,JSON.stringify(g)).success(function(a){d(f.createJsInstance(a))}).error(function(a){e(a)})},c}(b,ej),gj=function(){var a={Contains:1,Crosses:2,Disjoint:4,Equals:8,Intersects:16,Overlaps:32,Touches:64,Within:128};return a}(),hj=function(){var a=function(a){var b=a||{};this.$type="TopologicalRelation,http://www.Gs.com",this.relations=b.relations};return a.prototype.contains=function(a){return a&this.relations},a}(),ij=function(){var a=function(){};return a.prototype.boundary=function(){},a.prototype.buffer=function(){},a.prototype.simplify=function(){},a.prototype.convexHull=function(){},a.prototype.difference=function(){},a.prototype.intersect=function(){},a.prototype.union=function(){},a.prototype.symmetricDifference=function(){},a.prototype.clip=function(){},a.prototype.cut=function(){},a}(),jj=function(a,b){var c=function(a){var c=a||{};b.call(this),this.url=c.url,this.deserializer=c.deserializer,this.http=c.http};return c.prototype.boundary=function(a,b,c){var d=this.deserializer,e=this.url+"/boundary";this.http.post(e,JSON.stringify(a)).success(function(a){b(""!=a?d.createJsInstance(a):a)}).error(function(a){c(a)})},c.prototype.buffer=function(a,b,c,d){var e=this.deserializer,f=this.url+"/buffer?distance="+b;this.http.post(f,JSON.stringify(a)).success(function(a){c(e.createJsInstance(a))}).error(function(a){d(a)})},c.prototype.simplify=function(a,b,c,d){var e=this.deserializer,f=this.url+"/simplify?distanceTolerance="+b;this.http.post(f,JSON.stringify(a)).success(function(a){c(e.createJsInstance(a))}).error(function(a){d(a)})},c.prototype.convexHull=function(a,b,c){var d=this.deserializer,e=this.url+"/convexHull";this.http.post(e,JSON.stringify(a)).success(function(a){b(d.createJsInstance(a))}).error(function(a){c(a)})},c.prototype.difference=function(a,b,c,d){this.solve("/difference",a,b,c,d)},c.prototype.intersect=function(a,b,c,d){this.solve("/intersect",a,b,c,d)},c.prototype.union=function(a,b,c,d){this.solve("/union",a,b,c,d)},c.prototype.symmetricDifference=function(a,b,c,d){this.solve("/symmetricDifference",a,b,c,d)},c.prototype.clip=function(a,b,c,d){this.solve("/clip",a,b,c,d)},c.prototype.cut=function(a,b,c,d){this.solve("/cut",a,b,c,d)},c.prototype.solve=function(a,b,c,d,e){var f=this.deserializer,g=this.url+a,h=[];h.push(b),h.push(c),this.http.post(g,JSON.stringify(h)).success(function(a){d(f.createJsInstance(a))}).error(function(a){e(a)})},c}(b,ij),kj=function(){var a=function(a){var b=a||{};this.$type="CutResult,http://www.Gs.com",this.leftGeometry=b.leftGeometry,this.rightGeometry=b.rightGeometry};return a}(),lj=function(){var a=function(){};return a.prototype.reGeocode=function(){},a}(),mj=function(){var a=function(){};return a.prototype.search=function(){},a}(),nj=function(a,b){var c=function(a){var c=a||{};b.call(this),this.url=c.url,this.http=c.http};return a.extend2(c,b),c.prototype.reGeocode=function(a,b,c,d,e,f){var g=this.url+"/regeo?location="+a+"&coord_type="+b+"&get_poi="+c+"&output="+d;this.http.get(g).success(function(a){e(a)}).error(function(a){f(a)})},c}(b,lj),oj=function(a,b){var c=function(a){var c=a||{};b.call(this),this.url=c.url,this.http=c.http};return a.extend2(c,b),c.prototype.search=function(a,b,c,d,e,f,g,h){var i=this.url+"/search?keyword="+encodeURIComponent(a)+"&boundary="+b+"&filter="+c+"&page_size="+d+"&page_index="+e+"&output="+f;this.http.get(i).success(function(a){g(a)}).error(function(a){h(a)})},c}(b,mj),pj=function(){var a=function(){};return a.prototype.cutRaster=function(){},a.prototype.cutVector=function(){},a}(),qj=function(a,b){var c=function(a){var c=a||{};b.call(this),this.url=c.url,this.deserializer=c.deserializer,this.http=c.http};return a.extend2(c,b),c.prototype.cutVector=function(a,b,c,d){var e=this.deserializer,f=this.url+"/cutVector?tableName="+a;this.http.post(f,JSON.stringify(b)).success(function(a){var b=e.createJsInstance(a);b.reset(),c(b)}).error(function(a){d(a)})},c}(b,pj,ih,hh),rj=function(a,b){var c="{url}?version={version}&crs={crs}&request=GetCoverage&coverage={coverage}&bbox={bbox}&width={width}&height={height}&format={format}&service=WCS",d=function(a){var c=a||{};b.call(this),this.url=c.url,this.version=c.version,this.crs=c.crs,this.coverage=c.coverage,this.width=c.width,this.height=c.height,this.format=c.format};return a.extend2(d,b),d.prototype.cutRaster=function(a){var b=a.minx+","+a.miny+","+a.maxx+","+a.maxy,d=c.replace("{url}",this.url).replace("{version}",this.version).replace("{crs}",this.crs).replace("{coverage}",this.coverage).replace("{bbox}",b).replace("{width}",this.width).replace("{height}",this.height).replace("{format}",this.format),e=document.createElement("a");document.body.appendChild(e),e.setAttribute("href",d),e.click(),document.body.removeChild(e)},d}(b,pj),sj=function(a,b,c){var d=function(a){var c=a||{};b.call(this,c),this.$type="PlotMessage,http://www.Gs.com",this.id=c.id,this.element=c.element};return a.extend2(d,b),d.prototype.getType=function(){return c.PlotMessage},d.prototype.accept=function(a){a&&a.visit(this)},d.prototype.replace=function(a){a&&this.element.replace(a.element)},d.prototype.reset=function(){this.element&&this.element.reset()},d}(b,vi,ti),tj=function(a,b,c){var d=function(a){var c=a||{};b.call(this,c),this.$type="ImageMessage,http://www.Gs.com",this.height=c.height,this.width=c.width,this.imageName=c.imageName,this.imageBlob=c.imageBlob};return a.extend2(d,b),d.prototype.getType=function(){return c.ImageMessage},d.prototype.accept=function(a){a&&a.visit(this)},d}(b,vi,ti),uj=function(a,b,c){var d=function(a){var c=a||{};b.call(this,c),this.$type="MapMessage,http://www.Gs.com",this.extent=c.extent,this.center=c.center,this.resolution=c.resolution};return a.extend2(d,b),d.prototype.getType=function(){return c.MapMessage},d.prototype.repleace=function(a){a&&(this.extent=a.extent,this.center=a.center,this.resolution=a.resolution)},d.prototype.accept=function(a){a&&a.visit(this)},d}(b,vi,ti),vj=function(a,b,c){var d=function(a){var c=a||{};b.call(this,c),this.$type="UrlMessage,http://www.Gs.com",this.urlType=c.urlType,this.url=c.url};return a.extend2(d,b),d.prototype.getType=function(){return c.UrlMessage},d.prototype.accept=function(a){a&&a.visit(this)},d}(b,vi,ti),wj=function(a,b,c){var d=function(a){var c=a||{};b.call(this,c),this.$type="FileMessage,http://www.Gs.com",this.fileName=c.fileName,this.size=c.size,this.isComplated=!1};return a.extend2(d,b),d.prototype.getType=function(){return c.FileMessage},d.prototype.accept=function(a){a&&a.visit(this)},d}(b,vi,ti),xj=function(){var a=function(a){this.$type="MeetingMember,http://www.Gs.com";this.messages=[],this.id=null,this.state=null,this.name=null,this.isChairman=null};return a.prototype.add=function(a){this.messages.push(a)},a.prototype.find=function(a){var b=this.findIndex(a);return b>=0?this.messages[b]:null},a.prototype.findIndex=function(a){for(var b=0,c=this.messages.length;c>b;++b){var d=this.messages[b];if(d.id===a)return b}return-1},a.prototype.getMessages=function(){return this.messages},a.prototype.isExist=function(a){return this.findIndex(a)>=0},a.prototype.update=function(a){var b=this.findIndex(a.id);b>=0&&(this.messages[b]=a)},a.prototype.remove=function(a){var b=this.findIndex(a);b>=0&&this.messages.splice(b,1)},a}(),yj=function(){var a=function(a){this.$type="Meeting,http://www.Gs.com";var b=a||{};this.members=[],this.id=b.id,this.name=b.name,this.tag=null,this.createTime=b.createTime};return a.prototype.add=function(a){this.members.push(a)},a.prototype.remove=function(a){var b=this.findIndex(a);b>=0&&this.members.splice(b,1)},a.prototype.find=function(a){var b=this.findIndex(a);return b>=0?this.members[b]:null},a.prototype.findIndex=function(a){for(var b=0,c=this.members.length;c>b;++b){var d=this.members[b];if(d.id===a)return b}return-1},a.prototype.findMemberByMsgId=function(a){for(var b=0;b<this.members.length;b++){var c=this.members[b];if(c.isExist(a))return c}return null},a}(),zj=function(){var a=function(){this.$type="MeetingSummary,http://www.Gs.com",this.id=null,this.name=null,this.tag=null,this.createTime=null,this.chairman=null,this.members=[],this.description=null};return a}(),Aj=function(){var a=function(){this.$type="MeetingSummaries,http://www.Gs.com",this.summaries=[]};return a}(),Bj=function(){var a=function(){};return a.prototype.query=function(){},a.prototype.query=function(){},a.prototype.queryOnLineMemeber=function(){},a.prototype.queryAllOnLineMemeber=function(){},a.prototype.download=function(){},a}(),Cj=function(){var a=function(){};return a.prototype.createMeeting=function(){},a.prototype.checkMeeting=function(){},a.prototype.joinMeeting=function(){},a.prototype.exitMeeting=function(){},a.prototype.endMeeting=function(){},a.prototype.forceExitMeeting=function(){},a.prototype.transferChairman=function(){},a.prototype.add=function(){},a.prototype.update=function(){},a.prototype.remove=function(){},a.prototype.isExistMeeting=function(){},a.prototype.getMeetingSummaries=function(){},a}(),Dj=function(){var a=function(){this.callback=null
};return a.prototype.addCallback=function(a){this.callback=a},a.prototype.onJoinMember=function(a){this.callback&&this.callback.onJoinMember(a)},a.prototype.onExitMember=function(a){this.callback&&this.callback.onExitMember(a)},a.prototype.onEndMeeting=function(){this.callback&&this.callback.onEndMeeting()},a.prototype.onForceExit=function(){this.callback&&this.callback.onForceExit()},a.prototype.onTransferChairman=function(a,b){this.callback&&this.callback.onTransferChairman(a,b)},a.prototype.onAdd=function(a,b){this.callback&&this.callback.onAdd(a,b)},a.prototype.onUpdate=function(a,b){this.callback&&this.callback.onUpdate(a,b)},a.prototype.onRemove=function(a,b){this.callback&&this.callback.onRemove(a,b)},a}(),Ej=function(){function a(a){function b(b,c){return function(){c.apply(b,a.makeArray(arguments))}}function c(c,d){var e,f,g,h,i;for(e in c)if(c.hasOwnProperty(e)){if(f=c[e],!f.hubName)continue;i=d?f.on:f.off;for(g in f.client)if(f.client.hasOwnProperty(g)){if(h=f.client[g],!a.isFunction(h))continue;i.call(f,g,b(f,h))}}}if("function"!=typeof a.signalR)throw new Error("SignalR: SignalR is not loaded. Please ensure jquery.signalR-x.js is referenced before ~/signalr/js.");var d=a.signalR;a.hubConnection.prototype.createHubProxies=function(){var b={};return this.starting(function(){c(b,!0),this._registerSubscribedHubs()}).disconnected(function(){c(b,!1)}),b.ConsultService=this.createHubProxy("ConsultService"),b.ConsultService.client={},b.ConsultService.server={add:function(){return b.ConsultService.invoke.apply(b.ConsultService,a.merge(["Add"],a.makeArray(arguments)))},checkMeeting:function(){return b.ConsultService.invoke.apply(b.ConsultService,a.merge(["CheckMeeting"],a.makeArray(arguments)))},createMeeting:function(){return b.ConsultService.invoke.apply(b.ConsultService,a.merge(["CreateMeeting"],a.makeArray(arguments)))},endMeeting:function(){return b.ConsultService.invoke.apply(b.ConsultService,a.merge(["EndMeeting"],a.makeArray(arguments)))},exitMeeting:function(){return b.ConsultService.invoke.apply(b.ConsultService,a.merge(["ExitMeeting"],a.makeArray(arguments)))},forceExitMeeting:function(){return b.ConsultService.invoke.apply(b.ConsultService,a.merge(["ForceExitMeeting"],a.makeArray(arguments)))},getMeetingSummaries:function(){return b.ConsultService.invoke.apply(b.ConsultService,a.merge(["GetMeetingSummaries"],a.makeArray(arguments)))},isExistMeeting:function(){return b.ConsultService.invoke.apply(b.ConsultService,a.merge(["IsExistMeeting"],a.makeArray(arguments)))},joinMeeting:function(){return b.ConsultService.invoke.apply(b.ConsultService,a.merge(["JoinMeeting"],a.makeArray(arguments)))},remove:function(){return b.ConsultService.invoke.apply(b.ConsultService,a.merge(["Remove"],a.makeArray(arguments)))},transferChairman:function(){return b.ConsultService.invoke.apply(b.ConsultService,a.merge(["TransferChairman"],a.makeArray(arguments)))},update:function(){return b.ConsultService.invoke.apply(b.ConsultService,a.merge(["Update"],a.makeArray(arguments)))}},b},d.consultHub=a.hubConnection("/signalr",{useDefaultPath:!1}),a.extend(d,d.consultHub.createHubProxies())}var b=function(){require.signalR;return a(window.jQuery,window),$.connection};return b}(),Fj=function(){var a=function(){this.observer=null};return a.prototype.addObserver=function(a){this.observer=a},a.prototype.onConnected=function(){this.observer&&this.observer.onConnected()},a.prototype.onDisconnect=function(){this.observer&&this.observer.onDisconnect()},a.prototype.onReconnecting=function(){this.observer&&this.observer.onReconnecting()},a.prototype.onReconnect=function(){this.observer&&this.observer.onReconnect()},a}(),Gj=function(a,b,c,d){var e=null,f=function(a){var f=a||{};b.call(this,f),c.call(this,f),this.url=f.url,this.clientId=f.clientId,this.userName=f.userName,this.callback=f.callback,this.observer=f.observer,this.deserialize=f.deserializer,this.proxy=new d,this.log=f.log,e=this};return a.extend2(f,b),a.extend2(f,c),f.prototype.init=function(){this.proxy.consultHub.url=this.url,this.proxy.consultHub.reconnected(this.reconnected),this.proxy.consultHub.stateChanged(this.stateChanged),this.proxy.consultHub.reconnecting(this.reconnecting),this.proxy.consultHub.error(this.error),this.proxy.ConsultService.state={clientId:this.clientId,userName:this.userName},this.proxy.ConsultService.client={OnJoinMember:this.onJoinMember,OnExitMember:this.onExitMember,OnEndMeeting:this.onEndMeeting,OnForceExitMeeting:this.onForceExit,OnTransferChairman:this.onTransferChairman,OnAdd:this.onAdd,OnUpdate:this.onUpdate,OnRemove:this.onRemove}},f.prototype.reconnected=function(){e.observer.onReconnect(),e.log&&e.log.info((new Date).toLocaleTimeString()+": reconnected!")},f.prototype.reconnecting=function(){e.observer.onReconnecting(),e.log&&e.log.info((new Date).toLocaleTimeString()+": reconnecting!")},f.prototype.error=function(a){e.log&&e.log.info((new Date).toLocaleTimeString()+": error-"+a)},f.prototype.stateChanged=function(a){var b=["connecting","connected","reconnecting","unknown","disconnected"];1==a.oldState&&2==a.newState?e.observer.onDisconnect():4==a.oldState&&2==a.newState||0==a.oldState&&2==a.newState?e.observer.onReconnecting():0==a.oldState&&1==a.newState?e.observer.onConnected():2==a.oldState&&1==a.newState||4==a.oldState&&1==a.newState?e.observer.onReconnect():0==a.oldState&&4==a.newState||1==a.oldState&&4==a.newState||2==a.oldState&&4==a.newState?e.observer.onDisconnect():1==a.oldState&&0==a.newState||2==a.oldState&&0==a.newState||4==a.oldState&&0==a.newState,e.log&&e.log.info((new Date).toLocaleTimeString()+": old state: "+b[a.oldState]+", new state: "+b[a.newState])},f.prototype.start=function(a,b){this.proxy.consultHub.start().done(a).fail(b)},f.prototype.stop=function(){this.proxy.consultHub.stop()},f.prototype.createMeeting=function(a,b,c,d,f){this.proxy.consultHub.exception(f),this.start(function(){e.proxy.ConsultService.server.createMeeting(a,b,c).then(function(a){a?(e.proxy.consultHub.clearExceptionHandle(),d(e.deserialize.createJsInstance(a))):f("undefined")})},function(){})},f.prototype.joinMeeting=function(a,b,c){this.proxy.consultHub.exception(c),this.start(function(){e.proxy.ConsultService.server.joinMeeting(a).then(function(a){a?(e.proxy.consultHub.clearExceptionHandle(),b(e.deserialize.createJsInstance(a))):c("undefined")})},function(){})},f.prototype.exitMeeting=function(a){this.proxy.consultHub.exception(a),this.proxy.ConsultService.server.exitMeeting()},f.prototype.endMeeting=function(a){this.proxy.consultHub.exception(a),this.proxy.ConsultService.server.endMeeting()},f.prototype.forceExitMeeting=function(a,b){this.proxy.consultHub.exception(b),this.proxy.ConsultService.server.forceExitMeeting(a)},f.prototype.transferChairman=function(a,b,c){this.proxy.consultHub.exception(c),this.proxy.ConsultService.server.transferChairman(a,b)},f.prototype.add=function(a,b){this.proxy.consultHub.exception(b),this.proxy.ConsultService.server.add(a)},f.prototype.update=function(a,b){this.proxy.consultHub.exception(b),this.proxy.ConsultService.server.update(a)},f.prototype.remove=function(a,b){this.proxy.consultHub.exception(b),this.proxy.ConsultService.server.remove(a)},f.prototype.checkMeeting=function(a,b,c){this.proxy.consultHub.exception(c),this.start(function(){e.proxy.ConsultService.server.checkMeeting(a).then(function(a){void 0!==a?(e.stop(),e.proxy.consultHub.clearExceptionHandle(),b(a)):(e.stop(),c("undefined"))})},function(){})},f.prototype.isExistMeeting=function(a,b,c){this.proxy.consultHub.exception(c),this.start(function(){e.proxy.ConsultService.server.isExistMeeting(a).then(function(a){void 0!==a?(e.stop(),e.proxy.consultHub.clearExceptionHandle(),b(a)):(e.stop(),c("undefined"))})},function(){})},f.prototype.getMeetingSummaries=function(a,b){this.proxy.consultHub.exception(b),this.start(function(){e.proxy.ConsultService.server.getMeetingSummaries().then(function(c){c?(e.stop(),e.proxy.consultHub.clearExceptionHandle(),a(e.deserialize.createJsInstance(c))):(e.stop(),b("undefined"))})},function(){})},f.prototype.onJoinMember=function(a){var b=e.deserialize.createJsInstance(a);e.callback.onJoinMember(b)},f.prototype.onExitMember=function(a){e.callback.onExitMember(a),e.proxy.ConsultService.state.clientId==a&&e.proxy.consultHub.stop()},f.prototype.onEndMeeting=function(){e.callback.onEndMeeting(),e.proxy.consultHub.stop()},f.prototype.onForceExit=function(a){e.callback.onForceExit(a)},f.prototype.onTransferChairman=function(a,b){e.callback.onTransferChairman(a,b)},f.prototype.onAdd=function(a,b){var c=e.deserialize.createJsInstance(b);e.callback.onAdd(a,c)},f.prototype.onUpdate=function(a,b){var c=e.deserialize.createJsInstance(b);e.callback.onUpdate(a,c)},f.prototype.onRemove=function(a,b){e.callback.onRemove(a,b)},f}(b,Cj,Dj,Ej),Hj=function(a,b){var c=function(a){var c=a||{};b.call(this,c),this.url=c.url,this.deserializer=a.deserializer,this.http=a.http};return a.extend2(c,b),c.prototype.query=function(a,b,c,d){var e=this.deserializer,f=this.url+"/Query?startTime="+a+"&endTime="+b;this.http.get(f).success(function(a){c(e.createJsInstance(a))}).error(function(a){d(a)})},c.prototype.query=function(a,b,c){var d=this.deserializer,e=this.url+"/Query?keyWord="+a;this.http.get(e).success(function(a){b(d.createJsInstance(a))}).error(function(a){c(a)})},c.prototype.queryOnLineMemeber=function(a,b,c){var d=this.deserializer,e=this.url+"/QueryOnLineMemeber?meetingId="+a;this.http.get(e).success(function(a){b(d.createJsInstance(a))}).error(function(a){c(a)})},c.prototype.queryAllOnLineMemeber=function(a,b){var c=this.deserializer,d=this.url+"/QueryAllOnLineMemeber";this.http.get(d).success(function(b){a(c.createJsInstance(b))}).error(function(a){b(a)})},c.prototype.download=function(a,b,c){var d=this.deserializer,e=this.url+"/Download?meetingId="+a;this.http.get(e).success(function(a){b(d.createJsInstance(a))}).error(function(a){c(a)})},c}(b,Bj),Ij=function(){var a=function(){};return a.prototype.upload=function(){},a.prototype.download=function(){},a.prototype.delete=function(){},a}(),Jj=function(a,b){var c=function(a){b.call(this),this.url=a.url,this.token=a.token};return a.extend2(c,b),c.prototype.upload=function(a,b,c,d){var e=new FormData;e.append("path",""),e.append("fileName",a),e.append("file",b);var f=new XMLHttpRequest;f.open("POST",this.url),f.setRequestHeader("Authorization",this.token),f.onload=function(){4==this.readyState&&200==this.status?c():d()},f.onerror=function(a){d(a)},f.send(e)},c.prototype.download=function(a,b,c){var d=new XMLHttpRequest,e=this.url+"?remoteFile="+a;d.responseType="blob",d.open("get",e),d.setRequestHeader("Authorization",this.token),d.onload=function(){4==this.readyState&&200==this.status?b(this.response):c()},d.onerror=function(a){c(a)},d.send()},c.prototype.delete=function(a,b,c){var d=new XMLHttpRequest,e=this.url+"?remoteFile="+a;d.open("delete",e),d.setRequestHeader("Authorization",this.token),d.onload=function(){4==this.readyState&&200==this.status?b():c()},d.onerror=function(a){c(a)},d.send()},c}(b,Ij),window.g2=window.g2||{},window.g2.commu={IHttp:null,AjaxHttp:null},window.g2.addr={Address:null,IAddressService:null,LocalAddressService:null,RestAddressService:null},window.g2.iden={IdentifyService:null},window.g2.gdb={FeatureClassDes:null,QueryFilter:null,QueryOutput:null,SpatialFilter:null,SpatialRel:null,BufferInput:null,BufferOutput:null,IBufferService:null,IFeatureClassDesService:null,IFeatureClassService:null,RestBufferService:null,RestFeatureClassDesService:null,RestFeatureClassService:null},window.g2.geocoder={IGeoCoderService:null,IPlaceSearchService:null,RestGeoCoderService:null,RestPlaceSearchService:null},window.g2.network={RouteParameters:null,ClosestFacilityParameters:null,ServiceAreaParameters:null,RoadInfo:null,RouteResult:null,ClosestFacilityResultItem:null,ClosestFacilityResult:null,ServiceAreaResultItem:null,ServiceAreaResult:null,INetworkAnalysisService:null,RestNetworkAnalysisService:null},window.g2.plot={PlotSchemaSummary:null,PlotSchema:null,IPlotService:null,RestPlotService:null},window.g2.topo={TopologicalRelationType:null,TopologicalRelation:null,RestTopologicalRelationService:null,RestTopologicalOperatorService:null,CutResult:null,ITopologicalRelationService:null,ITopologicalOperatorService:null},window.g2.cut={ICutLayerService:null,CutVectorLayerService:null,CutRasterLayerService:null},window.g2.cont={MessageType:null,Message:null,PlotMessage:null,TextMessage:null,ImageMessage:null,MapMessage:null,UrlMessage:null,FileMessage:null,MessageVisitor:null,MeetingMember:null,Meeting:null,MeetingSummary:null,MeetingSummaries:null,ConsultHub:null,IConsultService:null,ConsultServiceCallback:null,ConnectStateObserver:null,HubConsultService:null,IConsultQueryService:null,RestConsultQueryService:null},window.g2.file={IFileService:null,RestFileService:null},Kj=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb){window.g2.commu.IHttp=a,window.g2.commu.AjaxHttp=b,window.g2.addr.Address=c,window.g2.addr.IAddressService=d,window.g2.addr.LocalAddressService=e,window.g2.addr.RestAddressService=f,window.g2.iden.IdentifyService=J,window.g2.gdb.FeatureClassDes=i,window.g2.gdb.QueryOutput=k,window.g2.gdb.QueryFilter=j,window.g2.gdb.SpatialFilter=l,window.g2.gdb.SpatialRel=m,window.g2.gdb.BufferInput=g,window.g2.gdb.BufferOutput=h,window.g2.gdb.RestBufferService=q,window.g2.gdb.RestFeatureClassDesService=r,window.g2.gdb.RestFeatureClassService=s,window.g2.gdb.IBufferService=p,window.g2.gdb.IFeatureClassDesService=n,window.g2.gdb.IFeatureClassService=o,window.g2.geocoder.IGeoCoderService=R,window.g2.geocoder.IPlaceSearchService=S,window.g2.geocoder.RestGeoCoderService=T,window.g2.geocoder.RestPlaceSearchService=U,window.g2.network.RouteParameters=u,window.g2.network.ClosestFacilityParameters=v,window.g2.network.ServiceAreaParameters=w,window.g2.network.RoadInfo=x,window.g2.network.RouteResult=y,window.g2.network.ClosestFacilityResultItem=z,window.g2.network.ClosestFacilityResult=A,window.g2.network.ServiceAreaResultItem=B,window.g2.network.ServiceAreaResult=C,window.g2.network.INetworkAnalysisService=D,window.g2.network.RestNetworkAnalysisService=E,window.g2.plot.PlotSchema=F,window.g2.plot.PlotSchemaSummary=G,window.g2.plot.RestPlotService=I,window.g2.plot.IPlotService=H,window.g2.topo.RestTopologicalRelationService=L,window.g2.topo.TopologicalRelation=N,window.g2.topo.TopologicalRelationType=M,window.g2.topo.RestTopologicalOperatorService=P,window.g2.topo.CutResult=Q,window.g2.topo.ITopologicalRelationService=K,window.g2.topo.ITopologicalOperatorService=O,window.g2.cut.ICutLayerService=V,window.g2.cut.CutVectorLayerService=W,window.g2.cut.CutRasterLayerService=X,window.g2.cont.MessageType=Y,window.g2.cont.Message=Z,window.g2.cont.MessageVisitor=ob,window.g2.cont.PlotMessage=$,window.g2.cont.TextMessage=_,window.g2.cont.ImageMessage=ab,window.g2.cont.MapMessage=bb,window.g2.cont.UrlMessage=cb,window.g2.cont.FileMessage=db,window.g2.cont.MeetingMember=eb,window.g2.cont.Meeting=fb,window.g2.cont.MeetingSummary=gb,window.g2.cont.MeetingSummaries=hb,window.g2.cont.ConsultHub=lb,window.g2.cont.IConsultService=jb,window.g2.cont.HubConsultService=nb,window.g2.cont.ConsultServiceCallback=kb,window.g2.cont.ConnectStateObserver=mb,window.g2.cont.IConsultQueryService=ib,window.g2.cont.RestConsultQueryService=pb,window.g2.file.IFileService=qb,window.g2.file.RestFileService=rb,window.g2.lang.ClassTable.addClassCollection([window.g2.gdb,window.g2.network,window.g2.plot,window.g2.geocoder,window.g2.topo,window.g2.cont]),window.g2.lang.ClassTable.addClass("System.Object",Object),window.g2.lang.ClassTable.addClass("System.Collections.Generic.Dictionary`2[[System.String",Object)}(Ci,Ei,Fi,Gi,Hi,Ii,Ji,Ki,Li,gh,Mi,hh,ih,Ni,Oi,Pi,Qi,Ri,Si,Hh,Ih,Lh,Nh,Ti,Ui,Vi,Wi,Xi,Yi,Zi,$i,_i,aj,bj,cj,dj,ej,fj,gj,hj,ij,jj,kj,lj,mj,nj,oj,pj,qj,rj,ti,vi,sj,wi,tj,uj,vj,wj,xj,yj,zj,Aj,Bj,Cj,Dj,Ej,Fj,Gj,si,Hj,Ij,Jj)}();